var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameStart_1 = require("./script/GameStart");
var UIInGame_1 = require("./script/ui/UIInGame");
var UIMain_1 = require("./script/ui/UIMain");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameStart.ts", GameStart_1.default);
        reg("script/ui/UIInGame.ts", UIInGame_1.default);
        reg("script/ui/UIMain.ts", UIMain_1.default);
    };
    GameConfig.width = 1136;
    GameConfig.height = 640;
    GameConfig.scaleMode = "showall";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "UI/UIMain.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = false;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameStart":4,"./script/ui/UIInGame":19,"./script/ui/UIMain":20}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var GameCore_1 = require("./script/GameCore");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        GameConfig_1.default.height = 0; //调用默认生成的脚本方法
        if (window["Laya3D"])
            Laya3D.init(GameCore_1.default.width, GameCore_1.default.height);
        else
            Laya.init(GameCore_1.default.width, GameCore_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameCore_1.default.scaleMode;
        Laya.stage.screenMode = GameCore_1.default.screenMode;
        Laya.stage.alignH = GameCore_1.default.alignH;
        Laya.stage.alignV = GameCore_1.default.alignV;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameCore_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameCore_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameCore_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameCore_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        GameCore_1.default.Init();
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1,"./script/GameCore":3}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainState_1 = require("./State/MainState");
var UIManager_1 = require("./Managers/UIManager");
var StateManager_1 = require("./Managers/StateManager");
var ConfigManager_1 = require("./Managers/ConfigManager");
var GameCore = /** @class */ (function (_super) {
    __extends(GameCore, _super);
    //#endregion
    //#endregion  
    //#region 方法
    // "showall"
    function GameCore() {
        var _this = _super.call(this) || this;
        _this._mgrList = [];
        _this._dataUpdateTimer = 0;
        GameCore._core = _this;
        _this.layerLogic = Laya.stage.addChild(new Laya.Node());
        _this.layerScene = Laya.stage.addChild(new Laya.Sprite()); //可見最底层
        _this.layerUI = Laya.stage.addChild(new Laya.Sprite());
        _this.layerOver = Laya.stage.addChild(new Laya.Sprite());
        _this.mgrUI = UIManager_1.default.Creat();
        _this.mgrState = StateManager_1.default.Creat();
        _this.mgrConfig = ConfigManager_1.default.Creat();
        _this._mgrList.push(_this.mgrUI);
        _this._mgrList.push(_this.mgrState);
        _this.mgrConfig.LoadConfig(Laya.Handler.create(_this, _this.OnConfigLoaded));
        return _this;
    }
    Object.defineProperty(GameCore, "Core", {
        get: function () {
            if (GameCore._core == null) {
                var tnode = Laya.stage.addChild(new Laya.Node());
                var tsc = tnode.addComponent(GameCore);
            }
            return GameCore._core;
        },
        enumerable: true,
        configurable: true
    });
    GameCore.Init = function () {
        if (GameCore._core != null)
            return;
        GameCore.Core;
    };
    GameCore.DestroyCore = function () {
        if (GameCore._core != null) {
            GameCore._core.destroy();
            GameCore._core = null;
        }
    };
    GameCore.prototype.OnConfigLoaded = function () {
        this.mgrState.GotoState(new MainState_1.default());
    };
    GameCore.prototype.destroy = function () {
        this.layerLogic.destroy();
        this.layerScene.destroy();
        this.layerUI.destroy();
        this.layerOver.destroy();
        _super.prototype.destroy.call(this);
    };
    GameCore.prototype.onUpdate = function () {
        var dt = Math.min(Laya.timer.delta * 0.001, 0.5);
        var self = this;
        var tinterval = GameCore.dataUpdateInterval;
        var topentry = GameCore.openTryCache;
        var ttimer = self._dataUpdateTimer + dt;
        var tisUpdateData = false;
        if (ttimer >= tinterval) {
            tisUpdateData = true;
            self._dataUpdateTimer = ttimer;
        }
        var tlist = this._mgrList;
        for (var index = 0; index < tlist.length; index++) {
            var element = tlist[index];
            if (topentry) {
                try {
                    self.UpdateElement(element, dt, tisUpdateData);
                }
                catch (error) {
                    console.error(element.managerName + "---" + error);
                }
            }
            else {
                self.UpdateElement(element, dt, tisUpdateData);
            }
        }
    };
    GameCore.prototype.UpdateElement = function (element, dt, isUpdateData) {
        element.Update(dt);
        if (isUpdateData)
            element.UpdateData();
    };
    //#region config
    /**
 * <p>缩放模式。默认值为 "noscale"。</p>
 * <p><ul>取值范围：
 * <li>"noscale" ：不缩放；</li>
 * <li>"exactfit" ：全屏不等比缩放；</li>
 * <li>"showall" ：最小比例缩放；</li>
 * <li>"noborder" ：最大比例缩放；</li>
 * <li>"full" ：不缩放，stage的宽高等于屏幕宽高；</li>
 * <li>"fixedwidth" ：宽度不变，高度根据屏幕比缩放；</li>
 * <li>"fixedheight" ：高度不变，宽度根据屏幕比缩放；</li>
 * <li>"fixedauto" ：根据宽高比，自动选择使用fixedwidth或fixedheight；</li>
 * </ul></p>
 */
    GameCore.width = 720;
    GameCore.height = 1280;
    GameCore.scaleMode = "showall";
    GameCore.screenMode = "none";
    GameCore.alignV = "center";
    GameCore.alignH = "middle";
    GameCore.startScene = "GameStart.scene";
    GameCore.sceneRoot = "";
    GameCore.debug = false;
    GameCore.stat = true;
    GameCore.physicsDebug = false;
    GameCore.exportSceneToJson = true;
    GameCore.dataUpdateInterval = 0.2;
    GameCore.openTryCache = false;
    //#endregion
    //#region core核心组件
    GameCore._core = null;
    return GameCore;
}(Laya.Script));
exports.default = GameCore;
},{"./Managers/ConfigManager":11,"./Managers/StateManager":12,"./Managers/UIManager":13,"./State/MainState":16}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("./GameCore");
var MainState_1 = require("./State/MainState");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameStart = /** @class */ (function (_super) {
    __extends(GameStart, _super);
    function GameStart() {
        return _super.call(this) || this;
    }
    GameStart.prototype.createChildren = function () {
        _super.prototype.createChildren.call(this);
        this.loadScene("GameStart");
    };
    GameStart.prototype.onAwake = function () {
        //Laya.Scene3D.load("testscene/level1.ls",Laya.Handler.create(this,this.onComplete));
        //添加3D场景
        // var tscene: Laya.Scene3D = this.addChild(new Laya.Scene3D()) as Laya.Scene3D;
        // this.owner3d = tscene;
        // var camera:Laya.Camera = (tscene.addChild(new Laya.Camera( 0, 0.1, 100))) as Laya.Camera;
        //     camera.transform.translate(new Laya.Vector3(1, 6, 10));
        //     camera.transform.rotate(new Laya.Vector3( -30, 0, 0), true, false);
        //     camera.clearColor = null;
        //     var directionLight:Laya.DirectionLight = tscene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;
        //     directionLight.diffuseColor = new Laya.Vector3(0.6, 0.6, 0.6);
        //     directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        //     //添加自定义模型
        //     var sphere:Laya.MeshSprite3D = tscene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(1,100,100))) as Laya.MeshSprite3D;
        //     sphere.transform.rotate(new Laya.Vector3(0,90,0),false,false);
        //     sphere.transform.translate(new Laya.Vector3(0,3,0));
        //     sphere.meshRenderer.material = new Laya.BlinnPhongMaterial;
        //     var material:Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();
        //     Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function(tex:Laya.Texture2D):void {
        //         material.albedoTexture = tex;
        //     }));
        //     sphere.meshRenderer.material = material;
        //     //添加物理组件
        //     sphere.addComponent(Laya.PhysicsCollider);
        //     //给球添加刚体
        //     var rigid:Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);
        //     //有刚体的shape要加在刚体上
        //     rigid.colliderShape = new Laya.SphereColliderShape(1);
        //     //添加一个地板
        //     var floor:Laya.MeshSprite3D = tscene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10,10))) as Laya.MeshSprite3D;
        //     //给地板添加物理组件
        //     var floorCollicar:Laya.PhysicsCollider = floor.addComponent(Laya.PhysicsCollider);
        //     // 添加collidershape
        //     floorCollicar.colliderShape = new Laya.BoxColliderShape(10,0,10);
        //     //克隆一个球                
        //     Laya.timer.once(1000,this,function():void{
        //       //一秒之后复制一个球
        //          var cloneSphere:Laya.MeshSprite3D = Laya.Sprite3D.instantiate(sphere) as Laya.MeshSprite3D;
        //         //设置位置偏移
        //          cloneSphere.transform.translate(new Laya.Vector3(1,4,0));
        //         //添加到场景
        //         tscene.addChild(cloneSphere);
        //     });
        Laya.Scene3D.load('testscene/level1.ls', Laya.Handler.create(this, this.onComplete));
        console.log(this.btn_texttest);
        console.log(this.testScene_btn);
        // var testcount = 0;
        // this.testScene_btn.on(laya.events.Event.CLICK, this, function () { this.btn_texttest.text = String(testcount); testcount++; });
        GameCore_1.default.Core.mgrState.GotoState(new MainState_1.default());
        // GameCore.mgrUI.ShowUI("UIMain",function(sui){
        //     console.log(sui);
        // });
        // Laya.Scene.load("prefab/testimage.prefab",Laya.Handler.create(this,function(res){
        //     this.addChild(res);
        // }));
    };
    GameStart.prototype.onComplete = function (sceneres) {
        // 将场景加到舞台上
        GameCore_1.default.Core.layerScene.addChild(sceneres);
        // this.addChildAt(sceneres,0);
        //     //添加自定义模型
        var sphere = sceneres.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(1, 100, 100)));
        sphere.transform.rotate(new Laya.Vector3(0, 90, 0), false, false);
        sphere.transform.translate(new Laya.Vector3(0, 3, 0));
        sphere.meshRenderer.material = new Laya.BlinnPhongMaterial;
        var material = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        sphere.meshRenderer.material = material;
        //添加物理组件
        sphere.addComponent(Laya.PhysicsCollider);
        //给球添加刚体
        var rigid = sphere.addComponent(Laya.Rigidbody3D);
        rigid.colliderShape = new Laya.SphereColliderShape(1);
        // this.removeSelf();
    };
    return GameStart;
}(Laya.Scene));
exports.default = GameStart;
},{"./GameCore":3,"./State/MainState":16}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Asset;
(function (Asset) {
    var AssetLoader = /** @class */ (function () {
        function AssetLoader() {
            this._assets = [];
        }
        AssetLoader.Load = function (url, complete, progress, type, priority, cache, group, ignoreCache, useWorkerLoader) {
            Laya.loader.load(url, Laya.Handler.create(this, function (event) {
                if (complete != null) {
                    complete.runWith(event);
                }
            }), progress, type, priority, cache, group, ignoreCache, useWorkerLoader);
        };
        AssetLoader.Creat = function (url, complete, progress, type, constructParams, propertyParams, priority, cache) {
            Laya.loader.create(url, Laya.Handler.create(this, function (event) {
                if (complete != null) {
                    complete.runWith(event);
                }
            }), progress, type, constructParams, propertyParams, priority, cache);
        };
        return AssetLoader;
    }());
    Asset.AssetLoader = AssetLoader;
})(Asset = exports.Asset || (exports.Asset = {}));
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Log;
(function (Log) {
    var LogColor;
    (function (LogColor) {
        LogColor[LogColor["NONE"] = 0] = "NONE";
        LogColor[LogColor["BLUE"] = 1] = "BLUE";
        LogColor[LogColor["YELLO"] = 2] = "YELLO";
        LogColor[LogColor["RED"] = 3] = "RED";
        LogColor[LogColor["GREEN"] = 4] = "GREEN";
        LogColor[LogColor["AQUA"] = 5] = "AQUA";
        LogColor[LogColor["WHITE"] = 6] = "WHITE";
    })(LogColor = Log.LogColor || (Log.LogColor = {}));
    var DLogType;
    (function (DLogType) {
        DLogType[DLogType["Log"] = 1] = "Log";
        DLogType[DLogType["Warning"] = 2] = "Warning";
        DLogType[DLogType["Error"] = 3] = "Error";
        DLogType[DLogType["Assert"] = 4] = "Assert";
        DLogType[DLogType["TrueLog"] = 5] = "TrueLog";
    })(DLogType = Log.DLogType || (Log.DLogType = {}));
    var DLog = /** @class */ (function () {
        function DLog() {
        }
        DLog.IsShow = function (pType) {
            var ret = pType - DLog.MinLogType;
            if (ret < 0)
                return false;
            return true;
        };
        DLog.ColorString = function (_color) {
            var ret;
            switch (_color) {
                case LogColor.BLUE:
                    ret = "<color=blue>";
                    break;
                case LogColor.YELLO:
                    ret = "<color=yellow>";
                    break;
                case LogColor.RED:
                    ret = "<color=red>";
                    break;
                case LogColor.GREEN:
                    ret = "<color=green>";
                    break;
                case LogColor.AQUA:
                    ret = "<color=aqua>";
                    break;
                case LogColor.WHITE:
                    ret = "<color=white>";
                    break;
            }
            return ret;
        };
        DLog.LOGColor = function (pType, pMsg, pColor) {
            if (!DLog.IsShow(pType))
                return;
            switch (pType) {
                case DLogType.TrueLog:
                case DLogType.Log:
                    console.log(pMsg);
                    break;
                case DLogType.Error:
                    console.error(pMsg);
                    break;
                case DLogType.Warning:
                    console.warn(pMsg);
                    break;
                case DLogType.Assert:
                    console.assert(false, pMsg);
                    break;
                default:
                    break;
            }
        };
        DLog.Log = function (pObject) {
            if (!DLog.IsShow(DLogType.Log))
                return;
            DLog.LOGColor(DLogType.Log, pObject, LogColor.NONE);
        };
        DLog.LogWarning = function (pObject) {
            if (!DLog.IsShow(DLogType.Warning))
                return;
            DLog.LOGColor(DLogType.Warning, pObject, LogColor.NONE);
        };
        DLog.LogError = function (pObject) {
            if (!DLog.IsShow(DLogType.Error))
                return;
            DLog.LOGColor(DLogType.Error, pObject, LogColor.NONE);
        };
        DLog.LogAssertion = function (pObject) {
            if (!DLog.IsShow(DLogType.Assert))
                return;
            DLog.LOGColor(DLogType.Assert, pObject, LogColor.NONE);
        };
        DLog.MinLogType = DLogType.Log;
        return DLog;
    }());
    Log.DLog = DLog;
})(Log = exports.Log || (exports.Log = {}));
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventManager = /** @class */ (function () {
    function EventManager() {
        this.eventHandles = [];
    }
    Object.defineProperty(EventManager, "Instance", {
        get: function () {
            if (EventManager._instance == null)
                EventManager._instance = new EventManager();
            return EventManager._instance;
        },
        enumerable: true,
        configurable: true
    });
    EventManager.RegEvent = function (eventKey, callBack) {
        if (EventManager.Instance.eventHandles[eventKey] == null)
            EventManager.Instance.eventHandles[eventKey] = new EventGroup(eventKey);
        EventManager.Instance.eventHandles[eventKey].Add(callBack);
    };
    EventManager.UnRegEvent = function (eventKey, callBack) {
        if (EventManager.Instance.eventHandles[eventKey] == null)
            return;
        EventManager.Instance.eventHandles[eventKey].Remove(callBack);
    };
    EventManager.DispatchEvent = function (eventKey, data) {
        if (EventManager.Instance.eventHandles[eventKey] == null)
            return;
        EventManager.Instance.eventHandles[eventKey].DispatchEvent(data);
    };
    EventManager._instance = null;
    return EventManager;
}());
exports.default = EventManager;
var EventGroup = /** @class */ (function () {
    function EventGroup(key) {
        this._calls = [];
        this.EventKey = key;
    }
    EventGroup.prototype.Add = function (callBack) {
        var tindex = this._calls.indexOf(callBack);
        if (tindex !== -1)
            return;
        this._calls.push(callBack);
    };
    EventGroup.prototype.Remove = function (callBack) {
        var tindex = this._calls.indexOf(callBack);
        if (tindex !== -1)
            this._calls.splice(tindex, 1);
    };
    EventGroup.prototype.DispatchEvent = function (data) {
        for (var i = 0; i < this._calls.length; i++) {
            var element = this._calls[i];
            element.runWith(data);
        }
    };
    return EventGroup;
}());
exports.EventGroup = EventGroup;
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventManager_1 = require("./Event/EventManager");
var Dlog_1 = require("./Dlog");
var NodePool_1 = require("./Pool/NodePool");
var AssetLoader_1 = require("./Asset/AssetLoader");
var LE;
(function (LE) {
    var AssetLoader = /** @class */ (function (_super) {
        __extends(AssetLoader, _super);
        function AssetLoader() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return AssetLoader;
    }(AssetLoader_1.Asset.AssetLoader));
    LE.AssetLoader = AssetLoader;
    var Event = /** @class */ (function (_super) {
        __extends(Event, _super);
        function Event() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return Event;
    }(EventManager_1.default));
    LE.Event = Event;
    var DLog = /** @class */ (function (_super) {
        __extends(DLog, _super);
        function DLog() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return DLog;
    }(Dlog_1.Log.DLog));
    LE.DLog = DLog;
    var NodePool = /** @class */ (function (_super) {
        __extends(NodePool, _super);
        function NodePool() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return NodePool;
    }(NodePool_1.Pool.NodePool));
    LE.NodePool = NodePool;
})(LE = exports.LE || (exports.LE = {}));
},{"./Asset/AssetLoader":5,"./Dlog":6,"./Event/EventManager":7,"./Pool/NodePool":9}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Pool;
(function (Pool) {
    var NodePool = /** @class */ (function () {
        function NodePool() {
            this._groupList = [];
        }
        NodePool.prototype.SetCreater = function (pCreater) {
            this._creater = pCreater;
        };
        NodePool.prototype.SetDestroyer = function (pDestroyer) {
            this._destroyer = pDestroyer;
        };
        NodePool.prototype.Get = function (pKey) {
            if (pKey == null || pKey.length == 0)
                return;
            var tgp = this._groupList[pKey];
            var ret;
            if (tgp != null)
                ret = tgp.Get();
            if (ret == null && this._creater != null)
                ret = this._creater(pKey);
            return ret;
        };
        NodePool.prototype.Push = function (pKey, pNode) {
            var n = this;
            var tgp;
            if (n._groupList[pKey] == null)
                n._groupList[pKey] = new NodeGroup(pKey);
            tgp = n._groupList[pKey];
            tgp.Push(pNode);
        };
        NodePool.prototype.Clear = function () {
            var tlist = this._groupList;
            for (var key in tlist) {
                if (tlist.hasOwnProperty(key)) {
                    var e = tlist[key];
                    e.Clear(this._destroyer);
                }
            }
            this._groupList = [];
        };
        return NodePool;
    }());
    Pool.NodePool = NodePool;
    var NodeGroup = /** @class */ (function () {
        function NodeGroup(pKey) {
            this._queue = [];
            this.Key = pKey;
        }
        NodeGroup.prototype.Get = function () {
            var n = this;
            if (n._queue == null || n._queue.length == 0)
                return null;
            return n._queue.pop();
        };
        NodeGroup.prototype.Push = function (pNode) {
            var n = this;
            if (n._queue == null)
                n._queue = [];
            if (n._queue.indexOf(pNode) == -1)
                n._queue.push(pNode);
        };
        NodeGroup.prototype.Clear = function (pDestroyer) {
            var tlist = this._queue;
            for (var i = 0; i < tlist.length; i++) {
                var e = tlist[i];
                tlist[i] = null;
                if (pDestroyer != null)
                    pDestroyer(e);
            }
            tlist = null;
        };
        return NodeGroup;
    }());
    Pool.NodeGroup = NodeGroup;
})(Pool = exports.Pool || (exports.Pool = {}));
},{}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseManager = /** @class */ (function () {
    function BaseManager(nd, nameStr) {
        this._node = nd;
        this.managerName = nameStr;
    }
    BaseManager.Creat = function () {
        return null;
    };
    BaseManager.prototype.Update = function (dt) {
    };
    BaseManager.prototype.UpdateData = function () {
    };
    return BaseManager;
}());
exports.default = BaseManager;
},{}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseManager_1 = require("./BaseManager");
var LE_1 = require("../LitEngine/LE");
var ConfigManager = /** @class */ (function (_super) {
    __extends(ConfigManager, _super);
    function ConfigManager() {
        var _this = _super.call(this, null, "ConfigManager") || this;
        _this._configList = [];
        return _this;
    }
    ConfigManager.Creat = function () {
        return new ConfigManager();
    };
    ConfigManager.prototype.LoadConfig = function (pHandle) {
        this._loadCall = pHandle;
        LE_1.LE.AssetLoader.Load("resources/Config/ConfigList.json", Laya.Handler.create(this, this.OnListLoaded));
    };
    ConfigManager.prototype.OnListLoaded = function (pListobj) {
        this._cfgListObj = pListobj;
        var assets = [];
        var tlist = this._cfgListObj.configList;
        for (var index = 0; index < tlist.length; index++) {
            assets.push(tlist[index].filePath);
        }
        LE_1.LE.AssetLoader.Load(assets, Laya.Handler.create(this, this.OnCfgLoaded));
    };
    ConfigManager.prototype.OnCfgLoaded = function () {
        var tcfglist = this._configList;
        var tlist = this._cfgListObj.configList;
        for (var index = 0; index < tlist.length; index++) {
            var elment = tlist[index];
            var tcfg = Laya.Loader.getRes(elment.filePath);
            tcfglist[elment.key] = tcfg;
        }
        if (this._loadCall != null)
            this._loadCall.run();
    };
    ConfigManager.prototype.GetConfig = function (key) {
        var tcfglist = this._configList;
        if (tcfglist[key] == null) {
            console.error("Cant not found config.key = " + key);
            return null;
        }
        return tcfglist[key];
    };
    return ConfigManager;
}(BaseManager_1.default));
exports.default = ConfigManager;
},{"../LitEngine/LE":8,"./BaseManager":10}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseManager_1 = require("./BaseManager");
var StateBase_1 = require("../State/StateBase");
var StateManager = /** @class */ (function (_super) {
    __extends(StateManager, _super);
    function StateManager(nd) {
        return _super.call(this, nd, "StateManager") || this;
    }
    StateManager.Creat = function () {
        return new StateManager(null);
    };
    Object.defineProperty(StateManager.prototype, "CurState", {
        get: function () {
            return this._curState;
        },
        enumerable: true,
        configurable: true
    });
    StateManager.prototype.GotoState = function (state, pData) {
        var tlast = this._curState;
        Laya.loader.clearUnLoaded(); //必须确保切换前没有正在加载的资源.否则会有内存问题
        if (tlast != null) {
            if (tlast.name == state.name || tlast.State == StateBase_1.State.StateType.onEnter)
                return;
            tlast.OnExit();
        }
        this._curState = state;
        state.OnEnter(Laya.Handler.create(this, this.OnCurStateLoaded), pData);
    };
    StateManager.prototype.OnCurStateLoaded = function () {
        // if (this._lastState != null)
        //     this._lastState.OnExit();
        Laya.Resource.destroyUnusedResources();
    };
    StateManager.prototype.Update = function (dt) {
        var tcur = this._curState;
        if (tcur != null && tcur.State == StateBase_1.State.StateType.Loaded) {
            tcur.Update(dt);
        }
    };
    StateManager.prototype.UpdateData = function () {
        var tcur = this._curState;
        if (tcur != null && tcur.State == StateBase_1.State.StateType.Loaded) {
            tcur.UpdateData();
        }
    };
    return StateManager;
}(BaseManager_1.default));
exports.default = StateManager;
},{"../State/StateBase":17,"./BaseManager":10}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("../GameCore");
var UIBase_1 = require("../ui/UIBase");
var BaseManager_1 = require("./BaseManager");
var UIManager = /** @class */ (function (_super) {
    __extends(UIManager, _super);
    function UIManager(nd) {
        var _this = _super.call(this, nd, "UIManager") || this;
        _this._uiList = [];
        _this.uiPath = "UI/";
        _this.uiLastName = ".scene";
        return _this;
    }
    UIManager.Creat = function () {
        var tnode = GameCore_1.default.Core.layerUI.addChild(new Laya.Sprite());
        tnode.name = "UImanagerNode";
        return new UIManager(tnode);
    };
    UIManager.prototype.ShowUI = function (uiName, method) {
        var tmgr = this;
        if (tmgr._uiList[uiName] == null) {
            var tfullpathname = tmgr.uiPath + uiName + tmgr.uiLastName;
            Laya.Scene.load(tfullpathname, Laya.Handler.create(tmgr, function (sc) {
                var tui = sc.getComponent(UIBase_1.default);
                tui.parent = tmgr._node;
                if (tui == null) {
                    console.error("Cant found uibase on " + tfullpathname + ".please check your scene.");
                }
                else {
                    tmgr._uiList[uiName] = tui;
                    tui.active = true;
                    if (method != null)
                        method.run();
                }
            }));
        }
        else {
            var tui = tmgr._uiList[uiName];
            tui.active = true;
            if (method != null)
                method.run();
        }
    };
    UIManager.prototype.HideUI = function (uiName) {
        var tmgr = this;
        var tui = tmgr._uiList[uiName];
        if (tui != null) {
            tui.active = false;
        }
    };
    UIManager.prototype.DestoryUI = function (uiName) {
        var tmgr = this;
        var tui = tmgr._uiList[uiName];
        if (tui != null) {
            tmgr._uiList[uiName] = null;
            tui.destroyUI();
        }
    };
    UIManager.prototype.UpdateData = function () {
        var tlist = this._uiList;
        for (var key in tlist) {
            if (tlist.hasOwnProperty(key)) {
                var element = tlist[key];
                if (element == null || !element.active)
                    continue;
                element.UpdateData();
            }
        }
    };
    return UIManager;
}(BaseManager_1.default));
exports.default = UIManager;
},{"../GameCore":3,"../ui/UIBase":18,"./BaseManager":10}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var InGameModule = /** @class */ (function () {
    function InGameModule(pScName) {
    }
    InGameModule.prototype.GetScene = function () {
    };
    //#region init
    InGameModule.prototype.Init = function (fun) {
    };
    InGameModule.prototype.OnAssetsPreLoaded = function (event) {
    };
    InGameModule.prototype.OnUILoaded = function () {
        this.Run();
    };
    //#endregion
    //#region running
    InGameModule.prototype.Run = function () {
    };
    InGameModule.prototype.Pause = function () { };
    InGameModule.prototype.Resume = function () { };
    InGameModule.prototype.Destroy = function () {
    };
    //#endregion
    //#region update
    InGameModule.prototype.Update = function (dt) {
    };
    InGameModule.prototype.UpdateData = function () {
    };
    //#endregion
    //#region call
    //#endregion
    InGameModule.prototype.ModuleEvent = function (pEventData) {
    };
    return InGameModule;
}());
exports.default = InGameModule;
},{}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var InGameModule_1 = require("../Module/InGameModule");
var StateBase_1 = require("./StateBase");
var InGameState = /** @class */ (function (_super) {
    __extends(InGameState, _super);
    function InGameState() {
        return _super.call(this, "InGameState") || this;
    }
    InGameState.prototype.OnEnter = function (fun, pData) {
        _super.prototype.OnEnter.call(this, fun, pData);
        this._module = new InGameModule_1.default(String(pData));
        this._module.Init(Laya.Handler.create(this, this.OnGameLoaded));
    };
    InGameState.prototype.OnGameLoaded = function (obj) {
        this.OnLoaded();
    };
    InGameState.prototype.OnExit = function () {
        _super.prototype.OnExit.call(this);
    };
    InGameState.prototype.OnLoaded = function () {
        _super.prototype.OnLoaded.call(this);
    };
    InGameState.prototype.Update = function (dt) {
        _super.prototype.Update.call(this, dt);
    };
    InGameState.prototype.UpdateData = function () {
        _super.prototype.UpdateData.call(this);
    };
    return InGameState;
}(StateBase_1.State.StateBase));
exports.default = InGameState;
},{"../Module/InGameModule":14,"./StateBase":17}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("../GameCore");
var StateBase_1 = require("./StateBase");
var MainState = /** @class */ (function (_super) {
    __extends(MainState, _super);
    function MainState() {
        return _super.call(this, "MainState") || this;
    }
    MainState.prototype.OnEnter = function (fun, pData) {
        _super.prototype.OnEnter.call(this, fun, pData);
        GameCore_1.default.Core.mgrUI.ShowUI("UIMain", Laya.Handler.create(this, function () {
            this.OnLoaded();
        }));
    };
    MainState.prototype.OnExit = function () {
        GameCore_1.default.Core.mgrUI.DestoryUI("UIMain");
        _super.prototype.OnExit.call(this);
    };
    MainState.prototype.OnLoaded = function () {
        _super.prototype.OnLoaded.call(this);
    };
    return MainState;
}(StateBase_1.State.StateBase));
exports.default = MainState;
},{"../GameCore":3,"./StateBase":17}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var State;
(function (State) {
    var StateType;
    (function (StateType) {
        StateType[StateType["none"] = 0] = "none";
        StateType[StateType["onEnter"] = 1] = "onEnter";
        StateType[StateType["onExit"] = 2] = "onExit";
        StateType[StateType["Loaded"] = 3] = "Loaded";
    })(StateType = State.StateType || (State.StateType = {}));
    var StateBase = /** @class */ (function () {
        function StateBase(nstr) {
            this._state = StateType.none;
            this.name = nstr;
        }
        Object.defineProperty(StateBase.prototype, "CurModule", {
            get: function () {
                return this._module;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(StateBase.prototype, "State", {
            get: function () {
                return this._state;
            },
            enumerable: true,
            configurable: true
        });
        StateBase.prototype.OnEnter = function (fun, pData) {
            this._state = StateType.onEnter;
            this._onLoaded = fun;
        };
        StateBase.prototype.OnExit = function () {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.Destroy();
            this._state = StateType.onExit;
        };
        StateBase.prototype.OnLoaded = function () {
            this._state = StateType.Loaded;
            if (this._onLoaded != null)
                this._onLoaded.run();
        };
        StateBase.prototype.Update = function (dt) {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.Update(dt);
        };
        StateBase.prototype.UpdateData = function () {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.UpdateData();
        };
        return StateBase;
    }());
    State.StateBase = StateBase;
})(State = exports.State || (exports.State = {}));
},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase = /** @class */ (function (_super) {
    __extends(UIBase, _super);
    function UIBase() {
        var _this = _super.call(this) || this;
        _this._active = false;
        return _this;
    }
    Object.defineProperty(UIBase.prototype, "parent", {
        get: function () {
            return this._parent;
        },
        set: function (value) {
            this._parent = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIBase.prototype, "active", {
        get: function () {
            return this._active;
        },
        set: function (value) {
            this._active = value;
            if (!value) {
                this.owner.removeSelf();
            }
            else {
                if (this.parent != null)
                    this.parent.addChild(this.owner);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIBase.prototype, "nodeScene", {
        get: function () {
            return this.owner;
        },
        enumerable: true,
        configurable: true
    });
    UIBase.prototype.destroyUI = function () {
        this.owner.destroy();
    };
    UIBase.prototype.UpdateData = function () {
    };
    return UIBase;
}(Laya.Script));
exports.default = UIBase;
},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase_1 = require("./UIBase");
var GameCore_1 = require("../GameCore");
var MainState_1 = require("../State/MainState");
var UIMain = /** @class */ (function (_super) {
    __extends(UIMain, _super);
    function UIMain() {
        return _super.call(this) || this;
    }
    UIMain.prototype.onAwake = function () {
        this.backbtn = this.owner.getChildByName("backbtn");
        this.backbtn.on(laya.events.Event.CLICK, this, function () {
            GameCore_1.default.Core.mgrState.GotoState(new MainState_1.default());
        });
    };
    return UIMain;
}(UIBase_1.default));
exports.default = UIMain;
},{"../GameCore":3,"../State/MainState":16,"./UIBase":18}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase_1 = require("./UIBase");
var GameCore_1 = require("../GameCore");
var InGameState_1 = require("../State/InGameState");
var UIMain = /** @class */ (function (_super) {
    __extends(UIMain, _super);
    function UIMain() {
        return _super.call(this) || this;
    }
    UIMain.prototype.onAwake = function () {
        this.testbutton = this.owner.getChildByName("testbutton");
        var testcount = 0;
        this.testbutton.on(laya.events.Event.CLICK, this, function () {
            GameCore_1.default.Core.mgrState.GotoState(new InGameState_1.default(), "1001");
        });
    };
    UIMain.prototype.onEnable = function () {
    };
    UIMain.prototype.onDisable = function () {
    };
    return UIMain;
}(UIBase_1.default));
exports.default = UIMain;
},{"../GameCore":3,"../State/InGameState":15,"./UIBase":18}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1Byb2dyYW0gRmlsZXMvTGF5YUJveC9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9HYW1lQ29yZS50cyIsInNyYy9zY3JpcHQvR2FtZVN0YXJ0LnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvQXNzZXQvQXNzZXRMb2FkZXIudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9EbG9nLnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvRXZlbnQvRXZlbnRNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvTEUudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9Qb29sL05vZGVQb29sLnRzIiwic3JjL3NjcmlwdC9NYW5hZ2Vycy9CYXNlTWFuYWdlci50cyIsInNyYy9zY3JpcHQvTWFuYWdlcnMvQ29uZmlnTWFuYWdlci50cyIsInNyYy9zY3JpcHQvTWFuYWdlcnMvU3RhdGVNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9NYW5hZ2Vycy9VSU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L01vZHVsZS9JbkdhbWVNb2R1bGUudHMiLCJzcmMvc2NyaXB0L1N0YXRlL0luR2FtZVN0YXRlLnRzIiwic3JjL3NjcmlwdC9TdGF0ZS9NYWluU3RhdGUudHMiLCJzcmMvc2NyaXB0L1N0YXRlL1N0YXRlQmFzZS50cyIsInNyYy9zY3JpcHQvdWkvVUlCYXNlLnRzIiwic3JjL3NjcmlwdC91aS9VSUluR2FtZS50cyIsInNyYy9zY3JpcHQvdWkvVUlNYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRyxnREFBMEM7QUFDMUMsaURBQTJDO0FBQzNDLDZDQUF1QztBQUN2Qzs7RUFFRTtBQUNGO0lBYUk7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QUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQWdCLENBQUM7UUFDeEUsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBRWxCLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUU7WUFDOUMsa0JBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLHFCQUFXLEVBQUUsRUFBQyxNQUFNLENBQUMsQ0FBQztRQUMvRCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCx5QkFBUSxHQUFSO0lBRUEsQ0FBQztJQUVELDBCQUFTLEdBQVQ7SUFFQSxDQUFDO0lBQ0wsYUFBQztBQUFELENBekJBLEFBeUJDLENBekJtQyxnQkFBTSxHQXlCekMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lU3RhcnQgZnJvbSBcIi4vc2NyaXB0L0dhbWVTdGFydFwiXG5pbXBvcnQgVUlJbkdhbWUgZnJvbSBcIi4vc2NyaXB0L3VpL1VJSW5HYW1lXCJcbmltcG9ydCBVSU1haW4gZnJvbSBcIi4vc2NyaXB0L3VpL1VJTWFpblwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJzaG93YWxsXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJVSS9VSU1haW4uc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj1mYWxzZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVN0YXJ0LnRzXCIsR2FtZVN0YXJ0KTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3VpL1VJSW5HYW1lLnRzXCIsVUlJbkdhbWUpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdWkvVUlNYWluLnRzXCIsVUlNYWluKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBHYW1lQ29yZSBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvcmVcIlxyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0R2FtZUNvbmZpZy5oZWlnaHQgPSAwOy8v6LCD55So6buY6K6k55Sf5oiQ55qE6ISa5pys5pa55rOVXHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29yZS53aWR0aCwgR2FtZUNvcmUuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb3JlLndpZHRoLCBHYW1lQ29yZS5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29yZS5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29yZS5zY3JlZW5Nb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnbkggPSBHYW1lQ29yZS5hbGlnbkg7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduViA9IEdhbWVDb3JlLmFsaWduVjtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvcmUuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvcmUuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29yZS5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb3JlLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdEdhbWVDb3JlLkluaXQoKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiXHJcbmltcG9ydCBNYWluU3RhdGUgZnJvbSBcIi4vU3RhdGUvTWFpblN0YXRlXCI7XHJcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4vTWFuYWdlcnMvVUlNYW5hZ2VyXCI7XHJcbmltcG9ydCBTdGF0ZU1hbmFnZXIgZnJvbSBcIi4vTWFuYWdlcnMvU3RhdGVNYW5hZ2VyXCI7XHJcbmltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi9NYW5hZ2Vycy9CYXNlTWFuYWdlclwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi9NYW5hZ2Vycy9Db25maWdNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29yZSBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8vI3JlZ2lvbiBjb25maWdcclxuICAgIC8qKlxyXG4gKiA8cD7nvKnmlL7mqKHlvI/jgILpu5jorqTlgLzkuLogXCJub3NjYWxlXCLjgII8L3A+XHJcbiAqIDxwPjx1bD7lj5blgLzojIPlm7TvvJpcclxuICogPGxpPlwibm9zY2FsZVwiIO+8muS4jee8qeaUvu+8mzwvbGk+XHJcbiAqIDxsaT5cImV4YWN0Zml0XCIg77ya5YWo5bGP5LiN562J5q+U57yp5pS+77ybPC9saT5cclxuICogPGxpPlwic2hvd2FsbFwiIO+8muacgOWwj+avlOS+i+e8qeaUvu+8mzwvbGk+XHJcbiAqIDxsaT5cIm5vYm9yZGVyXCIg77ya5pyA5aSn5q+U5L6L57yp5pS+77ybPC9saT5cclxuICogPGxpPlwiZnVsbFwiIO+8muS4jee8qeaUvu+8jHN0YWdl55qE5a696auY562J5LqO5bGP5bmV5a696auY77ybPC9saT5cclxuICogPGxpPlwiZml4ZWR3aWR0aFwiIO+8muWuveW6puS4jeWPmO+8jOmrmOW6puagueaNruWxj+W5leavlOe8qeaUvu+8mzwvbGk+XHJcbiAqIDxsaT5cImZpeGVkaGVpZ2h0XCIg77ya6auY5bqm5LiN5Y+Y77yM5a695bqm5qC55o2u5bGP5bmV5q+U57yp5pS+77ybPC9saT5cclxuICogPGxpPlwiZml4ZWRhdXRvXCIg77ya5qC55o2u5a696auY5q+U77yM6Ieq5Yqo6YCJ5oup5L2/55SoZml4ZWR3aWR0aOaIlmZpeGVkaGVpZ2h077ybPC9saT5cclxuICogPC91bD48L3A+XHJcbiAqL1xyXG4gICAgc3RhdGljIHdpZHRoOiBudW1iZXIgPSA3MjA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0OiBudW1iZXIgPSAxMjgwO1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTogc3RyaW5nID0gXCJzaG93YWxsXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTogc3RyaW5nID0gXCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOiBzdHJpbmcgPSBcImNlbnRlclwiO1xyXG4gICAgc3RhdGljIGFsaWduSDogc3RyaW5nID0gXCJtaWRkbGVcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOiBhbnkgPSBcIkdhbWVTdGFydC5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDogc3RyaW5nID0gXCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHN0YXRpYyBkYXRhVXBkYXRlSW50ZXJ2YWwgPSAwLjI7XHJcbiAgICBzdGF0aWMgb3BlblRyeUNhY2hlID0gZmFsc2U7XHJcbiAgICAvLyNlbmRyZWdpb25cclxuICAgIC8vI3JlZ2lvbiBjb3Jl5qC45b+D57uE5Lu2XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfY29yZTogR2FtZUNvcmUgPSBudWxsO1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgQ29yZSgpICB7XHJcbiAgICAgICAgaWYgKEdhbWVDb3JlLl9jb3JlID09IG51bGwpICB7XHJcbiAgICAgICAgICAgIGxldCB0bm9kZSA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuTm9kZSgpKSBhcyBMYXlhLk5vZGU7XHJcbiAgICAgICAgICAgIGxldCB0c2MgPSB0bm9kZS5hZGRDb21wb25lbnQoR2FtZUNvcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gR2FtZUNvcmUuX2NvcmU7XHJcbiAgICB9XHJcbiAgICAvLyNyZWdpb24gbGF5ZXJzXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGF5ZXJMb2dpYzogTGF5YS5Ob2RlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxheWVyU2NlbmU6IExheWEuU3ByaXRlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxheWVyVUk6IExheWEuU3ByaXRlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxheWVyT3ZlcjogTGF5YS5TcHJpdGU7XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIG1ncnNcclxuICAgIHB1YmxpYyByZWFkb25seSBtZ3JVSTpVSU1hbmFnZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWdyU3RhdGU6U3RhdGVNYW5hZ2VyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1nckNvbmZpZzpDb25maWdNYW5hZ2VyO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIF9tZ3JMaXN0OiBCYXNlTWFuYWdlcltdID0gW107XHJcbiAgICBwcml2YXRlIF9kYXRhVXBkYXRlVGltZXIgPSAwO1xyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jZW5kcmVnaW9uICBcclxuICAgIC8vI3JlZ2lvbiDmlrnms5VcclxuICAgIC8vIFwic2hvd2FsbFwiXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgR2FtZUNvcmUuX2NvcmUgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLmxheWVyTG9naWMgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLk5vZGUoKSkgYXMgTGF5YS5Ob2RlO1xyXG4gICAgICAgIHRoaXMubGF5ZXJTY2VuZSA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU3ByaXRlKCkpIGFzIExheWEuU3ByaXRlOy8v5Y+v6KaL5pyA5bqV5bGCXHJcbiAgICAgICAgdGhpcy5sYXllclVJID0gTGF5YS5zdGFnZS5hZGRDaGlsZChuZXcgTGF5YS5TcHJpdGUoKSkgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5sYXllck92ZXIgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLlNwcml0ZSgpKSBhcyBMYXlhLlNwcml0ZTtcclxuXHJcbiAgICAgICAgdGhpcy5tZ3JVSSA9IFVJTWFuYWdlci5DcmVhdCgpO1xyXG4gICAgICAgIHRoaXMubWdyU3RhdGUgPSBTdGF0ZU1hbmFnZXIuQ3JlYXQoKTtcclxuICAgICAgICB0aGlzLm1nckNvbmZpZyA9IENvbmZpZ01hbmFnZXIuQ3JlYXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbWdyTGlzdC5wdXNoKHRoaXMubWdyVUkpO1xyXG4gICAgICAgIHRoaXMuX21nckxpc3QucHVzaCh0aGlzLm1nclN0YXRlKTtcclxuXHJcbiAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLm1nckNvbmZpZy5Mb2FkQ29uZmlnKExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLk9uQ29uZmlnTG9hZGVkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBJbml0KCkge1xyXG4gICAgICAgIGlmIChHYW1lQ29yZS5fY29yZSAhPSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgR2FtZUNvcmUuQ29yZTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgRGVzdHJveUNvcmUoKSB7XHJcbiAgICAgICAgaWYgKEdhbWVDb3JlLl9jb3JlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgR2FtZUNvcmUuX2NvcmUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBHYW1lQ29yZS5fY29yZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPbkNvbmZpZ0xvYWRlZCgpXHJcbiAgICB7XHJcblx0XHR0aGlzLm1nclN0YXRlLkdvdG9TdGF0ZShuZXcgTWFpblN0YXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMubGF5ZXJMb2dpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5sYXllclNjZW5lLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmxheWVyVUkuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMubGF5ZXJPdmVyLmRlc3Ryb3koKTtcclxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uVXBkYXRlICgpICB7XHJcbiAgICAgICAgbGV0IGR0ID0gTWF0aC5taW4oTGF5YS50aW1lci5kZWx0YSAqIDAuMDAxLDAuNSkgO1xyXG5cclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgbGV0IHRpbnRlcnZhbCA9IEdhbWVDb3JlLmRhdGFVcGRhdGVJbnRlcnZhbDtcclxuICAgICAgICBsZXQgdG9wZW50cnkgPSBHYW1lQ29yZS5vcGVuVHJ5Q2FjaGU7XHJcbiAgICAgICAgbGV0IHR0aW1lciA9IHNlbGYuX2RhdGFVcGRhdGVUaW1lciArIGR0OyAgICBcclxuICAgICAgICBsZXQgdGlzVXBkYXRlRGF0YSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0dGltZXIgPj0gdGludGVydmFsKSAge1xyXG4gICAgICAgICAgICB0aXNVcGRhdGVEYXRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi5fZGF0YVVwZGF0ZVRpbWVyID0gdHRpbWVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRsaXN0ID0gdGhpcy5fbWdyTGlzdDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGxpc3RbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZih0b3BlbnRyeSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5VcGRhdGVFbGVtZW50KGVsZW1lbnQsZHQsdGlzVXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVsZW1lbnQubWFuYWdlck5hbWUgKyBcIi0tLVwiK2Vycm9yKTtcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5VcGRhdGVFbGVtZW50KGVsZW1lbnQsZHQsdGlzVXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgVXBkYXRlRWxlbWVudChlbGVtZW50OkJhc2VNYW5hZ2VyLGR0Om51bWJlcixpc1VwZGF0ZURhdGE6Ym9vbGVhbilcclxuICAgIHtcclxuICAgICAgICBlbGVtZW50LlVwZGF0ZShkdCk7XHJcbiAgICAgICAgaWYgKGlzVXBkYXRlRGF0YSlcclxuICAgICAgICAgICAgZWxlbWVudC5VcGRhdGVEYXRhKCk7XHJcbiAgICB9XHJcbiAgICAvLyNlbmRyZWdpb25cclxufSIsImltcG9ydCBHYW1lQ29yZSBmcm9tIFwiLi9HYW1lQ29yZVwiO1xyXG5pbXBvcnQgTWFpblN0YXRlIGZyb20gXCIuL1N0YXRlL01haW5TdGF0ZVwiO1xyXG5cclxuLyoqXHJcbiAqIOacrOekuuS+i+mHh+eUqOmdnuiEmuacrOeahOaWueW8j+WunueOsO+8jOiAjOS9v+eUqOe7p+aJv+mhtemdouWfuuexu++8jOWunueOsOmhtemdoumAu+i+keOAguWcqElERemHjOmdouiuvue9ruWcuuaZr+eahFJ1bnRpbWXlsZ7mgKfljbPlj6/lkozlnLrmma/ov5vooYzlhbPogZRcclxuICog55u45q+U6ISa5pys5pa55byP77yM57un5om/5byP6aG16Z2i57G777yM5Y+v5Lul55u05o6l5L2/55So6aG16Z2i5a6a5LmJ55qE5bGe5oCn77yI6YCa6L+HSURF5YaFdmFy5bGe5oCn5a6a5LmJ77yJ77yM5q+U5aaCdGhpcy50aXBMYmxs77yMdGhpcy5zY29yZUxibO+8jOWFt+acieS7o+eggeaPkOekuuaViOaenFxyXG4gKiDlu7rorq7vvJrlpoLmnpzmmK/pobXpnaLnuqfnmoTpgLvovpHvvIzpnIDopoHpopHnuYHorr/pl67pobXpnaLlhoXlpJrkuKrlhYPntKDvvIzkvb/nlKjnu6fmib/lvI/lhpnms5XvvIzlpoLmnpzmmK/ni6znq4vlsI/mqKHlnZfvvIzlip/og73ljZXkuIDvvIzlu7rorq7nlKjohJrmnKzmlrnlvI/lrp7njrDvvIzmr5TlpoLlrZDlvLnohJrmnKzjgIJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVTdGFydCBleHRlbmRzIExheWEuU2NlbmUge1xyXG4gICAgcHVibGljIHRlc3RTY2VuZV9idG46IExheWEuQnV0dG9uO1xyXG4gICAgcHVibGljIGJ0bl90ZXh0dGVzdDogTGF5YS5UZXh0O1xyXG5cclxuICAgIHB1YmxpYyBvd25lcjNkO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDaGlsZHJlbigpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgIHRoaXMubG9hZFNjZW5lKFwiR2FtZVN0YXJ0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQXdha2UoKXtcclxuICAgLy9MYXlhLlNjZW5lM0QubG9hZChcInRlc3RzY2VuZS9sZXZlbDEubHNcIixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy5vbkNvbXBsZXRlKSk7XHJcblxyXG4gICAgICAgIC8v5re75YqgM0TlnLrmma9cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gdmFyIHRzY2VuZTogTGF5YS5TY2VuZTNEID0gdGhpcy5hZGRDaGlsZChuZXcgTGF5YS5TY2VuZTNEKCkpIGFzIExheWEuU2NlbmUzRDtcclxuICAgICAgICAvLyB0aGlzLm93bmVyM2QgPSB0c2NlbmU7XHJcblxyXG4gICAgICAgIC8vIHZhciBjYW1lcmE6TGF5YS5DYW1lcmEgPSAodHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkNhbWVyYSggMCwgMC4xLCAxMDApKSkgYXMgTGF5YS5DYW1lcmE7XHJcbiAgICAgICAgLy8gICAgIGNhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMSwgNiwgMTApKTtcclxuICAgICAgICAvLyAgICAgY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMyggLTMwLCAwLCAwKSwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIC8vICAgICBjYW1lcmEuY2xlYXJDb2xvciA9IG51bGw7XHJcbiAgICAgICAgICAgXHJcblxyXG5cclxuICAgICAgICAvLyAgICAgdmFyIGRpcmVjdGlvbkxpZ2h0OkxheWEuRGlyZWN0aW9uTGlnaHQgPSB0c2NlbmUuYWRkQ2hpbGQobmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKSkgYXMgTGF5YS5EaXJlY3Rpb25MaWdodDtcclxuICAgICAgICAvLyAgICAgZGlyZWN0aW9uTGlnaHQuZGlmZnVzZUNvbG9yID0gbmV3IExheWEuVmVjdG9yMygwLjYsIDAuNiwgMC42KTtcclxuICAgICAgICAvLyAgICAgZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLndvcmxkTWF0cml4LnNldEZvcndhcmQobmV3IExheWEuVmVjdG9yMygxLCAtMSwgMCkpO1xyXG4gICAgICAgIC8vICAgICAvL+a3u+WKoOiHquWumuS5ieaooeWei1xyXG4gICAgICAgIC8vICAgICB2YXIgc3BoZXJlOkxheWEuTWVzaFNwcml0ZTNEID0gdHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlU3BoZXJlKDEsMTAwLDEwMCkpKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICAvLyAgICAgc3BoZXJlLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLDkwLDApLGZhbHNlLGZhbHNlKTtcclxuICAgICAgICAvLyAgICAgc3BoZXJlLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLDMsMCkpO1xyXG4gICAgICAgIC8vICAgICBzcGhlcmUubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG4gICAgICAgIC8vICAgICB2YXIgbWF0ZXJpYWw6TGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWwoKTtcclxuICAgICAgICAvLyAgICAgTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9sYXlhYm94LnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsIGZ1bmN0aW9uKHRleDpMYXlhLlRleHR1cmUyRCk6dm9pZCB7XHJcbiAgICAgICAgLy8gICAgICAgICBtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG4gICAgICAgIC8vICAgICB9KSk7XHJcbiAgICAgICAgLy8gICAgIHNwaGVyZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICAgICAgICAvLyAgICAgLy/mt7vliqDniannkIbnu4Tku7ZcclxuICAgICAgICAvLyAgICAgc3BoZXJlLmFkZENvbXBvbmVudChMYXlhLlBoeXNpY3NDb2xsaWRlcik7XHJcbiAgICAgICAgLy8gICAgIC8v57uZ55CD5re75Yqg5Yia5L2TXHJcbiAgICAgICAgLy8gICAgIHZhciByaWdpZDpMYXlhLlJpZ2lkYm9keTNEID0gc3BoZXJlLmFkZENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuICAgICAgICAvLyAgICAgLy/mnInliJrkvZPnmoRzaGFwZeimgeWKoOWcqOWImuS9k+S4ilxyXG4gICAgICAgIC8vICAgICByaWdpZC5jb2xsaWRlclNoYXBlID0gbmV3IExheWEuU3BoZXJlQ29sbGlkZXJTaGFwZSgxKTtcclxuICAgICAgICAvLyAgICAgLy/mt7vliqDkuIDkuKrlnLDmnb9cclxuICAgICAgICAvLyAgICAgdmFyIGZsb29yOkxheWEuTWVzaFNwcml0ZTNEID0gdHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlUGxhbmUoMTAsMTApKSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgLy8gICAgIC8v57uZ5Zyw5p2/5re75Yqg54mp55CG57uE5Lu2XHJcbiAgICAgICAgLy8gICAgIHZhciBmbG9vckNvbGxpY2FyOkxheWEuUGh5c2ljc0NvbGxpZGVyID0gZmxvb3IuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICAvLyAgICAgLy8g5re75YqgY29sbGlkZXJzaGFwZVxyXG4gICAgICAgIC8vICAgICBmbG9vckNvbGxpY2FyLmNvbGxpZGVyU2hhcGUgPSBuZXcgTGF5YS5Cb3hDb2xsaWRlclNoYXBlKDEwLDAsMTApO1xyXG4gICAgICAgIC8vICAgICAvL+WFi+mahuS4gOS4queQgyAgICAgICAgICAgICAgICBcclxuICAgICAgICAvLyAgICAgTGF5YS50aW1lci5vbmNlKDEwMDAsdGhpcyxmdW5jdGlvbigpOnZvaWR7XHJcbiAgICAgICAgLy8gICAgICAgLy/kuIDnp5LkuYvlkI7lpI3liLbkuIDkuKrnkINcclxuICAgICAgICAvLyAgICAgICAgICB2YXIgY2xvbmVTcGhlcmU6TGF5YS5NZXNoU3ByaXRlM0QgPSBMYXlhLlNwcml0ZTNELmluc3RhbnRpYXRlKHNwaGVyZSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgLy8gICAgICAgICAvL+iuvue9ruS9jee9ruWBj+enu1xyXG4gICAgICAgIC8vICAgICAgICAgIGNsb25lU3BoZXJlLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygxLDQsMCkpO1xyXG4gICAgICAgIC8vICAgICAgICAgLy/mt7vliqDliLDlnLrmma9cclxuICAgICAgICAvLyAgICAgICAgIHRzY2VuZS5hZGRDaGlsZChjbG9uZVNwaGVyZSk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG5cclxuICAgICAgICBMYXlhLlNjZW5lM0QubG9hZCgndGVzdHNjZW5lL2xldmVsMS5scycsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbXBsZXRlKSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYnRuX3RleHR0ZXN0KTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRlc3RTY2VuZV9idG4pO1xyXG4gICAgICAgIC8vIHZhciB0ZXN0Y291bnQgPSAwO1xyXG4gICAgICAgIC8vIHRoaXMudGVzdFNjZW5lX2J0bi5vbihsYXlhLmV2ZW50cy5FdmVudC5DTElDSywgdGhpcywgZnVuY3Rpb24gKCkgeyB0aGlzLmJ0bl90ZXh0dGVzdC50ZXh0ID0gU3RyaW5nKHRlc3Rjb3VudCk7IHRlc3Rjb3VudCsrOyB9KTtcclxuICAgICAgICBHYW1lQ29yZS5Db3JlLm1nclN0YXRlLkdvdG9TdGF0ZShuZXcgTWFpblN0YXRlKCkpO1xyXG4gICAgICAgIC8vIEdhbWVDb3JlLm1nclVJLlNob3dVSShcIlVJTWFpblwiLGZ1bmN0aW9uKHN1aSl7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHN1aSk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gTGF5YS5TY2VuZS5sb2FkKFwicHJlZmFiL3Rlc3RpbWFnZS5wcmVmYWJcIixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5hZGRDaGlsZChyZXMpO1xyXG4gICAgICAgIC8vIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQ29tcGxldGUoc2NlbmVyZXM6IExheWEuU2NlbmUzRCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOWwhuWcuuaZr+WKoOWIsOiInuWPsOS4ilxyXG4gICAgICAgIEdhbWVDb3JlLkNvcmUubGF5ZXJTY2VuZS5hZGRDaGlsZChzY2VuZXJlcyk7XHJcbiAgICAgICAvLyB0aGlzLmFkZENoaWxkQXQoc2NlbmVyZXMsMCk7XHJcbiAgICAgICAgLy8gICAgIC8v5re75Yqg6Ieq5a6a5LmJ5qih5Z6LXHJcbiAgICAgICAgdmFyIHNwaGVyZTogTGF5YS5NZXNoU3ByaXRlM0QgPSAgc2NlbmVyZXMuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVTcGhlcmUoMSwgMTAwLCAxMDApKSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgc3BoZXJlLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLCA5MCwgMCksIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgc3BoZXJlLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLCAzLCAwKSk7XHJcbiAgICAgICAgc3BoZXJlLm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbDtcclxuICAgICAgICB2YXIgbWF0ZXJpYWw6IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcbiAgICAgICAgTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9sYXlhYm94LnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsIGZ1bmN0aW9uICh0ZXg6IExheWEuVGV4dHVyZTJEKTogdm9pZCB7XHJcbiAgICAgICAgICAgIG1hdGVyaWFsLmFsYmVkb1RleHR1cmUgPSB0ZXg7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHNwaGVyZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICAgICAgICAvL+a3u+WKoOeJqeeQhue7hOS7tlxyXG4gICAgICAgIHNwaGVyZS5hZGRDb21wb25lbnQoTGF5YS5QaHlzaWNzQ29sbGlkZXIpO1xyXG4gICAgICAgIC8v57uZ55CD5re75Yqg5Yia5L2TXHJcbiAgICAgICAgdmFyIHJpZ2lkOiBMYXlhLlJpZ2lkYm9keTNEID0gc3BoZXJlLmFkZENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuICAgICAgICByaWdpZC5jb2xsaWRlclNoYXBlID0gbmV3IExheWEuU3BoZXJlQ29sbGlkZXJTaGFwZSgxKTtcclxuXHJcbiAgICAgICAvLyB0aGlzLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxufSIsIiBleHBvcnQgbW9kdWxlIEFzc2V0e1xyXG4gICAgZXhwb3J0IGNsYXNzIEFzc2V0TG9hZGVyIHtcclxuICAgICAgICBwcml2YXRlIF9hc3NldHM6IGFueVtdID0gW11cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBMb2FkKHVybDogYW55LCBjb21wbGV0ZT86TGF5YS5IYW5kbGVyLCBwcm9ncmVzcz86IExheWEuSGFuZGxlciwgdHlwZT86IHN0cmluZywgcHJpb3JpdHk/OiBudW1iZXIsIGNhY2hlPzogYm9vbGVhbiwgZ3JvdXA/OiBzdHJpbmcsIGlnbm9yZUNhY2hlPzogYm9vbGVhbiwgdXNlV29ya2VyTG9hZGVyPzogYm9vbGVhbikge1xyXG4gICAgICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHVybCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wbGV0ZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZS5ydW5XaXRoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkscHJvZ3Jlc3MsdHlwZSxwcmlvcml0eSxjYWNoZSwgZ3JvdXAsaWdub3JlQ2FjaGUsdXNlV29ya2VyTG9hZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQodXJsOiBhbnksIGNvbXBsZXRlPzogTGF5YS5IYW5kbGVyLCBwcm9ncmVzcz86IExheWEuSGFuZGxlciwgdHlwZT86IHN0cmluZywgY29uc3RydWN0UGFyYW1zPzogQXJyYXk8YW55PiwgcHJvcGVydHlQYXJhbXM/OiBhbnksIHByaW9yaXR5PzogbnVtYmVyLCBjYWNoZT86IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIuY3JlYXRlKHVybCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wbGV0ZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZS5ydW5XaXRoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkscHJvZ3Jlc3MsdHlwZSxjb25zdHJ1Y3RQYXJhbXMscHJvcGVydHlQYXJhbXMsIHByaW9yaXR5LGNhY2hlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IG1vZHVsZSBMb2cge1xyXG4gICAgZXhwb3J0IGVudW0gTG9nQ29sb3Ige1xyXG4gICAgICAgIE5PTkUgPSAwLFxyXG4gICAgICAgIEJMVUUsXHJcbiAgICAgICAgWUVMTE8sXHJcbiAgICAgICAgUkVELFxyXG4gICAgICAgIEdSRUVOLFxyXG4gICAgICAgIEFRVUEsXHJcbiAgICAgICAgV0hJVEUsXHJcbiAgICB9XHJcbiAgICBleHBvcnQgZW51bSBETG9nVHlwZSB7XHJcbiAgICAgICAgTG9nID0gMSxcclxuICAgICAgICBXYXJuaW5nLFxyXG4gICAgICAgIEVycm9yLFxyXG4gICAgICAgIEFzc2VydCxcclxuICAgICAgICBUcnVlTG9nLFxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGNsYXNzIERMb2cge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTWluTG9nVHlwZTogRExvZ1R5cGUgPSBETG9nVHlwZS5Mb2c7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgSXNTaG93KHBUeXBlOiBETG9nVHlwZSk6IGJvb2xlYW4gIHtcclxuICAgICAgICAgICAgbGV0IHJldCA9IHBUeXBlIC0gRExvZy5NaW5Mb2dUeXBlO1xyXG4gICAgICAgICAgICBpZiAocmV0IDwgMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHN0YXRpYyBDb2xvclN0cmluZyhfY29sb3I6IExvZ0NvbG9yKTogc3RyaW5nICB7XHJcbiAgICAgICAgICAgIGxldCByZXQ6IHN0cmluZztcclxuICAgICAgICAgICAgc3dpdGNoIChfY29sb3IpICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvZ0NvbG9yLkJMVUU6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9Ymx1ZT5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nQ29sb3IuWUVMTE86XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9eWVsbG93PlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dDb2xvci5SRUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9cmVkPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dDb2xvci5HUkVFTjpcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBcIjxjb2xvcj1ncmVlbj5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nQ29sb3IuQVFVQTpcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBcIjxjb2xvcj1hcXVhPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dDb2xvci5XSElURTpcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBcIjxjb2xvcj13aGl0ZT5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBMT0dDb2xvcihwVHlwZTogRExvZ1R5cGUsIHBNc2c6IHN0cmluZywgcENvbG9yOiBMb2dDb2xvcikgIHtcclxuICAgICAgICAgICAgaWYgKCFETG9nLklzU2hvdyhwVHlwZSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAocFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgRExvZ1R5cGUuVHJ1ZUxvZzpcclxuICAgICAgICAgICAgICAgIGNhc2UgRExvZ1R5cGUuTG9nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBNc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBETG9nVHlwZS5FcnJvcjpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHBNc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBETG9nVHlwZS5XYXJuaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihwTXNnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERMb2dUeXBlLkFzc2VydDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChmYWxzZSwgcE1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9nKHBPYmplY3QpICB7XHJcbiAgICAgICAgICAgIGlmICghRExvZy5Jc1Nob3coRExvZ1R5cGUuTG9nKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBETG9nLkxPR0NvbG9yKERMb2dUeXBlLkxvZywgcE9iamVjdCwgTG9nQ29sb3IuTk9ORSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIExvZ1dhcm5pbmcocE9iamVjdCkgIHtcclxuICAgICAgICAgICAgaWYgKCFETG9nLklzU2hvdyhETG9nVHlwZS5XYXJuaW5nKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBETG9nLkxPR0NvbG9yKERMb2dUeXBlLldhcm5pbmcsIHBPYmplY3QsIExvZ0NvbG9yLk5PTkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBMb2dFcnJvcihwT2JqZWN0KSAge1xyXG4gICAgICAgICAgICBpZiAoIURMb2cuSXNTaG93KERMb2dUeXBlLkVycm9yKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBETG9nLkxPR0NvbG9yKERMb2dUeXBlLkVycm9yLCBwT2JqZWN0LCBMb2dDb2xvci5OT05FKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9nQXNzZXJ0aW9uKHBPYmplY3QpICB7XHJcbiAgICAgICAgICAgIGlmICghRExvZy5Jc1Nob3coRExvZ1R5cGUuQXNzZXJ0KSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBETG9nLkxPR0NvbG9yKERMb2dUeXBlLkFzc2VydCwgcE9iamVjdCwgTG9nQ29sb3IuTk9ORSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50TWFuYWdlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IEV2ZW50TWFuYWdlciA9IG51bGw7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBJbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAoRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZSA9PSBudWxsKVxyXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIuX2luc3RhbmNlID0gbmV3IEV2ZW50TWFuYWdlcigpO1xyXG4gICAgICAgIHJldHVybiBFdmVudE1hbmFnZXIuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBldmVudEhhbmRsZXM6IEV2ZW50R3JvdXBbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgUmVnRXZlbnQoZXZlbnRLZXk6c3RyaW5nLCBjYWxsQmFjazogTGF5YS5IYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldID09IG51bGwpXHJcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldID0gbmV3IEV2ZW50R3JvdXAoZXZlbnRLZXkpO1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldLkFkZChjYWxsQmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBVblJlZ0V2ZW50KGV2ZW50S2V5OiBzdHJpbmcsIGNhbGxCYWNrOiBMYXlhLkhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoRXZlbnRNYW5hZ2VyLkluc3RhbmNlLmV2ZW50SGFuZGxlc1tldmVudEtleV0gPT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldLlJlbW92ZShjYWxsQmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBEaXNwYXRjaEV2ZW50KGV2ZW50S2V5OiBzdHJpbmcsIGRhdGE6IHt9KSB7XHJcbiAgICAgICAgaWYgKEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldID09IG51bGwpIHJldHVybjtcclxuICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UuZXZlbnRIYW5kbGVzW2V2ZW50S2V5XS5EaXNwYXRjaEV2ZW50KGRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRXZlbnRHcm91cCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgRXZlbnRLZXk6IHN0cmluZztcclxuICAgIHByaXZhdGUgX2NhbGxzOiBMYXlhLkhhbmRsZXJbXSA9IFtdO1xyXG4gICAgY29uc3RydWN0b3Ioa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLkV2ZW50S2V5ID0ga2V5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBBZGQoY2FsbEJhY2s6TGF5YS5IYW5kbGVyKSB7XHJcbiAgICAgICAgbGV0IHRpbmRleCA9IHRoaXMuX2NhbGxzLmluZGV4T2YoY2FsbEJhY2spO1xyXG4gICAgICAgIGlmICh0aW5kZXggIT09IC0xKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fY2FsbHMucHVzaChjYWxsQmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFJlbW92ZShjYWxsQmFjazpMYXlhLkhhbmRsZXIpIHtcclxuICAgICAgICBsZXQgdGluZGV4ID0gdGhpcy5fY2FsbHMuaW5kZXhPZihjYWxsQmFjayk7XHJcbiAgICAgICAgaWYgKHRpbmRleCAhPT0gLTEpXHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGxzLnNwbGljZSh0aW5kZXgsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBEaXNwYXRjaEV2ZW50KGRhdGE6IHt9KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jYWxscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuX2NhbGxzW2ldO1xyXG4gICAgICAgICAgICBlbGVtZW50LnJ1bldpdGgoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4vRXZlbnQvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCBIdHRwTmV0IGZyb20gXCIuL05ldC9IdHRwTmV0XCI7XHJcbmltcG9ydCBXZWJTb2NrZXROZXQgZnJvbSBcIi4vTmV0L1dlYlNvY2tldE5ldFwiO1xyXG5pbXBvcnQgeyBMb2cgfSBmcm9tIFwiLi9EbG9nXCI7XHJcbmltcG9ydCB7IFBvb2wgfSBmcm9tIFwiLi9Qb29sL05vZGVQb29sXCI7XHJcbmltcG9ydCB7IEFzc2V0IH0gZnJvbSBcIi4vQXNzZXQvQXNzZXRMb2FkZXJcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgTEV7XHJcbiAgICBleHBvcnQgY2xhc3MgQXNzZXRMb2FkZXIgZXh0ZW5kcyBBc3NldC5Bc3NldExvYWRlciB7XHJcblxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50IGV4dGVuZHMgRXZlbnRNYW5hZ2VyIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIERMb2cgZXh0ZW5kcyBMb2cuRExvZyB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBOb2RlUG9vbCBleHRlbmRzIFBvb2wuTm9kZVBvb2wge1xyXG5cclxuICAgIH1cclxufSIsImV4cG9ydCBtb2R1bGUgUG9vbCB7XHJcbiAgICBleHBvcnQgY2xhc3MgTm9kZVBvb2wge1xyXG5cclxuICAgICAgICBwcml2YXRlIF9jcmVhdGVyOigodXJsOnN0cmluZyk9PmFueSk7XHJcbiAgICAgICAgcHJpdmF0ZSBfZGVzdHJveWVyOigob2JqOmFueSk9PnZvaWQpO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBTZXRDcmVhdGVyKHBDcmVhdGVyOigodXJsOnN0cmluZyk9PmFueSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVyID0gcENyZWF0ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgU2V0RGVzdHJveWVyKHBEZXN0cm95ZXI6KChvYmo6YW55KT0+dm9pZCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95ZXIgPSBwRGVzdHJveWVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfZ3JvdXBMaXN0OiBOb2RlR3JvdXBbXSA9IFtdO1xyXG4gICAgICAgIHB1YmxpYyBHZXQocEtleTogc3RyaW5nKTogYW55ICB7XHJcbiAgICAgICAgICAgIGlmKHBLZXkgPT0gbnVsbCB8fCBwS2V5Lmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCB0Z3AgPSB0aGlzLl9ncm91cExpc3RbcEtleV07XHJcbiAgICAgICAgICAgIGxldCByZXQgO1xyXG4gICAgICAgICAgICBpZiAodGdwICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXQ9IHRncC5HZXQoKTtcclxuICAgICAgICAgICAgaWYgKHJldCA9PSBudWxsICYmIHRoaXMuX2NyZWF0ZXIgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuX2NyZWF0ZXIocEtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgUHVzaChwS2V5OiBzdHJpbmcsIHBOb2RlKSAge1xyXG4gICAgICAgICAgICBsZXQgbiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGxldCB0Z3A7XHJcbiAgICAgICAgICAgIGlmIChuLl9ncm91cExpc3RbcEtleV0gPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIG4uX2dyb3VwTGlzdFtwS2V5XSA9IG5ldyBOb2RlR3JvdXAocEtleSk7XHJcbiAgICAgICAgICAgIHRncCA9IG4uX2dyb3VwTGlzdFtwS2V5XTtcclxuXHJcbiAgICAgICAgICAgIHRncC5QdXNoKHBOb2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBDbGVhcigpICB7XHJcbiAgICAgICAgICAgIGxldCB0bGlzdCA9IHRoaXMuX2dyb3VwTGlzdDtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGxpc3QpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0bGlzdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSB0bGlzdFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuQ2xlYXIodGhpcy5fZGVzdHJveWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9ncm91cExpc3QgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIE5vZGVHcm91cCB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IEtleTogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgX3F1ZXVlOiBhbnlbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHBLZXk6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLktleSA9IHBLZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgR2V0KCk6IGFueSAge1xyXG4gICAgICAgICAgICBsZXQgbiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChuLl9xdWV1ZSA9PSBudWxsIHx8IG4uX3F1ZXVlLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuIG4uX3F1ZXVlLnBvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFB1c2gocE5vZGUpICB7XHJcbiAgICAgICAgICAgIGxldCBuID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKG4uX3F1ZXVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICBuLl9xdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYobi5fcXVldWUuaW5kZXhPZihwTm9kZSkgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICBuLl9xdWV1ZS5wdXNoKHBOb2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBDbGVhcihwRGVzdHJveWVyOigob2JqOmFueSk9PnZvaWQpKSAge1xyXG4gICAgICAgICAgICBsZXQgdGxpc3QgPSB0aGlzLl9xdWV1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0bGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGUgPSB0bGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIHRsaXN0W2ldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmKHBEZXN0cm95ZXIgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBwRGVzdHJveWVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRsaXN0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgIGNsYXNzIEJhc2VNYW5hZ2VyIGltcGxlbWVudHMgSVVwZGF0ZXtcclxuICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQoKTpCYXNlTWFuYWdlciB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgX25vZGU6TGF5YS5Ob2RlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1hbmFnZXJOYW1lOnN0cmluZztcclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihuZDpMYXlhLk5vZGUsbmFtZVN0cjpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuX25vZGUgPSBuZDtcclxuICAgICAgICB0aGlzLm1hbmFnZXJOYW1lID0gbmFtZVN0cjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlKGR0Om51bWJlcilcclxuICAgIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVwZGF0ZURhdGEoKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi9CYXNlTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBMRSB9IGZyb20gXCIuLi9MaXRFbmdpbmUvTEVcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWdNYW5hZ2VyIGV4dGVuZHMgQmFzZU1hbmFnZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQoKTogQ29uZmlnTWFuYWdlciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb25maWdNYW5hZ2VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfbG9hZENhbGw6IExheWEuSGFuZGxlcjtcclxuXHJcbiAgICBwcml2YXRlIF9jb25maWdMaXN0OiBhbnlbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfY2ZnTGlzdE9iajogYW55O1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpICB7XHJcbiAgICAgICAgc3VwZXIobnVsbCwgXCJDb25maWdNYW5hZ2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBMb2FkQ29uZmlnKHBIYW5kbGU6IExheWEuSGFuZGxlcikgIHtcclxuICAgICAgICB0aGlzLl9sb2FkQ2FsbCA9IHBIYW5kbGU7XHJcbiAgICAgICAgTEUuQXNzZXRMb2FkZXIuTG9hZChcInJlc291cmNlcy9Db25maWcvQ29uZmlnTGlzdC5qc29uXCIsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLk9uTGlzdExvYWRlZCkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgT25MaXN0TG9hZGVkKHBMaXN0b2JqKSAge1xyXG4gICAgICAgIHRoaXMuX2NmZ0xpc3RPYmogPSBwTGlzdG9iajtcclxuICAgICAgICB2YXIgYXNzZXRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIHZhciB0bGlzdCA9IHRoaXMuX2NmZ0xpc3RPYmouY29uZmlnTGlzdDtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGFzc2V0cy5wdXNoKHRsaXN0W2luZGV4XS5maWxlUGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIExFLkFzc2V0TG9hZGVyLkxvYWQoYXNzZXRzLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMuT25DZmdMb2FkZWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgT25DZmdMb2FkZWQoKSAge1xyXG4gICAgICAgIGxldCB0Y2ZnbGlzdCA9IHRoaXMuX2NvbmZpZ0xpc3Q7XHJcbiAgICAgICAgbGV0IHRsaXN0ID0gdGhpcy5fY2ZnTGlzdE9iai5jb25maWdMaXN0O1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0bGlzdC5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxtZW50ID0gdGxpc3RbaW5kZXhdO1xyXG4gICAgICAgICAgICBsZXQgdGNmZyA9IExheWEuTG9hZGVyLmdldFJlcyhlbG1lbnQuZmlsZVBhdGgpO1xyXG4gICAgICAgICAgICB0Y2ZnbGlzdFtlbG1lbnQua2V5XSA9IHRjZmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fbG9hZENhbGwgIT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5fbG9hZENhbGwucnVuKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBHZXRDb25maWcoa2V5OnN0cmluZylcclxuICAgIHtcclxuICAgICAgICBsZXQgdGNmZ2xpc3QgPSB0aGlzLl9jb25maWdMaXN0O1xyXG4gICAgICAgIGlmKHRjZmdsaXN0W2tleV0gPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW50IG5vdCBmb3VuZCBjb25maWcua2V5ID0gXCIgKyBrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRjZmdsaXN0W2tleV07XHJcbiAgICB9XHJcblxyXG59IiwiXHJcbmltcG9ydCBHYW1lQ29yZSBmcm9tIFwiLi4vR2FtZUNvcmVcIjtcclxuaW1wb3J0IEJhc2VNYW5hZ2VyIGZyb20gXCIuL0Jhc2VNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uL1N0YXRlL1N0YXRlQmFzZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRlTWFuYWdlciBleHRlbmRzIEJhc2VNYW5hZ2VyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQoKTogU3RhdGVNYW5hZ2VyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFN0YXRlTWFuYWdlcihudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9jdXJTdGF0ZTogU3RhdGUuU3RhdGVCYXNlO1xyXG4gICAgcHVibGljIGdldCBDdXJTdGF0ZSgpOiBTdGF0ZS5TdGF0ZUJhc2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJTdGF0ZTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IobmQ6IExheWEuTm9kZSkge1xyXG4gICAgICAgIHN1cGVyKG5kLCBcIlN0YXRlTWFuYWdlclwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR290b1N0YXRlKHN0YXRlOiBTdGF0ZS5TdGF0ZUJhc2UscERhdGE/OmFueSkge1xyXG4gICAgICAgIHZhciB0bGFzdCA9IHRoaXMuX2N1clN0YXRlO1xyXG4gICAgICAgIExheWEubG9hZGVyLmNsZWFyVW5Mb2FkZWQoKTsvL+W/hemhu+ehruS/neWIh+aNouWJjeayoeacieato+WcqOWKoOi9veeahOi1hOa6kC7lkKbliJnkvJrmnInlhoXlrZjpl67pophcclxuICAgICAgICBpZiAodGxhc3QgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAodGxhc3QubmFtZSA9PSBzdGF0ZS5uYW1lIHx8IHRsYXN0LlN0YXRlID09IFN0YXRlLlN0YXRlVHlwZS5vbkVudGVyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0bGFzdC5PbkV4aXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY3VyU3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICBzdGF0ZS5PbkVudGVyKExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5PbkN1clN0YXRlTG9hZGVkKSxwRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIE9uQ3VyU3RhdGVMb2FkZWQoKSAge1xyXG4gICAgICAgIC8vIGlmICh0aGlzLl9sYXN0U3RhdGUgIT0gbnVsbClcclxuICAgICAgICAvLyAgICAgdGhpcy5fbGFzdFN0YXRlLk9uRXhpdCgpO1xyXG4gICAgICAgIExheWEuUmVzb3VyY2UuZGVzdHJveVVudXNlZFJlc291cmNlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBVcGRhdGUoZHQ6IG51bWJlcikge1xyXG4gICAgICAgIHZhciB0Y3VyID0gdGhpcy5fY3VyU3RhdGU7XHJcbiAgICAgICAgaWYgKHRjdXIgIT0gbnVsbCAmJiB0Y3VyLlN0YXRlID09IFN0YXRlLlN0YXRlVHlwZS5Mb2FkZWQpIHtcclxuICAgICAgICAgICAgdGN1ci5VcGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlRGF0YSgpIHtcclxuICAgICAgICB2YXIgdGN1ciA9IHRoaXMuX2N1clN0YXRlO1xyXG4gICAgICAgIGlmICh0Y3VyICE9IG51bGwgJiYgdGN1ci5TdGF0ZSA9PSBTdGF0ZS5TdGF0ZVR5cGUuTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRjdXIuVXBkYXRlRGF0YSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4uL0dhbWVDb3JlXCI7XHJcbmltcG9ydCBVSUJhc2UgZnJvbSBcIi4uL3VpL1VJQmFzZVwiO1xyXG5pbXBvcnQgQmFzZU1hbmFnZXIgZnJvbSBcIi4vQmFzZU1hbmFnZXJcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNYW5hZ2VyIGV4dGVuZHMgQmFzZU1hbmFnZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQoKTogVUlNYW5hZ2VyIHtcclxuICAgICAgICB2YXIgdG5vZGUgPSBHYW1lQ29yZS5Db3JlLmxheWVyVUkuYWRkQ2hpbGQobmV3IExheWEuU3ByaXRlKCkpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIHRub2RlLm5hbWUgPSBcIlVJbWFuYWdlck5vZGVcIjtcclxuICAgICAgICByZXR1cm4gbmV3IFVJTWFuYWdlcih0bm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfdWlMaXN0OiBVSUJhc2VbXSA9IFtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHVpUGF0aDogc3RyaW5nID0gXCJVSS9cIjtcclxuICAgIHB1YmxpYyByZWFkb25seSB1aUxhc3ROYW1lOiBzdHJpbmcgPSBcIi5zY2VuZVwiO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihuZDpMYXlhLk5vZGUpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIobmQsXCJVSU1hbmFnZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNob3dVSSh1aU5hbWU6IHN0cmluZywgbWV0aG9kPzpMYXlhLkhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgdG1nciA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRtZ3IuX3VpTGlzdFt1aU5hbWVdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIHRmdWxscGF0aG5hbWUgPSB0bWdyLnVpUGF0aCArIHVpTmFtZSArIHRtZ3IudWlMYXN0TmFtZTtcclxuICAgICAgICAgICAgTGF5YS5TY2VuZS5sb2FkKHRmdWxscGF0aG5hbWUsIExheWEuSGFuZGxlci5jcmVhdGUodG1nciwgZnVuY3Rpb24gKHNjOiBMYXlhLlNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHVpOiBVSUJhc2UgPSBzYy5nZXRDb21wb25lbnQoVUlCYXNlKTtcclxuICAgICAgICAgICAgICAgIHR1aS5wYXJlbnQgPSB0bWdyLl9ub2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR1aSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnQgZm91bmQgdWliYXNlIG9uIFwiICsgdGZ1bGxwYXRobmFtZSArIFwiLnBsZWFzZSBjaGVjayB5b3VyIHNjZW5lLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRtZ3IuX3VpTGlzdFt1aU5hbWVdID0gdHVpO1xyXG4gICAgICAgICAgICAgICAgICAgIHR1aS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLnJ1bigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHR1aTogVUlCYXNlID0gdG1nci5fdWlMaXN0W3VpTmFtZV07XHJcbiAgICAgICAgICAgIHR1aS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICBtZXRob2QucnVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBIaWRlVUkodWlOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgdG1nciA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHR1aTogVUlCYXNlID0gdG1nci5fdWlMaXN0W3VpTmFtZV07XHJcbiAgICAgICAgaWYgKHR1aSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHR1aS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIERlc3RvcnlVSSh1aU5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHZhciB0bWdyID0gdGhpcztcclxuICAgICAgICB2YXIgdHVpOiBVSUJhc2UgPSB0bWdyLl91aUxpc3RbdWlOYW1lXTtcclxuICAgICAgICBpZiAodHVpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdG1nci5fdWlMaXN0W3VpTmFtZV0gPSBudWxsO1xyXG4gICAgICAgICAgICB0dWkuZGVzdHJveVVJKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBVcGRhdGVEYXRhKClcclxuICAgIHtcclxuICAgICAgICB2YXIgdGxpc3QgPSB0aGlzLl91aUxpc3Q7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKHRsaXN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0bGlzdFtrZXldO1xyXG4gICAgICAgICAgICAgICAgaWYoZWxlbWVudCA9PSBudWxsIHx8ICFlbGVtZW50LmFjdGl2ZSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LlVwZGF0ZURhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5HYW1lTW9kdWxlIGltcGxlbWVudHMgR2FtZU1vZHVsZUJhc2Uge1xyXG4gICAgcHJpdmF0ZSBfY2FsbEJhY2tIYW5kbGU6TGF5YS5IYW5kbGVyO1xyXG4gICAgY29uc3RydWN0b3IocFNjTmFtZTogc3RyaW5nKSB7XHJcblxyXG4gICAgfVxyXG4gICAgcHVibGljIEdldFNjZW5lKCl7XHJcblxyXG4gICAgfVxyXG4gICAgLy8jcmVnaW9uIGluaXRcclxuICAgIHB1YmxpYyBJbml0KGZ1bjogTGF5YS5IYW5kbGVyKSB7Ly9hZGRTaGFkZXJQYXNzXHJcbiAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIE9uQXNzZXRzUHJlTG9hZGVkKGV2ZW50KSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPblVJTG9hZGVkKCkge1xyXG5cclxuICAgICAgICB0aGlzLlJ1bigpO1xyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcbiAgIFxyXG4gICAgLy8jcmVnaW9uIHJ1bm5pbmdcclxuICAgIHB1YmxpYyBSdW4oKSB7XHJcbiAgICAgfVxyXG4gICAgcHVibGljIFBhdXNlKCkgeyB9XHJcbiAgICBwdWJsaWMgUmVzdW1lKCkgeyB9XHJcbiAgICBwdWJsaWMgRGVzdHJveSgpIHtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuICAgXHJcbiAgICAvLyNyZWdpb24gdXBkYXRlXHJcbiAgICBwdWJsaWMgVXBkYXRlKGR0OiBudW1iZXIpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVwZGF0ZURhdGEoKSB7XHJcblxyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIGNhbGxcclxuICAgIC8vI2VuZHJlZ2lvblxyXG4gICBcclxuXHJcbiAgICBwdWJsaWMgTW9kdWxlRXZlbnQocEV2ZW50RGF0YSlcclxuICAgIHtcclxuXHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuLi9HYW1lQ29yZVwiO1xyXG5pbXBvcnQgQmFzZVNjZW5lIGZyb20gXCIuLi9TY2VuZS9CYXNlU2NlbmVcIjtcclxuaW1wb3J0IEluR2FtZU1vZHVsZSBmcm9tIFwiLi4vTW9kdWxlL0luR2FtZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuL1N0YXRlQmFzZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluR2FtZVN0YXRlIGV4dGVuZHMgU3RhdGUuU3RhdGVCYXNlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihcIkluR2FtZVN0YXRlXCIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIE9uRW50ZXIoZnVuOiBMYXlhLkhhbmRsZXIscERhdGE/OmFueSkge1xyXG4gICAgICAgIHN1cGVyLk9uRW50ZXIoZnVuLHBEYXRhKTtcclxuICAgICAgICB0aGlzLl9tb2R1bGUgPSBuZXcgSW5HYW1lTW9kdWxlKFN0cmluZyhwRGF0YSkpO1xyXG4gICAgICAgIHRoaXMuX21vZHVsZS5Jbml0KExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5PbkdhbWVMb2FkZWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgT25HYW1lTG9hZGVkKG9iaikgIHtcclxuICAgICAgICB0aGlzLk9uTG9hZGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIE9uRXhpdCgpIHtcclxuICAgICAgICBzdXBlci5PbkV4aXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgT25Mb2FkZWQoKSAge1xyXG4gICAgICAgIHN1cGVyLk9uTG9hZGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVwZGF0ZShkdDogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKGR0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlRGF0YSgpIHtcclxuICAgICAgICBzdXBlci5VcGRhdGVEYXRhKCk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuLi9HYW1lQ29yZVwiO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuL1N0YXRlQmFzZVwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluU3RhdGUgZXh0ZW5kcyBTdGF0ZS5TdGF0ZUJhc2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoXCJNYWluU3RhdGVcIik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgT25FbnRlcihmdW46IExheWEuSGFuZGxlcixwRGF0YT86YW55KSB7XHJcbiAgICAgICAgc3VwZXIuT25FbnRlcihmdW4scERhdGEpO1xyXG5cclxuICAgICAgICBHYW1lQ29yZS5Db3JlLm1nclVJLlNob3dVSShcIlVJTWFpblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5PbkxvYWRlZCgpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgT25FeGl0KCkge1xyXG4gICAgICAgIEdhbWVDb3JlLkNvcmUubWdyVUkuRGVzdG9yeVVJKFwiVUlNYWluXCIpO1xyXG4gICAgICAgIHN1cGVyLk9uRXhpdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPbkxvYWRlZCgpICB7XHJcbiAgICAgICAgc3VwZXIuT25Mb2FkZWQoKTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgbW9kdWxlIFN0YXRlIHtcclxuICAgIGV4cG9ydCBlbnVtIFN0YXRlVHlwZSB7XHJcbiAgICAgICAgbm9uZSA9IDAsXHJcbiAgICAgICAgb25FbnRlcixcclxuICAgICAgICBvbkV4aXQsXHJcbiAgICAgICAgTG9hZGVkLFxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFN0YXRlQmFzZSBpbXBsZW1lbnRzIElVcGRhdGUge1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgcHJvdGVjdGVkIF9zdGF0ZTogU3RhdGVUeXBlID0gU3RhdGVUeXBlLm5vbmU7XHJcbiAgICAgICAgcHJvdGVjdGVkIF9tb2R1bGU6IEdhbWVNb2R1bGVCYXNlO1xyXG4gICAgICAgIHB1YmxpYyBnZXQgQ3VyTW9kdWxlKCk6IEdhbWVNb2R1bGVCYXNlICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb2R1bGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3RlY3RlZCBfb25Mb2FkZWQ6IExheWEuSGFuZGxlcjtcclxuICAgICAgICBwdWJsaWMgZ2V0IFN0YXRlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0cnVjdG9yKG5zdHI6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuc3RyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgT25FbnRlcihmdW46IExheWEuSGFuZGxlciwgcERhdGE/OiBhbnkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBTdGF0ZVR5cGUub25FbnRlcjtcclxuICAgICAgICAgICAgdGhpcy5fb25Mb2FkZWQgPSBmdW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgT25FeGl0KCkge1xyXG4gICAgICAgICAgICB2YXIgdG1vZHVsZSA9IHRoaXMuX21vZHVsZTtcclxuICAgICAgICAgICAgaWYgKHRtb2R1bGUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRtb2R1bGUuRGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlVHlwZS5vbkV4aXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgT25Mb2FkZWQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gU3RhdGVUeXBlLkxvYWRlZDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29uTG9hZGVkICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkxvYWRlZC5ydW4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBVcGRhdGUoZHQ6IG51bWJlcikge1xyXG4gICAgICAgICAgICB2YXIgdG1vZHVsZSA9IHRoaXMuX21vZHVsZTtcclxuICAgICAgICAgICAgaWYgKHRtb2R1bGUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRtb2R1bGUuVXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBVcGRhdGVEYXRhKCkge1xyXG4gICAgICAgICAgICB2YXIgdG1vZHVsZSA9IHRoaXMuX21vZHVsZTtcclxuICAgICAgICAgICAgaWYgKHRtb2R1bGUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRtb2R1bGUuVXBkYXRlRGF0YSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVSUJhc2UgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcblxyXG4gICAgcHJvdGVjdGVkIF9wYXJlbnQgOkxheWEuTm9kZTtcclxuICAgIHB1YmxpYyBnZXQgcGFyZW50KClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc2V0IHBhcmVudCh2YWx1ZTpMYXlhLk5vZGUpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9hY3RpdmUgOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGFjdGl2ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IGFjdGl2ZSh2YWx1ZSA6IGJvb2xlYW4pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLnBhcmVudCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuYWRkQ2hpbGQodGhpcy5vd25lcik7XHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgXHJcbiAgICAgICAgc3VwZXIoKTsgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBub2RlU2NlbmUoKSA6IExheWEuU2NlbmV7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIgYXMgTGF5YS5TY2VuZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGRlc3Ryb3lVSSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5vd25lci5kZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVwZGF0ZURhdGEoKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgVUlCYXNlIGZyb20gXCIuL1VJQmFzZVwiO1xyXG5pbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4uL0dhbWVDb3JlXCI7XHJcbmltcG9ydCBJbkdhbWVTdGF0ZSBmcm9tIFwiLi4vU3RhdGUvSW5HYW1lU3RhdGVcIjtcclxuaW1wb3J0IE1haW5TdGF0ZSBmcm9tIFwiLi4vU3RhdGUvTWFpblN0YXRlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU1haW4gZXh0ZW5kcyBVSUJhc2Uge1xyXG4gICAgcHVibGljICBiYWNrYnRuOkxheWEuQnV0dG9uO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgXHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICB9XHJcblxyXG5cclxuICAgIG9uQXdha2UoKTp2b2lkXHJcbiAgICB7XHJcbiAgICAgICB0aGlzLmJhY2tidG4gPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYmFja2J0blwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLmJhY2tidG4ub24obGF5YS5ldmVudHMuRXZlbnQuQ0xJQ0ssIHRoaXMsIGZ1bmN0aW9uICgpIHsgXHJcbiAgICAgICAgICAgIEdhbWVDb3JlLkNvcmUubWdyU3RhdGUuR290b1N0YXRlKG5ldyBNYWluU3RhdGUoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVUlCYXNlIGZyb20gXCIuL1VJQmFzZVwiO1xyXG5pbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4uL0dhbWVDb3JlXCI7XHJcbmltcG9ydCBJbkdhbWVTdGF0ZSBmcm9tIFwiLi4vU3RhdGUvSW5HYW1lU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTWFpbiBleHRlbmRzIFVJQmFzZSB7XHJcbiAgICBwdWJsaWMgIHRlc3RidXR0b246TGF5YS5CdXR0b247XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgIH1cclxuXHJcblxyXG4gICAgb25Bd2FrZSgpOnZvaWRcclxuICAgIHtcclxuICAgICAgIHRoaXMudGVzdGJ1dHRvbiA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ0ZXN0YnV0dG9uXCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHZhciB0ZXN0Y291bnQgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudGVzdGJ1dHRvbi5vbihsYXlhLmV2ZW50cy5FdmVudC5DTElDSywgdGhpcywgZnVuY3Rpb24gKCkgeyBcclxuICAgICAgICAgICAgR2FtZUNvcmUuQ29yZS5tZ3JTdGF0ZS5Hb3RvU3RhdGUobmV3IEluR2FtZVN0YXRlKCksXCIxMDAxXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59Il19
