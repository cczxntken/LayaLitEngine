var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameStart_1 = require("./script/GameStart");
var UIInGame_1 = require("./script/ui/UIInGame");
var UIMain_1 = require("./script/ui/UIMain");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameStart.ts", GameStart_1.default);
        reg("script/ui/UIInGame.ts", UIInGame_1.default);
        reg("script/ui/UIMain.ts", UIMain_1.default);
    };
    GameConfig.width = 1136;
    GameConfig.height = 640;
    GameConfig.scaleMode = "showall";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "UI/UIMain.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = false;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameStart":4,"./script/ui/UIInGame":20,"./script/ui/UIMain":21}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var GameCore_1 = require("./script/GameCore");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        GameConfig_1.default.height = 0; //调用默认生成的脚本方法
        if (window["Laya3D"])
            Laya3D.init(GameCore_1.default.width, GameCore_1.default.height);
        else
            Laya.init(GameCore_1.default.width, GameCore_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameCore_1.default.scaleMode;
        Laya.stage.screenMode = GameCore_1.default.screenMode;
        Laya.stage.alignH = GameCore_1.default.alignH;
        Laya.stage.alignV = GameCore_1.default.alignV;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameCore_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameCore_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameCore_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameCore_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        GameCore_1.default.Init();
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1,"./script/GameCore":3}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainState_1 = require("./State/MainState");
var UIManager_1 = require("./Managers/UIManager");
var StateManager_1 = require("./Managers/StateManager");
var ConfigManager_1 = require("./Managers/ConfigManager");
var GameCore = /** @class */ (function () {
    //#endregion
    //#endregion  
    //#region 方法
    // "showall"
    function GameCore() {
        this.mgrList = [];
        this.updateList = [];
        this._dataUpdateTimer = 0;
        this.isRuning = false;
        GameCore._core = this;
        Laya.stage.frameLoop(1, this, this.Update);
        this.layerScene = Laya.stage.addChild(new Laya.Sprite()); //可見最底层
        this.layerUI = Laya.stage.addChild(new Laya.Sprite());
        this.layerOver = Laya.stage.addChild(new Laya.Sprite());
        this.AddMgr(ConfigManager_1.default.Creat(), false);
        this.AddMgr(UIManager_1.default.Creat());
        this.AddMgr(StateManager_1.default.Creat());
    }
    Object.defineProperty(GameCore, "Core", {
        get: function () {
            if (GameCore._core == null) {
                GameCore._core = new GameCore();
            }
            return GameCore._core;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameCore, "mgrUI", {
        //#endregion
        //#region mgrs
        get: function () {
            return GameCore.Core.mgrList["UIManager"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameCore, "mgrConfig", {
        get: function () {
            return GameCore.Core.mgrList["ConfigManager"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameCore, "mgrState", {
        get: function () {
            return GameCore.Core.mgrList["StateManager"];
        },
        enumerable: true,
        configurable: true
    });
    GameCore.Init = function () {
        if (GameCore._core != null)
            return;
        var tcore = GameCore.Core;
        GameCore.mgrConfig.LoadConfig(Laya.Handler.create(tcore, tcore.OnConfigLoaded));
    };
    GameCore.DestroyCore = function () {
        if (GameCore._core != null) {
            GameCore._core.Destroy();
            GameCore._core = null;
        }
    };
    GameCore.prototype.AddMgr = function (pMgr, pUpdate) {
        if (pUpdate === void 0) { pUpdate = true; }
        var g = this;
        g.mgrList[pMgr.managerName] = pMgr;
        if (pUpdate) {
            g.updateList.push(pMgr);
        }
    };
    GameCore.prototype.OnConfigLoaded = function () {
        var p = this;
        for (var i = 0; i < p.mgrList.length; i++) {
            var e = p.mgrList[i];
            e.Init();
        }
        GameCore.mgrState.GotoState(new MainState_1.default());
        p.isRuning = true;
    };
    GameCore.prototype.Destroy = function () {
        var p = this;
        Laya.stage.clearTimer(this, this.Update);
        p.layerScene.destroy();
        p.layerUI.destroy();
        p.layerOver.destroy();
    };
    GameCore.prototype.Update = function () {
        var p = this;
        if (!p.isRuning)
            return;
        var dt = Math.min(Laya.timer.delta * 0.001, 0.5);
        var tinterval = GameCore.dataUpdateInterval;
        var topentry = GameCore.openTryCache;
        var ttimer = p._dataUpdateTimer + dt;
        var tisUpdateData = false;
        if (ttimer >= tinterval) {
            tisUpdateData = true;
            p._dataUpdateTimer = ttimer;
        }
        var tlist = this.mgrList;
        for (var index = 0; index < tlist.length; index++) {
            var element = tlist[index];
            if (topentry) {
                try {
                    p.UpdateElement(element, dt, tisUpdateData);
                }
                catch (error) {
                    console.error(element.managerName + "---" + error);
                }
            }
            else {
                p.UpdateElement(element, dt, tisUpdateData);
            }
        }
    };
    GameCore.prototype.UpdateElement = function (e, dt, isUpdateData) {
        e.Update(dt);
        if (isUpdateData)
            e.UpdateData();
    };
    //#region config
    /**
 * <p>缩放模式。默认值为 "noscale"。</p>
 * <p><ul>取值范围：
 * <li>"noscale" ：不缩放；</li>
 * <li>"exactfit" ：全屏不等比缩放；</li>
 * <li>"showall" ：最小比例缩放；</li>
 * <li>"noborder" ：最大比例缩放；</li>
 * <li>"full" ：不缩放，stage的宽高等于屏幕宽高；</li>
 * <li>"fixedwidth" ：宽度不变，高度根据屏幕比缩放；</li>
 * <li>"fixedheight" ：高度不变，宽度根据屏幕比缩放；</li>
 * <li>"fixedauto" ：根据宽高比，自动选择使用fixedwidth或fixedheight；</li>
 * </ul></p>
 */
    GameCore.width = 720;
    GameCore.height = 1280;
    GameCore.scaleMode = "showall";
    GameCore.screenMode = "none";
    GameCore.alignV = "center";
    GameCore.alignH = "middle";
    GameCore.startScene = "GameStart.scene";
    GameCore.sceneRoot = "";
    GameCore.debug = false;
    GameCore.stat = true;
    GameCore.physicsDebug = false;
    GameCore.exportSceneToJson = true;
    GameCore.dataUpdateInterval = 0.2;
    GameCore.openTryCache = false;
    //#endregion
    //#region core核心组件
    GameCore._core = null;
    return GameCore;
}());
exports.default = GameCore;
},{"./Managers/ConfigManager":12,"./Managers/StateManager":13,"./Managers/UIManager":14,"./State/MainState":17}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("./GameCore");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameStart = /** @class */ (function (_super) {
    __extends(GameStart, _super);
    function GameStart() {
        return _super.call(this) || this;
    }
    GameStart.prototype.createChildren = function () {
        _super.prototype.createChildren.call(this);
        this.loadScene("GameStart");
    };
    GameStart.prototype.onAwake = function () {
        //Laya.Scene3D.load("testscene/level1.ls",Laya.Handler.create(this,this.onComplete));
        //添加3D场景
        // var tscene: Laya.Scene3D = this.addChild(new Laya.Scene3D()) as Laya.Scene3D;
        // this.owner3d = tscene;
        // var camera:Laya.Camera = (tscene.addChild(new Laya.Camera( 0, 0.1, 100))) as Laya.Camera;
        //     camera.transform.translate(new Laya.Vector3(1, 6, 10));
        //     camera.transform.rotate(new Laya.Vector3( -30, 0, 0), true, false);
        //     camera.clearColor = null;
        //     var directionLight:Laya.DirectionLight = tscene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;
        //     directionLight.diffuseColor = new Laya.Vector3(0.6, 0.6, 0.6);
        //     directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        //     //添加自定义模型
        //     var sphere:Laya.MeshSprite3D = tscene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(1,100,100))) as Laya.MeshSprite3D;
        //     sphere.transform.rotate(new Laya.Vector3(0,90,0),false,false);
        //     sphere.transform.translate(new Laya.Vector3(0,3,0));
        //     sphere.meshRenderer.material = new Laya.BlinnPhongMaterial;
        //     var material:Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();
        //     Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function(tex:Laya.Texture2D):void {
        //         material.albedoTexture = tex;
        //     }));
        //     sphere.meshRenderer.material = material;
        //     //添加物理组件
        //     sphere.addComponent(Laya.PhysicsCollider);
        //     //给球添加刚体
        //     var rigid:Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);
        //     //有刚体的shape要加在刚体上
        //     rigid.colliderShape = new Laya.SphereColliderShape(1);
        //     //添加一个地板
        //     var floor:Laya.MeshSprite3D = tscene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10,10))) as Laya.MeshSprite3D;
        //     //给地板添加物理组件
        //     var floorCollicar:Laya.PhysicsCollider = floor.addComponent(Laya.PhysicsCollider);
        //     // 添加collidershape
        //     floorCollicar.colliderShape = new Laya.BoxColliderShape(10,0,10);
        //     //克隆一个球                
        //     Laya.timer.once(1000,this,function():void{
        //       //一秒之后复制一个球
        //          var cloneSphere:Laya.MeshSprite3D = Laya.Sprite3D.instantiate(sphere) as Laya.MeshSprite3D;
        //         //设置位置偏移
        //          cloneSphere.transform.translate(new Laya.Vector3(1,4,0));
        //         //添加到场景
        //         tscene.addChild(cloneSphere);
        //     });
        Laya.Scene3D.load('testscene/level1.ls', Laya.Handler.create(this, this.onComplete));
        console.log(this.btn_texttest);
        console.log(this.testScene_btn);
        // var testcount = 0;
        // this.testScene_btn.on(laya.events.Event.CLICK, this, function () { this.btn_texttest.text = String(testcount); testcount++; });
        // GameCore.Core.mgrState.GotoState(new MainState());
        // GameCore.mgrUI.ShowUI("UIMain",function(sui){
        //     console.log(sui);
        // });
        // Laya.Scene.load("prefab/testimage.prefab",Laya.Handler.create(this,function(res){
        //     this.addChild(res);
        // }));
    };
    GameStart.prototype.onComplete = function (sceneres) {
        // 将场景加到舞台上
        GameCore_1.default.Core.layerScene.addChild(sceneres);
        // this.addChildAt(sceneres,0);
        //     //添加自定义模型
        var sphere = sceneres.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(1, 100, 100)));
        sphere.transform.rotate(new Laya.Vector3(0, 90, 0), false, false);
        sphere.transform.translate(new Laya.Vector3(0, 3, 0));
        sphere.meshRenderer.material = new Laya.BlinnPhongMaterial;
        var material = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        sphere.meshRenderer.material = material;
        //添加物理组件
        sphere.addComponent(Laya.PhysicsCollider);
        //给球添加刚体
        var rigid = sphere.addComponent(Laya.Rigidbody3D);
        rigid.colliderShape = new Laya.SphereColliderShape(1);
        // this.removeSelf();
    };
    return GameStart;
}(Laya.Scene));
exports.default = GameStart;
},{"./GameCore":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Asset;
(function (Asset) {
    var AssetLoader = /** @class */ (function () {
        function AssetLoader() {
            this._assets = [];
        }
        AssetLoader.Load = function (url, complete, progress, type, priority, cache, group, ignoreCache, useWorkerLoader) {
            Laya.loader.load(url, Laya.Handler.create(this, function (event) {
                if (complete != null) {
                    complete.runWith(event);
                }
            }), progress, type, priority, cache, group, ignoreCache, useWorkerLoader);
        };
        AssetLoader.Creat = function (url, complete, progress, type, constructParams, propertyParams, priority, cache) {
            Laya.loader.create(url, Laya.Handler.create(this, function (event) {
                if (complete != null) {
                    complete.runWith(event);
                }
            }), progress, type, constructParams, propertyParams, priority, cache);
        };
        return AssetLoader;
    }());
    Asset.AssetLoader = AssetLoader;
})(Asset = exports.Asset || (exports.Asset = {}));
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Audio;
(function (Audio) {
    var AudioManager = /** @class */ (function () {
        function AudioManager() {
        }
        return AudioManager;
    }());
    Audio.AudioManager = AudioManager;
})(Audio = exports.Audio || (exports.Audio = {}));
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Log;
(function (Log) {
    var LogColor;
    (function (LogColor) {
        LogColor[LogColor["NONE"] = 0] = "NONE";
        LogColor[LogColor["BLUE"] = 1] = "BLUE";
        LogColor[LogColor["YELLO"] = 2] = "YELLO";
        LogColor[LogColor["RED"] = 3] = "RED";
        LogColor[LogColor["GREEN"] = 4] = "GREEN";
        LogColor[LogColor["AQUA"] = 5] = "AQUA";
        LogColor[LogColor["WHITE"] = 6] = "WHITE";
    })(LogColor = Log.LogColor || (Log.LogColor = {}));
    var DLogType;
    (function (DLogType) {
        DLogType[DLogType["Log"] = 1] = "Log";
        DLogType[DLogType["Warning"] = 2] = "Warning";
        DLogType[DLogType["Error"] = 3] = "Error";
        DLogType[DLogType["Assert"] = 4] = "Assert";
        DLogType[DLogType["TrueLog"] = 5] = "TrueLog";
    })(DLogType = Log.DLogType || (Log.DLogType = {}));
    var DLog = /** @class */ (function () {
        function DLog() {
        }
        DLog.IsShow = function (pType) {
            var ret = pType - DLog.MinLogType;
            if (ret < 0)
                return false;
            return true;
        };
        DLog.ColorString = function (_color) {
            var ret;
            switch (_color) {
                case LogColor.BLUE:
                    ret = "<color=blue>";
                    break;
                case LogColor.YELLO:
                    ret = "<color=yellow>";
                    break;
                case LogColor.RED:
                    ret = "<color=red>";
                    break;
                case LogColor.GREEN:
                    ret = "<color=green>";
                    break;
                case LogColor.AQUA:
                    ret = "<color=aqua>";
                    break;
                case LogColor.WHITE:
                    ret = "<color=white>";
                    break;
            }
            return ret;
        };
        DLog.LOGColor = function (pType, pMsg, pColor) {
            if (!DLog.IsShow(pType))
                return;
            switch (pType) {
                case DLogType.TrueLog:
                case DLogType.Log:
                    console.log(pMsg);
                    break;
                case DLogType.Error:
                    console.error(pMsg);
                    break;
                case DLogType.Warning:
                    console.warn(pMsg);
                    break;
                case DLogType.Assert:
                    console.assert(false, pMsg);
                    break;
                default:
                    break;
            }
        };
        DLog.Log = function (pObject) {
            if (!DLog.IsShow(DLogType.Log))
                return;
            DLog.LOGColor(DLogType.Log, pObject, LogColor.NONE);
        };
        DLog.LogWarning = function (pObject) {
            if (!DLog.IsShow(DLogType.Warning))
                return;
            DLog.LOGColor(DLogType.Warning, pObject, LogColor.NONE);
        };
        DLog.LogError = function (pObject) {
            if (!DLog.IsShow(DLogType.Error))
                return;
            DLog.LOGColor(DLogType.Error, pObject, LogColor.NONE);
        };
        DLog.LogAssertion = function (pObject) {
            if (!DLog.IsShow(DLogType.Assert))
                return;
            DLog.LOGColor(DLogType.Assert, pObject, LogColor.NONE);
        };
        DLog.MinLogType = DLogType.Log;
        return DLog;
    }());
    Log.DLog = DLog;
})(Log = exports.Log || (exports.Log = {}));
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LEvent;
(function (LEvent) {
    var EventManager = /** @class */ (function () {
        function EventManager() {
            this.eventHandles = [];
        }
        Object.defineProperty(EventManager, "Instance", {
            get: function () {
                if (EventManager._instance == null)
                    EventManager._instance = new EventManager();
                return EventManager._instance;
            },
            enumerable: true,
            configurable: true
        });
        EventManager.RegEvent = function (eventKey, callBack) {
            if (EventManager.Instance.eventHandles[eventKey] == null)
                EventManager.Instance.eventHandles[eventKey] = new EventGroup(eventKey);
            EventManager.Instance.eventHandles[eventKey].Add(callBack);
        };
        EventManager.UnRegEvent = function (eventKey, callBack) {
            if (EventManager.Instance.eventHandles[eventKey] == null)
                return;
            EventManager.Instance.eventHandles[eventKey].Remove(callBack);
        };
        EventManager.DispatchEvent = function (eventKey, data) {
            if (EventManager.Instance.eventHandles[eventKey] == null)
                return;
            EventManager.Instance.eventHandles[eventKey].DispatchEvent(data);
        };
        EventManager._instance = null;
        return EventManager;
    }());
    LEvent.EventManager = EventManager;
    var EventGroup = /** @class */ (function () {
        function EventGroup(key) {
            this._calls = [];
            this.EventKey = key;
        }
        EventGroup.prototype.Add = function (callBack) {
            var tindex = this._calls.indexOf(callBack);
            if (tindex !== -1)
                return;
            this._calls.push(callBack);
        };
        EventGroup.prototype.Remove = function (callBack) {
            var tindex = this._calls.indexOf(callBack);
            if (tindex !== -1)
                this._calls.splice(tindex, 1);
        };
        EventGroup.prototype.DispatchEvent = function (data) {
            for (var i = 0; i < this._calls.length; i++) {
                var element = this._calls[i];
                element.runWith(data);
            }
        };
        return EventGroup;
    }());
    LEvent.EventGroup = EventGroup;
})(LEvent = exports.LEvent || (exports.LEvent = {}));
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Dlog_1 = require("./Dlog");
var NodePool_1 = require("./Pool/NodePool");
var AssetLoader_1 = require("./Asset/AssetLoader");
var EventManager_1 = require("./Event/EventManager");
var AudioManager_1 = require("./Audio/AudioManager");
var LE;
(function (LE) {
    var AssetLoader = /** @class */ (function (_super) {
        __extends(AssetLoader, _super);
        function AssetLoader() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return AssetLoader;
    }(AssetLoader_1.Asset.AssetLoader));
    LE.AssetLoader = AssetLoader;
    var EventManager = /** @class */ (function (_super) {
        __extends(EventManager, _super);
        function EventManager() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return EventManager;
    }(EventManager_1.LEvent.EventManager));
    LE.EventManager = EventManager;
    var DLog = /** @class */ (function (_super) {
        __extends(DLog, _super);
        function DLog() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return DLog;
    }(Dlog_1.Log.DLog));
    LE.DLog = DLog;
    var NodePool = /** @class */ (function (_super) {
        __extends(NodePool, _super);
        function NodePool() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return NodePool;
    }(NodePool_1.Pool.NodePool));
    LE.NodePool = NodePool;
    var AudioManager = /** @class */ (function (_super) {
        __extends(AudioManager, _super);
        function AudioManager() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return AudioManager;
    }(AudioManager_1.Audio.AudioManager));
    LE.AudioManager = AudioManager;
})(LE = exports.LE || (exports.LE = {}));
},{"./Asset/AssetLoader":5,"./Audio/AudioManager":6,"./Dlog":7,"./Event/EventManager":8,"./Pool/NodePool":10}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Pool;
(function (Pool) {
    var NodePool = /** @class */ (function () {
        function NodePool() {
            this._groupList = [];
        }
        NodePool.prototype.SetCreater = function (pCreater) {
            this._creater = pCreater;
        };
        NodePool.prototype.SetDestroyer = function (pDestroyer) {
            this._destroyer = pDestroyer;
        };
        NodePool.prototype.Get = function (pKey) {
            if (pKey == null || pKey.length == 0)
                return;
            var tgp = this._groupList[pKey];
            var ret;
            if (tgp != null)
                ret = tgp.Get();
            if (ret == null && this._creater != null)
                ret = this._creater(pKey);
            return ret;
        };
        NodePool.prototype.Push = function (pKey, pNode) {
            var n = this;
            var tgp;
            if (n._groupList[pKey] == null)
                n._groupList[pKey] = new NodeGroup(pKey);
            tgp = n._groupList[pKey];
            tgp.Push(pNode);
        };
        NodePool.prototype.Clear = function () {
            var tlist = this._groupList;
            for (var key in tlist) {
                if (tlist.hasOwnProperty(key)) {
                    var e = tlist[key];
                    e.Clear(this._destroyer);
                }
            }
            this._groupList = [];
        };
        return NodePool;
    }());
    Pool.NodePool = NodePool;
    var NodeGroup = /** @class */ (function () {
        function NodeGroup(pKey) {
            this._queue = [];
            this.Key = pKey;
        }
        NodeGroup.prototype.Get = function () {
            var n = this;
            if (n._queue == null || n._queue.length == 0)
                return null;
            return n._queue.pop();
        };
        NodeGroup.prototype.Push = function (pNode) {
            var n = this;
            if (n._queue == null)
                n._queue = [];
            if (n._queue.indexOf(pNode) == -1)
                n._queue.push(pNode);
        };
        NodeGroup.prototype.Clear = function (pDestroyer) {
            var tlist = this._queue;
            for (var i = 0; i < tlist.length; i++) {
                var e = tlist[i];
                tlist[i] = null;
                if (pDestroyer != null)
                    pDestroyer(e);
            }
            tlist = null;
        };
        return NodeGroup;
    }());
    Pool.NodeGroup = NodeGroup;
})(Pool = exports.Pool || (exports.Pool = {}));
},{}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Managers;
(function (Managers) {
    var BaseManager = /** @class */ (function () {
        function BaseManager(nd, nameStr) {
            this._node = nd;
            this.managerName = nameStr;
        }
        BaseManager.Creat = function () {
            return null;
        };
        BaseManager.prototype.Update = function (dt) {
        };
        BaseManager.prototype.UpdateData = function () {
        };
        return BaseManager;
    }());
    Managers.BaseManager = BaseManager;
})(Managers = exports.Managers || (exports.Managers = {}));
},{}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LE_1 = require("../LitEngine/LE");
var BaseManager_1 = require("./BaseManager");
var ConfigManager = /** @class */ (function (_super) {
    __extends(ConfigManager, _super);
    function ConfigManager() {
        var _this = _super.call(this, null, "ConfigManager") || this;
        _this._configList = [];
        return _this;
    }
    ConfigManager.Creat = function () {
        return new ConfigManager();
    };
    ConfigManager.prototype.Init = function () {
    };
    ConfigManager.prototype.LoadConfig = function (pHandle) {
        this._loadCall = pHandle;
        LE_1.LE.AssetLoader.Load("resources/Config/ConfigList.json", Laya.Handler.create(this, this.OnListLoaded));
    };
    ConfigManager.prototype.OnListLoaded = function (pListobj) {
        this._cfgListObj = pListobj;
        var assets = [];
        var tlist = this._cfgListObj.configList;
        for (var index = 0; index < tlist.length; index++) {
            assets.push(tlist[index].filePath);
        }
        LE_1.LE.AssetLoader.Load(assets, Laya.Handler.create(this, this.OnCfgLoaded));
    };
    ConfigManager.prototype.OnCfgLoaded = function () {
        var tcfglist = this._configList;
        var tlist = this._cfgListObj.configList;
        for (var index = 0; index < tlist.length; index++) {
            var elment = tlist[index];
            var tcfg = Laya.Loader.getRes(elment.filePath);
            tcfglist[elment.key] = tcfg;
        }
        if (this._loadCall != null)
            this._loadCall.run();
    };
    ConfigManager.prototype.GetConfig = function (key) {
        var tcfglist = this._configList;
        if (tcfglist[key] == null) {
            console.error("Cant not found config.key = " + key);
            return null;
        }
        return tcfglist[key];
    };
    return ConfigManager;
}(BaseManager_1.Managers.BaseManager));
exports.default = ConfigManager;
},{"../LitEngine/LE":9,"./BaseManager":11}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StateBase_1 = require("../State/StateBase");
var BaseManager_1 = require("./BaseManager");
var StateManager = /** @class */ (function (_super) {
    __extends(StateManager, _super);
    function StateManager(nd) {
        return _super.call(this, nd, "StateManager") || this;
    }
    StateManager.Creat = function () {
        return new StateManager(null);
    };
    StateManager.prototype.Init = function () {
    };
    Object.defineProperty(StateManager.prototype, "CurState", {
        get: function () {
            return this._curState;
        },
        enumerable: true,
        configurable: true
    });
    StateManager.prototype.GotoState = function (state, pData) {
        var tlast = this._curState;
        Laya.loader.clearUnLoaded(); //必须确保切换前没有正在加载的资源.否则会有内存问题
        if (tlast != null) {
            if (tlast.name == state.name || tlast.State == StateBase_1.State.StateType.onEnter)
                return;
            tlast.OnExit();
        }
        this._curState = state;
        state.OnEnter(Laya.Handler.create(this, this.OnCurStateLoaded), pData);
    };
    StateManager.prototype.OnCurStateLoaded = function () {
        // if (this._lastState != null)
        //     this._lastState.OnExit();
        Laya.Resource.destroyUnusedResources();
    };
    StateManager.prototype.Update = function (dt) {
        var tcur = this._curState;
        if (tcur != null && tcur.State == StateBase_1.State.StateType.Loaded) {
            tcur.Update(dt);
        }
    };
    StateManager.prototype.UpdateData = function () {
        var tcur = this._curState;
        if (tcur != null && tcur.State == StateBase_1.State.StateType.Loaded) {
            tcur.UpdateData();
        }
    };
    return StateManager;
}(BaseManager_1.Managers.BaseManager));
exports.default = StateManager;
},{"../State/StateBase":18,"./BaseManager":11}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("../GameCore");
var UIBase_1 = require("../ui/UIBase");
var LE_1 = require("../LitEngine/LE");
var BaseManager_1 = require("./BaseManager");
var UIManager = /** @class */ (function (_super) {
    __extends(UIManager, _super);
    function UIManager(nd) {
        var _this = _super.call(this, nd, "UIManager") || this;
        _this._uiList = [];
        _this.uiPath = "UI/";
        _this.uiLastName = ".scene";
        return _this;
    }
    UIManager.Creat = function () {
        var tnode = GameCore_1.default.Core.layerUI.addChild(new Laya.Sprite());
        tnode.name = "UImanagerNode";
        return new UIManager(tnode);
    };
    UIManager.prototype.Init = function () {
    };
    UIManager.prototype.LoadComplete = function (pName, method, pUI) {
        var p = this;
        if (pUI == null) {
            LE_1.LE.DLog.LogError(pName + " faile.please try again.");
            if (method != null) {
                method.runWith(null);
            }
            return;
        }
        var tui = pUI.getComponent(UIBase_1.default);
        if (tui == null) {
            console.error("Cant found uibase on " + pName + ".please check your scene.");
        }
        else {
            tui.parent = p._node;
            p._uiList[pName] = tui;
            tui.active = true;
            if (method != null) {
                method.runWith(tui);
            }
        }
    };
    UIManager.prototype.ShowUI = function (uiName, method) {
        var p = this;
        if (p._uiList[uiName] == null) {
            var tfullpathname = p.uiPath + uiName + p.uiLastName;
            Laya.Scene.load(tfullpathname, Laya.Handler.create(p, p.LoadComplete, [uiName, method]));
        }
        else {
            var tui = p._uiList[uiName];
            tui.active = true;
            if (method != null)
                method.runWith(tui);
        }
    };
    UIManager.prototype.HideUI = function (uiName) {
        var tmgr = this;
        var tui = tmgr._uiList[uiName];
        if (tui != null) {
            tui.active = false;
        }
    };
    UIManager.prototype.GetUI = function (uiName) {
        var p = this;
        var ret = p._uiList[uiName];
        return ret;
    };
    UIManager.prototype.DestoryUI = function (uiName) {
        var tmgr = this;
        var tui = tmgr._uiList[uiName];
        if (tui != null) {
            tmgr._uiList[uiName] = null;
            tui.destroyUI();
        }
    };
    UIManager.prototype.UpdateData = function () {
        var tlist = this._uiList;
        for (var key in tlist) {
            if (tlist.hasOwnProperty(key)) {
                var element = tlist[key];
                if (element == null || !element.active)
                    continue;
                element.UpdateData();
            }
        }
    };
    return UIManager;
}(BaseManager_1.Managers.BaseManager));
exports.default = UIManager;
},{"../GameCore":3,"../LitEngine/LE":9,"../ui/UIBase":19,"./BaseManager":11}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var InGameModule = /** @class */ (function () {
    function InGameModule(pScName) {
    }
    InGameModule.prototype.Init = function (pComplete) {
    };
    InGameModule.prototype.GetScene = function () {
    };
    //#region init
    //#endregion
    //#region running
    InGameModule.prototype.Run = function () {
    };
    InGameModule.prototype.Pause = function () { };
    InGameModule.prototype.Resume = function () { };
    InGameModule.prototype.Destroy = function () {
    };
    //#endregion
    //#region update
    InGameModule.prototype.Update = function (dt) {
    };
    InGameModule.prototype.UpdateData = function () {
    };
    //#endregion
    //#region call
    //#endregion
    InGameModule.prototype.ModuleEvent = function (pEventData) {
    };
    return InGameModule;
}());
exports.default = InGameModule;
},{}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var InGameModule_1 = require("../Module/InGameModule");
var StateBase_1 = require("./StateBase");
var InGameState = /** @class */ (function (_super) {
    __extends(InGameState, _super);
    function InGameState() {
        return _super.call(this, "InGameState") || this;
    }
    InGameState.prototype.OnEnter = function (fun, pData) {
        _super.prototype.OnEnter.call(this, fun, pData);
        this._module = new InGameModule_1.default(String(pData));
        this._module.Init(Laya.Handler.create(this, this.OnGameLoaded));
    };
    InGameState.prototype.OnGameLoaded = function (obj) {
        this.OnLoaded();
    };
    InGameState.prototype.OnExit = function () {
        _super.prototype.OnExit.call(this);
    };
    InGameState.prototype.OnLoaded = function () {
        _super.prototype.OnLoaded.call(this);
    };
    InGameState.prototype.Update = function (dt) {
        _super.prototype.Update.call(this, dt);
    };
    InGameState.prototype.UpdateData = function () {
        _super.prototype.UpdateData.call(this);
    };
    return InGameState;
}(StateBase_1.State.StateBase));
exports.default = InGameState;
},{"../Module/InGameModule":15,"./StateBase":18}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("../GameCore");
var StateBase_1 = require("./StateBase");
var MainState = /** @class */ (function (_super) {
    __extends(MainState, _super);
    function MainState() {
        return _super.call(this, "MainState") || this;
    }
    MainState.prototype.OnEnter = function (fun, pData) {
        _super.prototype.OnEnter.call(this, fun, pData);
        GameCore_1.default.mgrUI.ShowUI("UIMain", Laya.Handler.create(this, function () {
            this.OnLoaded();
        }));
    };
    MainState.prototype.OnExit = function () {
        GameCore_1.default.mgrUI.DestoryUI("UIMain");
        _super.prototype.OnExit.call(this);
    };
    MainState.prototype.OnLoaded = function () {
        _super.prototype.OnLoaded.call(this);
    };
    return MainState;
}(StateBase_1.State.StateBase));
exports.default = MainState;
},{"../GameCore":3,"./StateBase":18}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var State;
(function (State) {
    var StateType;
    (function (StateType) {
        StateType[StateType["none"] = 0] = "none";
        StateType[StateType["onEnter"] = 1] = "onEnter";
        StateType[StateType["onExit"] = 2] = "onExit";
        StateType[StateType["Loaded"] = 3] = "Loaded";
    })(StateType = State.StateType || (State.StateType = {}));
    var StateBase = /** @class */ (function () {
        function StateBase(nstr) {
            this._state = StateType.none;
            this.name = nstr;
        }
        Object.defineProperty(StateBase.prototype, "CurModule", {
            get: function () {
                return this._module;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(StateBase.prototype, "State", {
            get: function () {
                return this._state;
            },
            enumerable: true,
            configurable: true
        });
        StateBase.prototype.OnEnter = function (fun, pData) {
            this._state = StateType.onEnter;
            this._onLoaded = fun;
        };
        StateBase.prototype.OnExit = function () {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.Destroy();
            this._state = StateType.onExit;
        };
        StateBase.prototype.OnLoaded = function () {
            this._state = StateType.Loaded;
            if (this._onLoaded != null)
                this._onLoaded.run();
        };
        StateBase.prototype.Update = function (dt) {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.Update(dt);
        };
        StateBase.prototype.UpdateData = function () {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.UpdateData();
        };
        return StateBase;
    }());
    State.StateBase = StateBase;
})(State = exports.State || (exports.State = {}));
},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase = /** @class */ (function (_super) {
    __extends(UIBase, _super);
    function UIBase() {
        var _this = _super.call(this) || this;
        _this._active = false;
        return _this;
    }
    Object.defineProperty(UIBase.prototype, "parent", {
        get: function () {
            return this._parent;
        },
        set: function (value) {
            this._parent = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIBase.prototype, "active", {
        get: function () {
            return this._active;
        },
        set: function (value) {
            this._active = value;
            if (!value) {
                this.owner.removeSelf();
            }
            else {
                if (this.parent != null)
                    this.parent.addChild(this.owner);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIBase.prototype, "nodeScene", {
        get: function () {
            return this.owner;
        },
        enumerable: true,
        configurable: true
    });
    UIBase.prototype.destroyUI = function () {
        this.owner.destroy();
    };
    UIBase.prototype.UpdateData = function () {
    };
    return UIBase;
}(Laya.Script));
exports.default = UIBase;
},{}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase_1 = require("./UIBase");
var GameCore_1 = require("../GameCore");
var MainState_1 = require("../State/MainState");
var UIMain = /** @class */ (function (_super) {
    __extends(UIMain, _super);
    function UIMain() {
        return _super.call(this) || this;
    }
    UIMain.prototype.onAwake = function () {
        this.backbtn = this.owner.getChildByName("backbtn");
        this.backbtn.on(laya.events.Event.CLICK, this, function () {
            GameCore_1.default.mgrState.GotoState(new MainState_1.default());
        });
    };
    return UIMain;
}(UIBase_1.default));
exports.default = UIMain;
},{"../GameCore":3,"../State/MainState":17,"./UIBase":19}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase_1 = require("./UIBase");
var GameCore_1 = require("../GameCore");
var InGameState_1 = require("../State/InGameState");
var UIMain = /** @class */ (function (_super) {
    __extends(UIMain, _super);
    function UIMain() {
        return _super.call(this) || this;
    }
    UIMain.prototype.onAwake = function () {
        this.testbutton = this.owner.getChildByName("testbutton");
        var testcount = 0;
        this.testbutton.on(laya.events.Event.CLICK, this, function () {
            GameCore_1.default.mgrState.GotoState(new InGameState_1.default(), "1001");
        });
    };
    UIMain.prototype.onEnable = function () {
    };
    UIMain.prototype.onDisable = function () {
    };
    return UIMain;
}(UIBase_1.default));
exports.default = UIMain;
},{"../GameCore":3,"../State/InGameState":16,"./UIBase":19}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1Byb2dyYW0gRmlsZXMvTGF5YUJveC9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9HYW1lQ29yZS50cyIsInNyYy9zY3JpcHQvR2FtZVN0YXJ0LnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvQXNzZXQvQXNzZXRMb2FkZXIudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9BdWRpby9BdWRpb01hbmFnZXIudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9EbG9nLnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvRXZlbnQvRXZlbnRNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvTEUudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9Qb29sL05vZGVQb29sLnRzIiwic3JjL3NjcmlwdC9NYW5hZ2Vycy9CYXNlTWFuYWdlci50cyIsInNyYy9zY3JpcHQvTWFuYWdlcnMvQ29uZmlnTWFuYWdlci50cyIsInNyYy9zY3JpcHQvTWFuYWdlcnMvU3RhdGVNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9NYW5hZ2Vycy9VSU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L01vZHVsZS9JbkdhbWVNb2R1bGUudHMiLCJzcmMvc2NyaXB0L1N0YXRlL0luR2FtZVN0YXRlLnRzIiwic3JjL3NjcmlwdC9TdGF0ZS9NYWluU3RhdGUudHMiLCJzcmMvc2NyaXB0L1N0YXRlL1N0YXRlQmFzZS50cyIsInNyYy9zY3JpcHQvdWkvVUlCYXNlLnRzIiwic3JjL3NjcmlwdC91aS9VSUluR2FtZS50cyIsInNyYy9zY3JpcHQvdWkvVUlNYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRyxnREFBMEM7QUFD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RSxJQUFJLEVBQUU7WUFDOUMsa0JBQVEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUkscUJBQVcsRUFBRSxFQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFELENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELHlCQUFRLEdBQVI7SUFFQSxDQUFDO0lBRUQsMEJBQVMsR0FBVDtJQUVBLENBQUM7SUFDTCxhQUFDO0FBQUQsQ0F6QkEsQUF5QkMsQ0F6Qm1DLGdCQUFNLEdBeUJ6QyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVTdGFydCBmcm9tIFwiLi9zY3JpcHQvR2FtZVN0YXJ0XCJcbmltcG9ydCBVSUluR2FtZSBmcm9tIFwiLi9zY3JpcHQvdWkvVUlJbkdhbWVcIlxuaW1wb3J0IFVJTWFpbiBmcm9tIFwiLi9zY3JpcHQvdWkvVUlNYWluXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cInNob3dhbGxcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cIlVJL1VJTWFpbi5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPWZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lU3RhcnQudHNcIixHYW1lU3RhcnQpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdWkvVUlJbkdhbWUudHNcIixVSUluR2FtZSk7XG4gICAgICAgIHJlZyhcInNjcmlwdC91aS9VSU1haW4udHNcIixVSU1haW4pO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuL3NjcmlwdC9HYW1lQ29yZVwiXHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRHYW1lQ29uZmlnLmhlaWdodCA9IDA7Ly/osIPnlKjpu5jorqTnlJ/miJDnmoTohJrmnKzmlrnms5VcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb3JlLndpZHRoLCBHYW1lQ29yZS5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvcmUud2lkdGgsIEdhbWVDb3JlLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb3JlLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb3JlLnNjcmVlbk1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduSCA9IEdhbWVDb3JlLmFsaWduSDtcclxuXHRcdExheWEuc3RhZ2UuYWxpZ25WID0gR2FtZUNvcmUuYWxpZ25WO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29yZS5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29yZS5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb3JlLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvcmUuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0R2FtZUNvcmUuSW5pdCgpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJcclxuaW1wb3J0IE1haW5TdGF0ZSBmcm9tIFwiLi9TdGF0ZS9NYWluU3RhdGVcIjtcclxuaW1wb3J0IFVJTWFuYWdlciBmcm9tIFwiLi9NYW5hZ2Vycy9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IFN0YXRlTWFuYWdlciBmcm9tIFwiLi9NYW5hZ2Vycy9TdGF0ZU1hbmFnZXJcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4vTWFuYWdlcnMvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBMRSB9IGZyb20gXCIuL0xpdEVuZ2luZS9MRVwiO1xyXG5pbXBvcnQgeyBNYW5hZ2VycyB9IGZyb20gXCIuL01hbmFnZXJzL0Jhc2VNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29yZSBpbXBsZW1lbnRzIElEaXNwb3NlIHtcclxuXHJcbiAgICAvLyNyZWdpb24gY29uZmlnXHJcbiAgICAvKipcclxuICogPHA+57yp5pS+5qih5byP44CC6buY6K6k5YC85Li6IFwibm9zY2FsZVwi44CCPC9wPlxyXG4gKiA8cD48dWw+5Y+W5YC86IyD5Zu077yaXHJcbiAqIDxsaT5cIm5vc2NhbGVcIiDvvJrkuI3nvKnmlL7vvJs8L2xpPlxyXG4gKiA8bGk+XCJleGFjdGZpdFwiIO+8muWFqOWxj+S4jeetieavlOe8qeaUvu+8mzwvbGk+XHJcbiAqIDxsaT5cInNob3dhbGxcIiDvvJrmnIDlsI/mr5TkvovnvKnmlL7vvJs8L2xpPlxyXG4gKiA8bGk+XCJub2JvcmRlclwiIO+8muacgOWkp+avlOS+i+e8qeaUvu+8mzwvbGk+XHJcbiAqIDxsaT5cImZ1bGxcIiDvvJrkuI3nvKnmlL7vvIxzdGFnZeeahOWuvemrmOetieS6juWxj+W5leWuvemrmO+8mzwvbGk+XHJcbiAqIDxsaT5cImZpeGVkd2lkdGhcIiDvvJrlrr3luqbkuI3lj5jvvIzpq5jluqbmoLnmja7lsY/luZXmr5TnvKnmlL7vvJs8L2xpPlxyXG4gKiA8bGk+XCJmaXhlZGhlaWdodFwiIO+8mumrmOW6puS4jeWPmO+8jOWuveW6puagueaNruWxj+W5leavlOe8qeaUvu+8mzwvbGk+XHJcbiAqIDxsaT5cImZpeGVkYXV0b1wiIO+8muagueaNruWuvemrmOavlO+8jOiHquWKqOmAieaLqeS9v+eUqGZpeGVkd2lkdGjmiJZmaXhlZGhlaWdodO+8mzwvbGk+XHJcbiAqIDwvdWw+PC9wPlxyXG4gKi9cclxuICAgIHN0YXRpYyB3aWR0aDogbnVtYmVyID0gNzIwO1xyXG4gICAgc3RhdGljIGhlaWdodDogbnVtYmVyID0gMTI4MDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6IHN0cmluZyA9IFwic2hvd2FsbFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6IHN0cmluZyA9IFwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjogc3RyaW5nID0gXCJjZW50ZXJcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6IHN0cmluZyA9IFwibWlkZGxlXCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTogYW55ID0gXCJHYW1lU3RhcnQuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBzdGF0aWMgZGF0YVVwZGF0ZUludGVydmFsID0gMC4yO1xyXG4gICAgc3RhdGljIG9wZW5UcnlDYWNoZSA9IGZhbHNlO1xyXG4gICAgLy8jZW5kcmVnaW9uXHJcbiAgICAvLyNyZWdpb24gY29yZeaguOW/g+e7hOS7tlxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2NvcmU6IEdhbWVDb3JlID0gbnVsbDtcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IENvcmUoKSB7XHJcbiAgICAgICAgaWYgKEdhbWVDb3JlLl9jb3JlID09IG51bGwpIHtcclxuICAgICAgICAgICAgR2FtZUNvcmUuX2NvcmUgPSBuZXcgR2FtZUNvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEdhbWVDb3JlLl9jb3JlO1xyXG4gICAgfVxyXG4gICAgLy8jcmVnaW9uIGxheWVyc1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxheWVyU2NlbmU6IExheWEuU3ByaXRlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxheWVyVUk6IExheWEuU3ByaXRlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxheWVyT3ZlcjogTGF5YS5TcHJpdGU7XHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gbWdyc1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgbWdyVUkoKTogVUlNYW5hZ2VyIHtcclxuICAgICAgICByZXR1cm4gR2FtZUNvcmUuQ29yZS5tZ3JMaXN0W1wiVUlNYW5hZ2VyXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IG1nckNvbmZpZygpOiBDb25maWdNYW5hZ2VyIHtcclxuICAgICAgICByZXR1cm4gR2FtZUNvcmUuQ29yZS5tZ3JMaXN0W1wiQ29uZmlnTWFuYWdlclwiXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBtZ3JTdGF0ZSgpOiBTdGF0ZU1hbmFnZXIge1xyXG4gICAgICAgIHJldHVybiBHYW1lQ29yZS5Db3JlLm1nckxpc3RbXCJTdGF0ZU1hbmFnZXJcIl07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtZ3JMaXN0OiBNYW5hZ2Vycy5CYXNlTWFuYWdlcltdID0gW107XHJcbiAgICBwcml2YXRlIHVwZGF0ZUxpc3Q6IE1hbmFnZXJzLkJhc2VNYW5hZ2VyW10gPSBbXTtcclxuICAgIHByaXZhdGUgX2RhdGFVcGRhdGVUaW1lciA9IDA7XHJcbiAgICBwcml2YXRlIGlzUnVuaW5nID0gZmFsc2U7XHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNlbmRyZWdpb24gIFxyXG4gICAgLy8jcmVnaW9uIOaWueazlVxyXG4gICAgLy8gXCJzaG93YWxsXCJcclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgR2FtZUNvcmUuX2NvcmUgPSB0aGlzO1xyXG4gICAgICAgIExheWEuc3RhZ2UuZnJhbWVMb29wKDEsIHRoaXMsIHRoaXMuVXBkYXRlKTtcclxuICAgICAgICB0aGlzLmxheWVyU2NlbmUgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLlNwcml0ZSgpKSBhcyBMYXlhLlNwcml0ZTsvL+WPr+imi+acgOW6leWxglxyXG4gICAgICAgIHRoaXMubGF5ZXJVSSA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU3ByaXRlKCkpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIHRoaXMubGF5ZXJPdmVyID0gTGF5YS5zdGFnZS5hZGRDaGlsZChuZXcgTGF5YS5TcHJpdGUoKSkgYXMgTGF5YS5TcHJpdGU7XHJcblxyXG4gICAgICAgIHRoaXMuQWRkTWdyKENvbmZpZ01hbmFnZXIuQ3JlYXQoKSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuQWRkTWdyKFVJTWFuYWdlci5DcmVhdCgpKTtcclxuICAgICAgICB0aGlzLkFkZE1ncihTdGF0ZU1hbmFnZXIuQ3JlYXQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBJbml0KCkge1xyXG4gICAgICAgIGlmIChHYW1lQ29yZS5fY29yZSAhPSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHRjb3JlID0gR2FtZUNvcmUuQ29yZTtcclxuICAgICAgICBHYW1lQ29yZS5tZ3JDb25maWcuTG9hZENvbmZpZyhMYXlhLkhhbmRsZXIuY3JlYXRlKHRjb3JlLCB0Y29yZS5PbkNvbmZpZ0xvYWRlZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgRGVzdHJveUNvcmUoKSB7XHJcbiAgICAgICAgaWYgKEdhbWVDb3JlLl9jb3JlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgR2FtZUNvcmUuX2NvcmUuRGVzdHJveSgpO1xyXG4gICAgICAgICAgICBHYW1lQ29yZS5fY29yZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQWRkTWdyKHBNZ3I6IE1hbmFnZXJzLkJhc2VNYW5hZ2VyLCBwVXBkYXRlOiBib29sZWFuID0gdHJ1ZSkgIHtcclxuICAgICAgICBsZXQgZyA9IHRoaXM7XHJcbiAgICAgICAgZy5tZ3JMaXN0W3BNZ3IubWFuYWdlck5hbWVdID0gcE1ncjtcclxuICAgICAgICBpZiAocFVwZGF0ZSkge1xyXG4gICAgICAgICAgICBnLnVwZGF0ZUxpc3QucHVzaChwTWdyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIE9uQ29uZmlnTG9hZGVkKCkgIHtcclxuICAgICAgICBsZXQgcCA9IHRoaXM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLm1nckxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZSA9IHAubWdyTGlzdFtpXTtcclxuICAgICAgICAgICAgZS5Jbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEdhbWVDb3JlLm1nclN0YXRlLkdvdG9TdGF0ZShuZXcgTWFpblN0YXRlKCkpO1xyXG4gICAgICAgIHAuaXNSdW5pbmcgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIERlc3Ryb3koKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzO1xyXG4gICAgICAgIExheWEuc3RhZ2UuY2xlYXJUaW1lcih0aGlzLCB0aGlzLlVwZGF0ZSk7XHJcbiAgICAgICAgcC5sYXllclNjZW5lLmRlc3Ryb3koKTtcclxuICAgICAgICBwLmxheWVyVUkuZGVzdHJveSgpO1xyXG4gICAgICAgIHAubGF5ZXJPdmVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbiAgICBVcGRhdGUoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzO1xyXG4gICAgICAgIGlmICghcC5pc1J1bmluZykgcmV0dXJuO1xyXG4gICAgICAgIGxldCBkdCA9IE1hdGgubWluKExheWEudGltZXIuZGVsdGEgKiAwLjAwMSwgMC41KTtcclxuXHJcbiAgICAgICAgbGV0IHRpbnRlcnZhbCA9IEdhbWVDb3JlLmRhdGFVcGRhdGVJbnRlcnZhbDtcclxuICAgICAgICBsZXQgdG9wZW50cnkgPSBHYW1lQ29yZS5vcGVuVHJ5Q2FjaGU7XHJcbiAgICAgICAgbGV0IHR0aW1lciA9IHAuX2RhdGFVcGRhdGVUaW1lciArIGR0O1xyXG4gICAgICAgIGxldCB0aXNVcGRhdGVEYXRhID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR0aW1lciA+PSB0aW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGlzVXBkYXRlRGF0YSA9IHRydWU7XHJcbiAgICAgICAgICAgIHAuX2RhdGFVcGRhdGVUaW1lciA9IHR0aW1lcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0bGlzdCA9IHRoaXMubWdyTGlzdDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGxpc3RbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAodG9wZW50cnkpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5VcGRhdGVFbGVtZW50KGVsZW1lbnQsIGR0LCB0aXNVcGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlbGVtZW50Lm1hbmFnZXJOYW1lICsgXCItLS1cIiArIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHAuVXBkYXRlRWxlbWVudChlbGVtZW50LCBkdCwgdGlzVXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgVXBkYXRlRWxlbWVudChlOiBNYW5hZ2Vycy5CYXNlTWFuYWdlciwgZHQ6IG51bWJlciwgaXNVcGRhdGVEYXRhOiBib29sZWFuKSB7XHJcbiAgICAgICAgZS5VcGRhdGUoZHQpO1xyXG4gICAgICAgIGlmIChpc1VwZGF0ZURhdGEpXHJcbiAgICAgICAgICAgIGUuVXBkYXRlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcbn0iLCJpbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4vR2FtZUNvcmVcIjtcclxuaW1wb3J0IE1haW5TdGF0ZSBmcm9tIFwiLi9TdGF0ZS9NYWluU3RhdGVcIjtcclxuXHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lU3RhcnQgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuICAgIHB1YmxpYyB0ZXN0U2NlbmVfYnRuOiBMYXlhLkJ1dHRvbjtcclxuICAgIHB1YmxpYyBidG5fdGV4dHRlc3Q6IExheWEuVGV4dDtcclxuXHJcbiAgICBwdWJsaWMgb3duZXIzZDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2hpbGRyZW4oKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICB0aGlzLmxvYWRTY2VuZShcIkdhbWVTdGFydFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgIC8vTGF5YS5TY2VuZTNELmxvYWQoXCJ0ZXN0c2NlbmUvbGV2ZWwxLmxzXCIsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLHRoaXMub25Db21wbGV0ZSkpO1xyXG5cclxuICAgICAgICAvL+a3u+WKoDNE5Zy65pmvXHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHZhciB0c2NlbmU6IExheWEuU2NlbmUzRCA9IHRoaXMuYWRkQ2hpbGQobmV3IExheWEuU2NlbmUzRCgpKSBhcyBMYXlhLlNjZW5lM0Q7XHJcbiAgICAgICAgLy8gdGhpcy5vd25lcjNkID0gdHNjZW5lO1xyXG5cclxuICAgICAgICAvLyB2YXIgY2FtZXJhOkxheWEuQ2FtZXJhID0gKHRzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5DYW1lcmEoIDAsIDAuMSwgMTAwKSkpIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgIC8vICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDEsIDYsIDEwKSk7XHJcbiAgICAgICAgLy8gICAgIGNhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoIC0zMCwgMCwgMCksIHRydWUsIGZhbHNlKTtcclxuICAgICAgICAvLyAgICAgY2FtZXJhLmNsZWFyQ29sb3IgPSBudWxsO1xyXG4gICAgICAgICAgIFxyXG5cclxuXHJcbiAgICAgICAgLy8gICAgIHZhciBkaXJlY3Rpb25MaWdodDpMYXlhLkRpcmVjdGlvbkxpZ2h0ID0gdHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkRpcmVjdGlvbkxpZ2h0KCkpIGFzIExheWEuRGlyZWN0aW9uTGlnaHQ7XHJcbiAgICAgICAgLy8gICAgIGRpcmVjdGlvbkxpZ2h0LmRpZmZ1c2VDb2xvciA9IG5ldyBMYXlhLlZlY3RvcjMoMC42LCAwLjYsIDAuNik7XHJcbiAgICAgICAgLy8gICAgIGRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS53b3JsZE1hdHJpeC5zZXRGb3J3YXJkKG5ldyBMYXlhLlZlY3RvcjMoMSwgLTEsIDApKTtcclxuICAgICAgICAvLyAgICAgLy/mt7vliqDoh6rlrprkuYnmqKHlnotcclxuICAgICAgICAvLyAgICAgdmFyIHNwaGVyZTpMYXlhLk1lc2hTcHJpdGUzRCA9IHRzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZVNwaGVyZSgxLDEwMCwxMDApKSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgLy8gICAgIHNwaGVyZS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCw5MCwwKSxmYWxzZSxmYWxzZSk7XHJcbiAgICAgICAgLy8gICAgIHNwaGVyZS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwzLDApKTtcclxuICAgICAgICAvLyAgICAgc3BoZXJlLm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbDtcclxuICAgICAgICAvLyAgICAgdmFyIG1hdGVyaWFsOkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcbiAgICAgICAgLy8gICAgIExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbih0ZXg6TGF5YS5UZXh0dXJlMkQpOnZvaWQge1xyXG4gICAgICAgIC8vICAgICAgICAgbWF0ZXJpYWwuYWxiZWRvVGV4dHVyZSA9IHRleDtcclxuICAgICAgICAvLyAgICAgfSkpO1xyXG4gICAgICAgIC8vICAgICBzcGhlcmUubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbWF0ZXJpYWw7XHJcbiAgICAgICAgLy8gICAgIC8v5re75Yqg54mp55CG57uE5Lu2XHJcbiAgICAgICAgLy8gICAgIHNwaGVyZS5hZGRDb21wb25lbnQoTGF5YS5QaHlzaWNzQ29sbGlkZXIpO1xyXG4gICAgICAgIC8vICAgICAvL+e7meeQg+a3u+WKoOWImuS9k1xyXG4gICAgICAgIC8vICAgICB2YXIgcmlnaWQ6TGF5YS5SaWdpZGJvZHkzRCA9IHNwaGVyZS5hZGRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCk7XHJcbiAgICAgICAgLy8gICAgIC8v5pyJ5Yia5L2T55qEc2hhcGXopoHliqDlnKjliJrkvZPkuIpcclxuICAgICAgICAvLyAgICAgcmlnaWQuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLlNwaGVyZUNvbGxpZGVyU2hhcGUoMSk7XHJcbiAgICAgICAgLy8gICAgIC8v5re75Yqg5LiA5Liq5Zyw5p2/XHJcbiAgICAgICAgLy8gICAgIHZhciBmbG9vcjpMYXlhLk1lc2hTcHJpdGUzRCA9IHRzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZVBsYW5lKDEwLDEwKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIC8vICAgICAvL+e7meWcsOadv+a3u+WKoOeJqeeQhue7hOS7tlxyXG4gICAgICAgIC8vICAgICB2YXIgZmxvb3JDb2xsaWNhcjpMYXlhLlBoeXNpY3NDb2xsaWRlciA9IGZsb29yLmFkZENvbXBvbmVudChMYXlhLlBoeXNpY3NDb2xsaWRlcik7XHJcbiAgICAgICAgLy8gICAgIC8vIOa3u+WKoGNvbGxpZGVyc2hhcGVcclxuICAgICAgICAvLyAgICAgZmxvb3JDb2xsaWNhci5jb2xsaWRlclNoYXBlID0gbmV3IExheWEuQm94Q29sbGlkZXJTaGFwZSgxMCwwLDEwKTtcclxuICAgICAgICAvLyAgICAgLy/lhYvpmobkuIDkuKrnkIMgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gICAgIExheWEudGltZXIub25jZSgxMDAwLHRoaXMsZnVuY3Rpb24oKTp2b2lke1xyXG4gICAgICAgIC8vICAgICAgIC8v5LiA56eS5LmL5ZCO5aSN5Yi25LiA5Liq55CDXHJcbiAgICAgICAgLy8gICAgICAgICAgdmFyIGNsb25lU3BoZXJlOkxheWEuTWVzaFNwcml0ZTNEID0gTGF5YS5TcHJpdGUzRC5pbnN0YW50aWF0ZShzcGhlcmUpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIC8vICAgICAgICAgLy/orr7nva7kvY3nva7lgY/np7tcclxuICAgICAgICAvLyAgICAgICAgICBjbG9uZVNwaGVyZS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMSw0LDApKTtcclxuICAgICAgICAvLyAgICAgICAgIC8v5re75Yqg5Yiw5Zy65pmvXHJcbiAgICAgICAgLy8gICAgICAgICB0c2NlbmUuYWRkQ2hpbGQoY2xvbmVTcGhlcmUpO1xyXG4gICAgICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAgICAgTGF5YS5TY2VuZTNELmxvYWQoJ3Rlc3RzY2VuZS9sZXZlbDEubHMnLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db21wbGV0ZSkpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmJ0bl90ZXh0dGVzdCk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50ZXN0U2NlbmVfYnRuKTtcclxuICAgICAgICAvLyB2YXIgdGVzdGNvdW50ID0gMDtcclxuICAgICAgICAvLyB0aGlzLnRlc3RTY2VuZV9idG4ub24obGF5YS5ldmVudHMuRXZlbnQuQ0xJQ0ssIHRoaXMsIGZ1bmN0aW9uICgpIHsgdGhpcy5idG5fdGV4dHRlc3QudGV4dCA9IFN0cmluZyh0ZXN0Y291bnQpOyB0ZXN0Y291bnQrKzsgfSk7XHJcbiAgICAgICAvLyBHYW1lQ29yZS5Db3JlLm1nclN0YXRlLkdvdG9TdGF0ZShuZXcgTWFpblN0YXRlKCkpO1xyXG4gICAgICAgIC8vIEdhbWVDb3JlLm1nclVJLlNob3dVSShcIlVJTWFpblwiLGZ1bmN0aW9uKHN1aSl7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHN1aSk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gTGF5YS5TY2VuZS5sb2FkKFwicHJlZmFiL3Rlc3RpbWFnZS5wcmVmYWJcIixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5hZGRDaGlsZChyZXMpO1xyXG4gICAgICAgIC8vIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQ29tcGxldGUoc2NlbmVyZXM6IExheWEuU2NlbmUzRCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOWwhuWcuuaZr+WKoOWIsOiInuWPsOS4ilxyXG4gICAgICAgIEdhbWVDb3JlLkNvcmUubGF5ZXJTY2VuZS5hZGRDaGlsZChzY2VuZXJlcyk7XHJcbiAgICAgICAvLyB0aGlzLmFkZENoaWxkQXQoc2NlbmVyZXMsMCk7XHJcbiAgICAgICAgLy8gICAgIC8v5re75Yqg6Ieq5a6a5LmJ5qih5Z6LXHJcbiAgICAgICAgdmFyIHNwaGVyZTogTGF5YS5NZXNoU3ByaXRlM0QgPSAgc2NlbmVyZXMuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVTcGhlcmUoMSwgMTAwLCAxMDApKSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgc3BoZXJlLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLCA5MCwgMCksIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgc3BoZXJlLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLCAzLCAwKSk7XHJcbiAgICAgICAgc3BoZXJlLm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbDtcclxuICAgICAgICB2YXIgbWF0ZXJpYWw6IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcbiAgICAgICAgTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9sYXlhYm94LnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsIGZ1bmN0aW9uICh0ZXg6IExheWEuVGV4dHVyZTJEKTogdm9pZCB7XHJcbiAgICAgICAgICAgIG1hdGVyaWFsLmFsYmVkb1RleHR1cmUgPSB0ZXg7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHNwaGVyZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICAgICAgICAvL+a3u+WKoOeJqeeQhue7hOS7tlxyXG4gICAgICAgIHNwaGVyZS5hZGRDb21wb25lbnQoTGF5YS5QaHlzaWNzQ29sbGlkZXIpO1xyXG4gICAgICAgIC8v57uZ55CD5re75Yqg5Yia5L2TXHJcbiAgICAgICAgdmFyIHJpZ2lkOiBMYXlhLlJpZ2lkYm9keTNEID0gc3BoZXJlLmFkZENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuICAgICAgICByaWdpZC5jb2xsaWRlclNoYXBlID0gbmV3IExheWEuU3BoZXJlQ29sbGlkZXJTaGFwZSgxKTtcclxuXHJcbiAgICAgICAvLyB0aGlzLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxufSIsIiBleHBvcnQgbW9kdWxlIEFzc2V0e1xyXG4gICAgZXhwb3J0IGNsYXNzIEFzc2V0TG9hZGVyIHtcclxuICAgICAgICBwcml2YXRlIF9hc3NldHM6IGFueVtdID0gW11cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBMb2FkKHVybDogYW55LCBjb21wbGV0ZT86TGF5YS5IYW5kbGVyLCBwcm9ncmVzcz86IExheWEuSGFuZGxlciwgdHlwZT86IHN0cmluZywgcHJpb3JpdHk/OiBudW1iZXIsIGNhY2hlPzogYm9vbGVhbiwgZ3JvdXA/OiBzdHJpbmcsIGlnbm9yZUNhY2hlPzogYm9vbGVhbiwgdXNlV29ya2VyTG9hZGVyPzogYm9vbGVhbikge1xyXG4gICAgICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHVybCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wbGV0ZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZS5ydW5XaXRoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkscHJvZ3Jlc3MsdHlwZSxwcmlvcml0eSxjYWNoZSwgZ3JvdXAsaWdub3JlQ2FjaGUsdXNlV29ya2VyTG9hZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQodXJsOiBhbnksIGNvbXBsZXRlPzogTGF5YS5IYW5kbGVyLCBwcm9ncmVzcz86IExheWEuSGFuZGxlciwgdHlwZT86IHN0cmluZywgY29uc3RydWN0UGFyYW1zPzogQXJyYXk8YW55PiwgcHJvcGVydHlQYXJhbXM/OiBhbnksIHByaW9yaXR5PzogbnVtYmVyLCBjYWNoZT86IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIuY3JlYXRlKHVybCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wbGV0ZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZS5ydW5XaXRoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkscHJvZ3Jlc3MsdHlwZSxjb25zdHJ1Y3RQYXJhbXMscHJvcGVydHlQYXJhbXMsIHByaW9yaXR5LGNhY2hlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IG1vZHVsZSBBdWRpb3tcclxuICAgIGV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXJ7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgbW9kdWxlIExvZyB7XHJcbiAgICBleHBvcnQgZW51bSBMb2dDb2xvciB7XHJcbiAgICAgICAgTk9ORSA9IDAsXHJcbiAgICAgICAgQkxVRSxcclxuICAgICAgICBZRUxMTyxcclxuICAgICAgICBSRUQsXHJcbiAgICAgICAgR1JFRU4sXHJcbiAgICAgICAgQVFVQSxcclxuICAgICAgICBXSElURSxcclxuICAgIH1cclxuICAgIGV4cG9ydCBlbnVtIERMb2dUeXBlIHtcclxuICAgICAgICBMb2cgPSAxLFxyXG4gICAgICAgIFdhcm5pbmcsXHJcbiAgICAgICAgRXJyb3IsXHJcbiAgICAgICAgQXNzZXJ0LFxyXG4gICAgICAgIFRydWVMb2csXHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgRExvZyB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBNaW5Mb2dUeXBlOiBETG9nVHlwZSA9IERMb2dUeXBlLkxvZztcclxuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIElzU2hvdyhwVHlwZTogRExvZ1R5cGUpOiBib29sZWFuICB7XHJcbiAgICAgICAgICAgIGxldCByZXQgPSBwVHlwZSAtIERMb2cuTWluTG9nVHlwZTtcclxuICAgICAgICAgICAgaWYgKHJldCA8IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgQ29sb3JTdHJpbmcoX2NvbG9yOiBMb2dDb2xvcik6IHN0cmluZyAge1xyXG4gICAgICAgICAgICBsZXQgcmV0OiBzdHJpbmc7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbG9yKSAge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dDb2xvci5CTFVFOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IFwiPGNvbG9yPWJsdWU+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvZ0NvbG9yLllFTExPOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IFwiPGNvbG9yPXllbGxvdz5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nQ29sb3IuUkVEOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IFwiPGNvbG9yPXJlZD5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nQ29sb3IuR1JFRU46XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9Z3JlZW4+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvZ0NvbG9yLkFRVUE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9YXF1YT5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nQ29sb3IuV0hJVEU6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9d2hpdGU+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTE9HQ29sb3IocFR5cGU6IERMb2dUeXBlLCBwTXNnOiBzdHJpbmcsIHBDb2xvcjogTG9nQ29sb3IpICB7XHJcbiAgICAgICAgICAgIGlmICghRExvZy5Jc1Nob3cocFR5cGUpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERMb2dUeXBlLlRydWVMb2c6XHJcbiAgICAgICAgICAgICAgICBjYXNlIERMb2dUeXBlLkxvZzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwTXNnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRExvZ1R5cGUuRXJyb3I6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihwTXNnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRExvZ1R5cGUuV2FybmluZzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4ocE1zZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBETG9nVHlwZS5Bc3NlcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoZmFsc2UsIHBNc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgc3RhdGljIExvZyhwT2JqZWN0KSAge1xyXG4gICAgICAgICAgICBpZiAoIURMb2cuSXNTaG93KERMb2dUeXBlLkxvZykpIHJldHVybjtcclxuICAgICAgICAgICAgRExvZy5MT0dDb2xvcihETG9nVHlwZS5Mb2csIHBPYmplY3QsIExvZ0NvbG9yLk5PTkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBMb2dXYXJuaW5nKHBPYmplY3QpICB7XHJcbiAgICAgICAgICAgIGlmICghRExvZy5Jc1Nob3coRExvZ1R5cGUuV2FybmluZykpIHJldHVybjtcclxuICAgICAgICAgICAgRExvZy5MT0dDb2xvcihETG9nVHlwZS5XYXJuaW5nLCBwT2JqZWN0LCBMb2dDb2xvci5OT05FKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9nRXJyb3IocE9iamVjdCkgIHtcclxuICAgICAgICAgICAgaWYgKCFETG9nLklzU2hvdyhETG9nVHlwZS5FcnJvcikpIHJldHVybjtcclxuICAgICAgICAgICAgRExvZy5MT0dDb2xvcihETG9nVHlwZS5FcnJvciwgcE9iamVjdCwgTG9nQ29sb3IuTk9ORSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIExvZ0Fzc2VydGlvbihwT2JqZWN0KSAge1xyXG4gICAgICAgICAgICBpZiAoIURMb2cuSXNTaG93KERMb2dUeXBlLkFzc2VydCkpIHJldHVybjtcclxuICAgICAgICAgICAgRExvZy5MT0dDb2xvcihETG9nVHlwZS5Bc3NlcnQsIHBPYmplY3QsIExvZ0NvbG9yLk5PTkUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgbW9kdWxlIExFdmVudCB7XHJcbiAgICBleHBvcnQgY2xhc3MgRXZlbnRNYW5hZ2VyIHtcclxuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIF9pbnN0YW5jZTogRXZlbnRNYW5hZ2VyID0gbnVsbDtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldCBJbnN0YW5jZSgpIHtcclxuICAgICAgICAgICAgaWYgKEV2ZW50TWFuYWdlci5faW5zdGFuY2UgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5faW5zdGFuY2UgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFdmVudE1hbmFnZXIuX2luc3RhbmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBldmVudEhhbmRsZXM6IEV2ZW50R3JvdXBbXSA9IFtdO1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIFJlZ0V2ZW50KGV2ZW50S2V5OiBzdHJpbmcsIGNhbGxCYWNrOiBMYXlhLkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgaWYgKEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UuZXZlbnRIYW5kbGVzW2V2ZW50S2V5XSA9IG5ldyBFdmVudEdyb3VwKGV2ZW50S2V5KTtcclxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlLmV2ZW50SGFuZGxlc1tldmVudEtleV0uQWRkKGNhbGxCYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgVW5SZWdFdmVudChldmVudEtleTogc3RyaW5nLCBjYWxsQmFjazogTGF5YS5IYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChFdmVudE1hbmFnZXIuSW5zdGFuY2UuZXZlbnRIYW5kbGVzW2V2ZW50S2V5XSA9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldLlJlbW92ZShjYWxsQmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIERpc3BhdGNoRXZlbnQoZXZlbnRLZXk6IHN0cmluZywgZGF0YToge30pIHtcclxuICAgICAgICAgICAgaWYgKEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldID09IG51bGwpIHJldHVybjtcclxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlLmV2ZW50SGFuZGxlc1tldmVudEtleV0uRGlzcGF0Y2hFdmVudChkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50R3JvdXAge1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBFdmVudEtleTogc3RyaW5nO1xyXG4gICAgICAgIHByb3RlY3RlZCBfY2FsbHM6IExheWEuSGFuZGxlcltdID0gW107XHJcbiAgICAgICAgY29uc3RydWN0b3Ioa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5FdmVudEtleSA9IGtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBBZGQoY2FsbEJhY2s6IExheWEuSGFuZGxlcikge1xyXG4gICAgICAgICAgICBsZXQgdGluZGV4ID0gdGhpcy5fY2FsbHMuaW5kZXhPZihjYWxsQmFjayk7XHJcbiAgICAgICAgICAgIGlmICh0aW5kZXggIT09IC0xKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGxzLnB1c2goY2FsbEJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFJlbW92ZShjYWxsQmFjazogTGF5YS5IYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGxldCB0aW5kZXggPSB0aGlzLl9jYWxscy5pbmRleE9mKGNhbGxCYWNrKTtcclxuICAgICAgICAgICAgaWYgKHRpbmRleCAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxscy5zcGxpY2UodGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBEaXNwYXRjaEV2ZW50KGRhdGE6IHt9KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2FsbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5fY2FsbHNbaV07XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJ1bldpdGgoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiXHJcbmltcG9ydCBIdHRwTmV0IGZyb20gXCIuL05ldC9IdHRwTmV0XCI7XHJcbmltcG9ydCBXZWJTb2NrZXROZXQgZnJvbSBcIi4vTmV0L1dlYlNvY2tldE5ldFwiO1xyXG5pbXBvcnQgeyBMb2cgfSBmcm9tIFwiLi9EbG9nXCI7XHJcbmltcG9ydCB7IFBvb2wgfSBmcm9tIFwiLi9Qb29sL05vZGVQb29sXCI7XHJcbmltcG9ydCB7IEFzc2V0IH0gZnJvbSBcIi4vQXNzZXQvQXNzZXRMb2FkZXJcIjtcclxuaW1wb3J0IHsgTEV2ZW50IH0gZnJvbSBcIi4vRXZlbnQvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEF1ZGlvIH0gZnJvbSBcIi4vQXVkaW8vQXVkaW9NYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIExFe1xyXG4gICAgZXhwb3J0IGNsYXNzIEFzc2V0TG9hZGVyIGV4dGVuZHMgQXNzZXQuQXNzZXRMb2FkZXIge31cclxuICAgIGV4cG9ydCBjbGFzcyBFdmVudE1hbmFnZXIgZXh0ZW5kcyBMRXZlbnQuRXZlbnRNYW5hZ2VyIHt9XHJcbiAgICBleHBvcnQgY2xhc3MgRExvZyBleHRlbmRzIExvZy5ETG9nIHt9XHJcbiAgICBleHBvcnQgY2xhc3MgTm9kZVBvb2wgZXh0ZW5kcyBQb29sLk5vZGVQb29sIHt9XHJcbiAgICBleHBvcnQgY2xhc3MgQXVkaW9NYW5hZ2VyIGV4dGVuZHMgQXVkaW8uQXVkaW9NYW5hZ2Vye31cclxufSIsImV4cG9ydCBtb2R1bGUgUG9vbCB7XHJcbiAgICBleHBvcnQgY2xhc3MgTm9kZVBvb2wge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgX2NyZWF0ZXI6KCh1cmw6c3RyaW5nKT0+YW55KTtcclxuICAgICAgICBwcm90ZWN0ZWQgX2Rlc3Ryb3llcjooKG9iajphbnkpPT52b2lkKTtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgU2V0Q3JlYXRlcihwQ3JlYXRlcjooKHVybDpzdHJpbmcpPT5hbnkpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlciA9IHBDcmVhdGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFNldERlc3Ryb3llcihwRGVzdHJveWVyOigob2JqOmFueSk9PnZvaWQpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVzdHJveWVyID0gcERlc3Ryb3llcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBfZ3JvdXBMaXN0OiBOb2RlR3JvdXBbXSA9IFtdO1xyXG4gICAgICAgIHB1YmxpYyBHZXQocEtleTogc3RyaW5nKTogYW55ICB7XHJcbiAgICAgICAgICAgIGlmKHBLZXkgPT0gbnVsbCB8fCBwS2V5Lmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCB0Z3AgPSB0aGlzLl9ncm91cExpc3RbcEtleV07XHJcbiAgICAgICAgICAgIGxldCByZXQgO1xyXG4gICAgICAgICAgICBpZiAodGdwICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXQ9IHRncC5HZXQoKTtcclxuICAgICAgICAgICAgaWYgKHJldCA9PSBudWxsICYmIHRoaXMuX2NyZWF0ZXIgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuX2NyZWF0ZXIocEtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgUHVzaChwS2V5OiBzdHJpbmcsIHBOb2RlKSAge1xyXG4gICAgICAgICAgICBsZXQgbiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGxldCB0Z3A7XHJcbiAgICAgICAgICAgIGlmIChuLl9ncm91cExpc3RbcEtleV0gPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIG4uX2dyb3VwTGlzdFtwS2V5XSA9IG5ldyBOb2RlR3JvdXAocEtleSk7XHJcbiAgICAgICAgICAgIHRncCA9IG4uX2dyb3VwTGlzdFtwS2V5XTtcclxuXHJcbiAgICAgICAgICAgIHRncC5QdXNoKHBOb2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBDbGVhcigpICB7XHJcbiAgICAgICAgICAgIGxldCB0bGlzdCA9IHRoaXMuX2dyb3VwTGlzdDtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGxpc3QpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0bGlzdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSB0bGlzdFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuQ2xlYXIodGhpcy5fZGVzdHJveWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9ncm91cExpc3QgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIE5vZGVHcm91cCB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IEtleTogc3RyaW5nO1xyXG4gICAgICAgIHByb3RlY3RlZCBfcXVldWU6IGFueVtdID0gW107XHJcbiAgICAgICAgY29uc3RydWN0b3IocEtleTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuS2V5ID0gcEtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBHZXQoKTogYW55ICB7XHJcbiAgICAgICAgICAgIGxldCBuID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKG4uX3F1ZXVlID09IG51bGwgfHwgbi5fcXVldWUubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gbi5fcXVldWUucG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgUHVzaChwTm9kZSkgIHtcclxuICAgICAgICAgICAgbGV0IG4gPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAobi5fcXVldWUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIG4uX3F1ZXVlID0gW107XHJcblxyXG4gICAgICAgICAgICBpZihuLl9xdWV1ZS5pbmRleE9mKHBOb2RlKSA9PSAtMSlcclxuICAgICAgICAgICAgICAgIG4uX3F1ZXVlLnB1c2gocE5vZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIENsZWFyKHBEZXN0cm95ZXI6KChvYmo6YW55KT0+dm9pZCkpICB7XHJcbiAgICAgICAgICAgIGxldCB0bGlzdCA9IHRoaXMuX3F1ZXVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZSA9IHRsaXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgdGxpc3RbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYocERlc3Ryb3llciAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHBEZXN0cm95ZXIoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGxpc3QgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgbW9kdWxlIE1hbmFnZXJze1xyXG4gICAgZXhwb3J0IGFic3RyYWN0ICBjbGFzcyBCYXNlTWFuYWdlciBpbXBsZW1lbnRzIElVcGRhdGUsSUluaXR7XHJcbiAgICAgICAgYWJzdHJhY3QgSW5pdCgpO1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQoKTpCYXNlTWFuYWdlciB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm90ZWN0ZWQgX25vZGU6TGF5YS5Ob2RlO1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBtYW5hZ2VyTmFtZTpzdHJpbmc7XHJcbiAgICAgICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKG5kOkxheWEuTm9kZSxuYW1lU3RyOnN0cmluZyl7XHJcbiAgICAgICAgICAgIHRoaXMuX25vZGUgPSBuZDtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyTmFtZSA9IG5hbWVTdHI7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHVibGljIFVwZGF0ZShkdDpudW1iZXIpXHJcbiAgICAgICAge1xyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHVibGljIFVwZGF0ZURhdGEoKVxyXG4gICAgICAgIHtcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4gICAiLCJcclxuaW1wb3J0IHsgTEUgfSBmcm9tIFwiLi4vTGl0RW5naW5lL0xFXCI7XHJcbmltcG9ydCB7IE1hbmFnZXJzIH0gZnJvbSBcIi4vQmFzZU1hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpZ01hbmFnZXIgZXh0ZW5kcyBNYW5hZ2Vycy5CYXNlTWFuYWdlciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIENyZWF0KCk6IENvbmZpZ01hbmFnZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29uZmlnTWFuYWdlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBJbml0KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9sb2FkQ2FsbDogTGF5YS5IYW5kbGVyO1xyXG5cclxuICAgIHByaXZhdGUgX2NvbmZpZ0xpc3Q6IGFueVtdID0gW107XHJcbiAgICBwcml2YXRlIF9jZmdMaXN0T2JqOiBhbnk7XHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgIHtcclxuICAgICAgICBzdXBlcihudWxsLCBcIkNvbmZpZ01hbmFnZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIExvYWRDb25maWcocEhhbmRsZTogTGF5YS5IYW5kbGVyKSAge1xyXG4gICAgICAgIHRoaXMuX2xvYWRDYWxsID0gcEhhbmRsZTtcclxuICAgICAgICBMRS5Bc3NldExvYWRlci5Mb2FkKFwicmVzb3VyY2VzL0NvbmZpZy9Db25maWdMaXN0Lmpzb25cIixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMuT25MaXN0TG9hZGVkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIE9uTGlzdExvYWRlZChwTGlzdG9iaikgIHtcclxuICAgICAgICB0aGlzLl9jZmdMaXN0T2JqID0gcExpc3RvYmo7XHJcbiAgICAgICAgdmFyIGFzc2V0czogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICB2YXIgdGxpc3QgPSB0aGlzLl9jZmdMaXN0T2JqLmNvbmZpZ0xpc3Q7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBhc3NldHMucHVzaCh0bGlzdFtpbmRleF0uZmlsZVBhdGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBMRS5Bc3NldExvYWRlci5Mb2FkKGFzc2V0cywgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLk9uQ2ZnTG9hZGVkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIE9uQ2ZnTG9hZGVkKCkgIHtcclxuICAgICAgICBsZXQgdGNmZ2xpc3QgPSB0aGlzLl9jb25maWdMaXN0O1xyXG4gICAgICAgIGxldCB0bGlzdCA9IHRoaXMuX2NmZ0xpc3RPYmouY29uZmlnTGlzdDtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsbWVudCA9IHRsaXN0W2luZGV4XTtcclxuICAgICAgICAgICAgbGV0IHRjZmcgPSBMYXlhLkxvYWRlci5nZXRSZXMoZWxtZW50LmZpbGVQYXRoKTtcclxuICAgICAgICAgICAgdGNmZ2xpc3RbZWxtZW50LmtleV0gPSB0Y2ZnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRDYWxsICE9IG51bGwpXHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRDYWxsLnJ1bigpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2V0Q29uZmlnKGtleTpzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHRjZmdsaXN0ID0gdGhpcy5fY29uZmlnTGlzdDtcclxuICAgICAgICBpZih0Y2ZnbGlzdFtrZXldID09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2FudCBub3QgZm91bmQgY29uZmlnLmtleSA9IFwiICsga2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0Y2ZnbGlzdFtrZXldO1xyXG4gICAgfVxyXG5cclxufSIsIlxyXG5pbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4uL0dhbWVDb3JlXCI7XHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uL1N0YXRlL1N0YXRlQmFzZVwiO1xyXG5pbXBvcnQgeyBNYW5hZ2VycyB9IGZyb20gXCIuL0Jhc2VNYW5hZ2VyXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGVNYW5hZ2VyIGV4dGVuZHMgTWFuYWdlcnMuQmFzZU1hbmFnZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyBDcmVhdCgpOiBTdGF0ZU1hbmFnZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3RhdGVNYW5hZ2VyKG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBJbml0KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9jdXJTdGF0ZTogU3RhdGUuU3RhdGVCYXNlO1xyXG4gICAgcHVibGljIGdldCBDdXJTdGF0ZSgpOiBTdGF0ZS5TdGF0ZUJhc2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJTdGF0ZTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IobmQ6IExheWEuTm9kZSkge1xyXG4gICAgICAgIHN1cGVyKG5kLCBcIlN0YXRlTWFuYWdlclwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR290b1N0YXRlKHN0YXRlOiBTdGF0ZS5TdGF0ZUJhc2UscERhdGE/OmFueSkge1xyXG4gICAgICAgIHZhciB0bGFzdCA9IHRoaXMuX2N1clN0YXRlO1xyXG4gICAgICAgIExheWEubG9hZGVyLmNsZWFyVW5Mb2FkZWQoKTsvL+W/hemhu+ehruS/neWIh+aNouWJjeayoeacieato+WcqOWKoOi9veeahOi1hOa6kC7lkKbliJnkvJrmnInlhoXlrZjpl67pophcclxuICAgICAgICBpZiAodGxhc3QgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAodGxhc3QubmFtZSA9PSBzdGF0ZS5uYW1lIHx8IHRsYXN0LlN0YXRlID09IFN0YXRlLlN0YXRlVHlwZS5vbkVudGVyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0bGFzdC5PbkV4aXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY3VyU3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICBzdGF0ZS5PbkVudGVyKExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5PbkN1clN0YXRlTG9hZGVkKSxwRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIE9uQ3VyU3RhdGVMb2FkZWQoKSAge1xyXG4gICAgICAgIC8vIGlmICh0aGlzLl9sYXN0U3RhdGUgIT0gbnVsbClcclxuICAgICAgICAvLyAgICAgdGhpcy5fbGFzdFN0YXRlLk9uRXhpdCgpO1xyXG4gICAgICAgIExheWEuUmVzb3VyY2UuZGVzdHJveVVudXNlZFJlc291cmNlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBVcGRhdGUoZHQ6IG51bWJlcikge1xyXG4gICAgICAgIHZhciB0Y3VyID0gdGhpcy5fY3VyU3RhdGU7XHJcbiAgICAgICAgaWYgKHRjdXIgIT0gbnVsbCAmJiB0Y3VyLlN0YXRlID09IFN0YXRlLlN0YXRlVHlwZS5Mb2FkZWQpIHtcclxuICAgICAgICAgICAgdGN1ci5VcGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlRGF0YSgpIHtcclxuICAgICAgICB2YXIgdGN1ciA9IHRoaXMuX2N1clN0YXRlO1xyXG4gICAgICAgIGlmICh0Y3VyICE9IG51bGwgJiYgdGN1ci5TdGF0ZSA9PSBTdGF0ZS5TdGF0ZVR5cGUuTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRjdXIuVXBkYXRlRGF0YSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4uL0dhbWVDb3JlXCI7XHJcbmltcG9ydCBVSUJhc2UgZnJvbSBcIi4uL3VpL1VJQmFzZVwiO1xyXG5pbXBvcnQgeyBMRSB9IGZyb20gXCIuLi9MaXRFbmdpbmUvTEVcIjtcclxuaW1wb3J0IHsgTWFuYWdlcnMgfSBmcm9tIFwiLi9CYXNlTWFuYWdlclwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU1hbmFnZXIgZXh0ZW5kcyBNYW5hZ2Vycy5CYXNlTWFuYWdlciB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBDcmVhdCgpOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIHZhciB0bm9kZSA9IEdhbWVDb3JlLkNvcmUubGF5ZXJVSS5hZGRDaGlsZChuZXcgTGF5YS5TcHJpdGUoKSkgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdG5vZGUubmFtZSA9IFwiVUltYW5hZ2VyTm9kZVwiO1xyXG4gICAgICAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHRub2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgSW5pdCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfdWlMaXN0OiBVSUJhc2VbXSA9IFtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHVpUGF0aDogc3RyaW5nID0gXCJVSS9cIjtcclxuICAgIHB1YmxpYyByZWFkb25seSB1aUxhc3ROYW1lOiBzdHJpbmcgPSBcIi5zY2VuZVwiO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihuZDogTGF5YS5Ob2RlKSB7XHJcbiAgICAgICAgc3VwZXIobmQsIFwiVUlNYW5hZ2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgTG9hZENvbXBsZXRlKHBOYW1lLCBtZXRob2Q6IExheWEuSGFuZGxlciwgcFVJKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzO1xyXG4gICAgICAgIGlmIChwVUkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBMRS5ETG9nLkxvZ0Vycm9yKHBOYW1lICsgXCIgZmFpbGUucGxlYXNlIHRyeSBhZ2Fpbi5cIik7XHJcbiAgICAgICAgICAgIGlmIChtZXRob2QgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kLnJ1bldpdGgobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdHVpOiBVSUJhc2UgPSBwVUkuZ2V0Q29tcG9uZW50KFVJQmFzZSk7XHJcbiAgICAgICAgaWYgKHR1aSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW50IGZvdW5kIHVpYmFzZSBvbiBcIiArIHBOYW1lICsgXCIucGxlYXNlIGNoZWNrIHlvdXIgc2NlbmUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdHVpLnBhcmVudCA9IHAuX25vZGU7XHJcbiAgICAgICAgICAgIHAuX3VpTGlzdFtwTmFtZV0gPSB0dWk7XHJcbiAgICAgICAgICAgIHR1aS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZC5ydW5XaXRoKHR1aSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNob3dVSSh1aU5hbWU6IHN0cmluZywgbWV0aG9kPzogTGF5YS5IYW5kbGVyKSB7XHJcbiAgICAgICAgdmFyIHAgPSB0aGlzO1xyXG4gICAgICAgIGlmIChwLl91aUxpc3RbdWlOYW1lXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZnVsbHBhdGhuYW1lID0gcC51aVBhdGggKyB1aU5hbWUgKyBwLnVpTGFzdE5hbWU7XHJcbiAgICAgICAgICAgIExheWEuU2NlbmUubG9hZCh0ZnVsbHBhdGhuYW1lLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHAsIHAuTG9hZENvbXBsZXRlLCBbdWlOYW1lLCBtZXRob2RdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdHVpOiBVSUJhc2UgPSBwLl91aUxpc3RbdWlOYW1lXTtcclxuICAgICAgICAgICAgdHVpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChtZXRob2QgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIG1ldGhvZC5ydW5XaXRoKHR1aSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBIaWRlVUkodWlOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgdG1nciA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHR1aTogVUlCYXNlID0gdG1nci5fdWlMaXN0W3VpTmFtZV07XHJcbiAgICAgICAgaWYgKHR1aSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHR1aS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEdldFVJKHVpTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzO1xyXG4gICAgICAgIGxldCByZXQ6IFVJQmFzZSA9IHAuX3VpTGlzdFt1aU5hbWVdO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIERlc3RvcnlVSSh1aU5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHZhciB0bWdyID0gdGhpcztcclxuICAgICAgICB2YXIgdHVpOiBVSUJhc2UgPSB0bWdyLl91aUxpc3RbdWlOYW1lXTtcclxuICAgICAgICBpZiAodHVpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdG1nci5fdWlMaXN0W3VpTmFtZV0gPSBudWxsO1xyXG4gICAgICAgICAgICB0dWkuZGVzdHJveVVJKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBVcGRhdGVEYXRhKCkge1xyXG4gICAgICAgIHZhciB0bGlzdCA9IHRoaXMuX3VpTGlzdDtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0bGlzdCkge1xyXG4gICAgICAgICAgICBpZiAodGxpc3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRsaXN0W2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsIHx8ICFlbGVtZW50LmFjdGl2ZSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LlVwZGF0ZURhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5HYW1lTW9kdWxlIGltcGxlbWVudHMgR2FtZU1vZHVsZUJhc2Uge1xyXG4gICAgSW5pdChwQ29tcGxldGU/OiBMYXlhLkhhbmRsZXIpIHtcclxuXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9jYWxsQmFja0hhbmRsZTogTGF5YS5IYW5kbGVyO1xyXG4gICAgY29uc3RydWN0b3IocFNjTmFtZTogc3RyaW5nKSB7XHJcblxyXG4gICAgfVxyXG4gICAgcHVibGljIEdldFNjZW5lKCkge1xyXG5cclxuICAgIH1cclxuICAgIC8vI3JlZ2lvbiBpbml0XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIHJ1bm5pbmdcclxuICAgIHB1YmxpYyBSdW4oKSB7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgUGF1c2UoKSB7IH1cclxuICAgIHB1YmxpYyBSZXN1bWUoKSB7IH1cclxuICAgIHB1YmxpYyBEZXN0cm95KCkge1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiB1cGRhdGVcclxuICAgIHB1YmxpYyBVcGRhdGUoZHQ6IG51bWJlcikge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlRGF0YSgpIHtcclxuXHJcbiAgICB9XHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gY2FsbFxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG5cclxuICAgIHB1YmxpYyBNb2R1bGVFdmVudChwRXZlbnREYXRhKSAge1xyXG5cclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4uL0dhbWVDb3JlXCI7XHJcbmltcG9ydCBCYXNlU2NlbmUgZnJvbSBcIi4uL1NjZW5lL0Jhc2VTY2VuZVwiO1xyXG5pbXBvcnQgSW5HYW1lTW9kdWxlIGZyb20gXCIuLi9Nb2R1bGUvSW5HYW1lTW9kdWxlXCI7XHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4vU3RhdGVCYXNlXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5HYW1lU3RhdGUgZXh0ZW5kcyBTdGF0ZS5TdGF0ZUJhc2Uge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKFwiSW5HYW1lU3RhdGVcIik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgT25FbnRlcihmdW46IExheWEuSGFuZGxlcixwRGF0YT86YW55KSB7XHJcbiAgICAgICAgc3VwZXIuT25FbnRlcihmdW4scERhdGEpO1xyXG4gICAgICAgIHRoaXMuX21vZHVsZSA9IG5ldyBJbkdhbWVNb2R1bGUoU3RyaW5nKHBEYXRhKSk7XHJcbiAgICAgICAgdGhpcy5fbW9kdWxlLkluaXQoTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLk9uR2FtZUxvYWRlZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPbkdhbWVMb2FkZWQob2JqKSAge1xyXG4gICAgICAgIHRoaXMuT25Mb2FkZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgT25FeGl0KCkge1xyXG4gICAgICAgIHN1cGVyLk9uRXhpdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPbkxvYWRlZCgpICB7XHJcbiAgICAgICAgc3VwZXIuT25Mb2FkZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlKGR0OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlci5VcGRhdGUoZHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBVcGRhdGVEYXRhKCkge1xyXG4gICAgICAgIHN1cGVyLlVwZGF0ZURhdGEoKTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4uL0dhbWVDb3JlXCI7XHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4vU3RhdGVCYXNlXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5TdGF0ZSBleHRlbmRzIFN0YXRlLlN0YXRlQmFzZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihcIk1haW5TdGF0ZVwiKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBPbkVudGVyKGZ1bjogTGF5YS5IYW5kbGVyLHBEYXRhPzphbnkpIHtcclxuICAgICAgICBzdXBlci5PbkVudGVyKGZ1bixwRGF0YSk7XHJcblxyXG4gICAgICAgIEdhbWVDb3JlLm1nclVJLlNob3dVSShcIlVJTWFpblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5PbkxvYWRlZCgpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgT25FeGl0KCkge1xyXG4gICAgICAgIEdhbWVDb3JlLm1nclVJLkRlc3RvcnlVSShcIlVJTWFpblwiKTtcclxuICAgICAgICBzdXBlci5PbkV4aXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgT25Mb2FkZWQoKSAge1xyXG4gICAgICAgIHN1cGVyLk9uTG9hZGVkKCk7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IG1vZHVsZSBTdGF0ZSB7XHJcbiAgICBleHBvcnQgZW51bSBTdGF0ZVR5cGUge1xyXG4gICAgICAgIG5vbmUgPSAwLFxyXG4gICAgICAgIG9uRW50ZXIsXHJcbiAgICAgICAgb25FeGl0LFxyXG4gICAgICAgIExvYWRlZCxcclxuICAgIH1cclxuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdGF0ZUJhc2UgaW1wbGVtZW50cyBJVXBkYXRlIHtcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHByb3RlY3RlZCBfc3RhdGU6IFN0YXRlVHlwZSA9IFN0YXRlVHlwZS5ub25lO1xyXG4gICAgICAgIHByb3RlY3RlZCBfbW9kdWxlOiBHYW1lTW9kdWxlQmFzZTtcclxuICAgICAgICBwdWJsaWMgZ2V0IEN1ck1vZHVsZSgpOiBHYW1lTW9kdWxlQmFzZSAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9kdWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm90ZWN0ZWQgX29uTG9hZGVkOiBMYXlhLkhhbmRsZXI7XHJcbiAgICAgICAgcHVibGljIGdldCBTdGF0ZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdHJ1Y3Rvcihuc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbnN0cjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHVibGljIE9uRW50ZXIoZnVuOiBMYXlhLkhhbmRsZXIsIHBEYXRhPzogYW55KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gU3RhdGVUeXBlLm9uRW50ZXI7XHJcbiAgICAgICAgICAgIHRoaXMuX29uTG9hZGVkID0gZnVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIE9uRXhpdCgpIHtcclxuICAgICAgICAgICAgdmFyIHRtb2R1bGUgPSB0aGlzLl9tb2R1bGU7XHJcbiAgICAgICAgICAgIGlmICh0bW9kdWxlICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0bW9kdWxlLkRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBTdGF0ZVR5cGUub25FeGl0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIE9uTG9hZGVkKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlVHlwZS5Mb2FkZWQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkxvYWRlZCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25Mb2FkZWQucnVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgVXBkYXRlKGR0OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdmFyIHRtb2R1bGUgPSB0aGlzLl9tb2R1bGU7XHJcbiAgICAgICAgICAgIGlmICh0bW9kdWxlICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0bW9kdWxlLlVwZGF0ZShkdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgVXBkYXRlRGF0YSgpIHtcclxuICAgICAgICAgICAgdmFyIHRtb2R1bGUgPSB0aGlzLl9tb2R1bGU7XHJcbiAgICAgICAgICAgIGlmICh0bW9kdWxlICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0bW9kdWxlLlVwZGF0ZURhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlCYXNlIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG5cclxuICAgIHByb3RlY3RlZCBfcGFyZW50IDpMYXlhLk5vZGU7XHJcbiAgICBwdWJsaWMgZ2V0IHBhcmVudCgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHNldCBwYXJlbnQodmFsdWU6TGF5YS5Ob2RlKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX3BhcmVudCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfYWN0aXZlIDpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIGdldCBhY3RpdmUoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCBhY3RpdmUodmFsdWUgOiBib29sZWFuKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHZhbHVlO1xyXG4gICAgICAgIGlmICghdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5wYXJlbnQgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmFkZENoaWxkKHRoaXMub3duZXIpO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IFxyXG4gICAgICAgIHN1cGVyKCk7IFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgbm9kZVNjZW5lKCkgOiBMYXlhLlNjZW5le1xyXG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyIGFzIExheWEuU2NlbmU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBkZXN0cm95VUkoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMub3duZXIuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBVcGRhdGVEYXRhKClcclxuICAgIHtcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFVJQmFzZSBmcm9tIFwiLi9VSUJhc2VcIjtcclxuaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuLi9HYW1lQ29yZVwiO1xyXG5pbXBvcnQgSW5HYW1lU3RhdGUgZnJvbSBcIi4uL1N0YXRlL0luR2FtZVN0YXRlXCI7XHJcbmltcG9ydCBNYWluU3RhdGUgZnJvbSBcIi4uL1N0YXRlL01haW5TdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNYWluIGV4dGVuZHMgVUlCYXNlIHtcclxuICAgIHB1YmxpYyAgYmFja2J0bjpMYXlhLkJ1dHRvbjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7IFxyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgfVxyXG5cclxuXHJcbiAgICBvbkF3YWtlKCk6dm9pZFxyXG4gICAge1xyXG4gICAgICAgdGhpcy5iYWNrYnRuID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJhY2tidG5cIikgYXMgTGF5YS5CdXR0b247XHJcbiAgICAgICAgdGhpcy5iYWNrYnRuLm9uKGxheWEuZXZlbnRzLkV2ZW50LkNMSUNLLCB0aGlzLCBmdW5jdGlvbiAoKSB7IFxyXG4gICAgICAgICAgICBHYW1lQ29yZS5tZ3JTdGF0ZS5Hb3RvU3RhdGUobmV3IE1haW5TdGF0ZSgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBVSUJhc2UgZnJvbSBcIi4vVUlCYXNlXCI7XHJcbmltcG9ydCBHYW1lQ29yZSBmcm9tIFwiLi4vR2FtZUNvcmVcIjtcclxuaW1wb3J0IEluR2FtZVN0YXRlIGZyb20gXCIuLi9TdGF0ZS9JbkdhbWVTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNYWluIGV4dGVuZHMgVUlCYXNlIHtcclxuICAgIHB1YmxpYyAgdGVzdGJ1dHRvbjpMYXlhLkJ1dHRvbjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7IFxyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgfVxyXG5cclxuXHJcbiAgICBvbkF3YWtlKCk6dm9pZFxyXG4gICAge1xyXG4gICAgICAgdGhpcy50ZXN0YnV0dG9uID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInRlc3RidXR0b25cIikgYXMgTGF5YS5CdXR0b247XHJcbiAgICAgICAgdmFyIHRlc3Rjb3VudCA9IDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy50ZXN0YnV0dG9uLm9uKGxheWEuZXZlbnRzLkV2ZW50LkNMSUNLLCB0aGlzLCBmdW5jdGlvbiAoKSB7IFxyXG4gICAgICAgICAgICBHYW1lQ29yZS5tZ3JTdGF0ZS5Hb3RvU3RhdGUobmV3IEluR2FtZVN0YXRlKCksXCIxMDAxXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59Il19
