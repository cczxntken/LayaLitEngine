var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameStart_1 = require("./script/GameStart");
var UIInGame_1 = require("./script/ui/UIInGame");
var UIMain_1 = require("./script/ui/UIMain");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameStart.ts", GameStart_1.default);
        reg("script/ui/UIInGame.ts", UIInGame_1.default);
        reg("script/ui/UIMain.ts", UIMain_1.default);
    };
    GameConfig.width = 1136;
    GameConfig.height = 640;
    GameConfig.scaleMode = "showall";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "UI/UIMain.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = false;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameStart":4,"./script/ui/UIInGame":22,"./script/ui/UIMain":23}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var GameCore_1 = require("./script/GameCore");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        GameConfig_1.default.height = 0; //调用默认生成的脚本方法
        if (window["Laya3D"])
            Laya3D.init(GameCore_1.default.width, GameCore_1.default.height);
        else
            Laya.init(GameCore_1.default.width, GameCore_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameCore_1.default.scaleMode;
        Laya.stage.screenMode = GameCore_1.default.screenMode;
        Laya.stage.alignH = GameCore_1.default.alignH;
        Laya.stage.alignV = GameCore_1.default.alignV;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameCore_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameCore_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameCore_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameCore_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        GameCore_1.default.Init();
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1,"./script/GameCore":3}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainState_1 = require("./State/MainState");
var UIManager_1 = require("./Managers/UIManager");
var StateManager_1 = require("./Managers/StateManager");
var ConfigManager_1 = require("./Managers/ConfigManager");
var GameCore = /** @class */ (function () {
    //#endregion
    //#endregion  
    //#region 方法
    // "showall"
    function GameCore() {
        this.mgrList = [];
        this.updateList = [];
        this._dataUpdateTimer = 0;
        this.isRuning = false;
        GameCore._core = this;
        Laya.stage.frameLoop(1, this, this.Update);
        this.layerScene = Laya.stage.addChild(new Laya.Sprite()); //可見最底层
        this.layerUI = Laya.stage.addChild(new Laya.Sprite());
        this.layerOver = Laya.stage.addChild(new Laya.Sprite());
        this.AddMgr(ConfigManager_1.default.Creat(), false);
        this.AddMgr(UIManager_1.default.Creat());
        this.AddMgr(StateManager_1.default.Creat());
    }
    Object.defineProperty(GameCore, "Core", {
        get: function () {
            if (GameCore._core == null) {
                GameCore._core = new GameCore();
            }
            return GameCore._core;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameCore, "mgrUI", {
        //#endregion
        //#region mgrs
        get: function () {
            return GameCore.Core.mgrList["UIManager"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameCore, "mgrConfig", {
        get: function () {
            return GameCore.Core.mgrList["ConfigManager"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameCore, "mgrState", {
        get: function () {
            return GameCore.Core.mgrList["StateManager"];
        },
        enumerable: true,
        configurable: true
    });
    GameCore.Init = function () {
        if (GameCore._core != null)
            return;
        var tcore = GameCore.Core;
        GameCore.mgrConfig.LoadConfig(Laya.Handler.create(tcore, tcore.OnConfigLoaded));
    };
    GameCore.DestroyCore = function () {
        if (GameCore._core != null) {
            GameCore._core.Destroy();
            GameCore._core = null;
        }
    };
    GameCore.prototype.AddMgr = function (pMgr, pUpdate) {
        if (pUpdate === void 0) { pUpdate = true; }
        var g = this;
        g.mgrList[pMgr.managerName] = pMgr;
        if (pUpdate) {
            g.updateList.push(pMgr);
        }
    };
    GameCore.prototype.OnConfigLoaded = function () {
        var p = this;
        for (var i = 0; i < p.mgrList.length; i++) {
            var e = p.mgrList[i];
            e.Init();
        }
        GameCore.mgrState.GotoState(new MainState_1.default());
        p.isRuning = true;
    };
    GameCore.prototype.Destroy = function () {
        var p = this;
        Laya.stage.clearTimer(this, this.Update);
        p.layerScene.destroy();
        p.layerUI.destroy();
        p.layerOver.destroy();
    };
    GameCore.prototype.Update = function () {
        var p = this;
        if (!p.isRuning)
            return;
        var dt = Math.min(Laya.timer.delta * 0.001, 0.5);
        var tinterval = GameCore.dataUpdateInterval;
        var topentry = GameCore.openTryCache;
        var ttimer = p._dataUpdateTimer + dt;
        var tisUpdateData = false;
        if (ttimer >= tinterval) {
            tisUpdateData = true;
            p._dataUpdateTimer = ttimer;
        }
        var tlist = this.mgrList;
        for (var index = 0; index < tlist.length; index++) {
            var element = tlist[index];
            if (topentry) {
                try {
                    p.UpdateElement(element, dt, tisUpdateData);
                }
                catch (error) {
                    console.error(element.managerName + "---" + error);
                }
            }
            else {
                p.UpdateElement(element, dt, tisUpdateData);
            }
        }
    };
    GameCore.prototype.UpdateElement = function (e, dt, isUpdateData) {
        e.Update(dt);
        if (isUpdateData)
            e.UpdateData();
    };
    //#region config
    /**
 * <p>缩放模式。默认值为 "noscale"。</p>
 * <p><ul>取值范围：
 * <li>"noscale" ：不缩放；</li>
 * <li>"exactfit" ：全屏不等比缩放；</li>
 * <li>"showall" ：最小比例缩放；</li>
 * <li>"noborder" ：最大比例缩放；</li>
 * <li>"full" ：不缩放，stage的宽高等于屏幕宽高；</li>
 * <li>"fixedwidth" ：宽度不变，高度根据屏幕比缩放；</li>
 * <li>"fixedheight" ：高度不变，宽度根据屏幕比缩放；</li>
 * <li>"fixedauto" ：根据宽高比，自动选择使用fixedwidth或fixedheight；</li>
 * </ul></p>
 */
    GameCore.width = 720;
    GameCore.height = 1280;
    GameCore.scaleMode = "showall";
    GameCore.screenMode = "none";
    GameCore.alignV = "center";
    GameCore.alignH = "middle";
    GameCore.startScene = "GameStart.scene";
    GameCore.sceneRoot = "";
    GameCore.debug = false;
    GameCore.stat = true;
    GameCore.physicsDebug = false;
    GameCore.exportSceneToJson = true;
    GameCore.dataUpdateInterval = 0.2;
    GameCore.openTryCache = false;
    //#endregion
    //#region core核心组件
    GameCore._core = null;
    return GameCore;
}());
exports.default = GameCore;
},{"./Managers/ConfigManager":14,"./Managers/StateManager":15,"./Managers/UIManager":16,"./State/MainState":19}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("./GameCore");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameStart = /** @class */ (function (_super) {
    __extends(GameStart, _super);
    function GameStart() {
        return _super.call(this) || this;
    }
    GameStart.prototype.createChildren = function () {
        _super.prototype.createChildren.call(this);
        this.loadScene("GameStart");
    };
    GameStart.prototype.onAwake = function () {
        //Laya.Scene3D.load("testscene/level1.ls",Laya.Handler.create(this,this.onComplete));
        //添加3D场景
        // var tscene: Laya.Scene3D = this.addChild(new Laya.Scene3D()) as Laya.Scene3D;
        // this.owner3d = tscene;
        // var camera:Laya.Camera = (tscene.addChild(new Laya.Camera( 0, 0.1, 100))) as Laya.Camera;
        //     camera.transform.translate(new Laya.Vector3(1, 6, 10));
        //     camera.transform.rotate(new Laya.Vector3( -30, 0, 0), true, false);
        //     camera.clearColor = null;
        //     var directionLight:Laya.DirectionLight = tscene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;
        //     directionLight.diffuseColor = new Laya.Vector3(0.6, 0.6, 0.6);
        //     directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        //     //添加自定义模型
        //     var sphere:Laya.MeshSprite3D = tscene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(1,100,100))) as Laya.MeshSprite3D;
        //     sphere.transform.rotate(new Laya.Vector3(0,90,0),false,false);
        //     sphere.transform.translate(new Laya.Vector3(0,3,0));
        //     sphere.meshRenderer.material = new Laya.BlinnPhongMaterial;
        //     var material:Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();
        //     Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function(tex:Laya.Texture2D):void {
        //         material.albedoTexture = tex;
        //     }));
        //     sphere.meshRenderer.material = material;
        //     //添加物理组件
        //     sphere.addComponent(Laya.PhysicsCollider);
        //     //给球添加刚体
        //     var rigid:Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);
        //     //有刚体的shape要加在刚体上
        //     rigid.colliderShape = new Laya.SphereColliderShape(1);
        //     //添加一个地板
        //     var floor:Laya.MeshSprite3D = tscene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10,10))) as Laya.MeshSprite3D;
        //     //给地板添加物理组件
        //     var floorCollicar:Laya.PhysicsCollider = floor.addComponent(Laya.PhysicsCollider);
        //     // 添加collidershape
        //     floorCollicar.colliderShape = new Laya.BoxColliderShape(10,0,10);
        //     //克隆一个球                
        //     Laya.timer.once(1000,this,function():void{
        //       //一秒之后复制一个球
        //          var cloneSphere:Laya.MeshSprite3D = Laya.Sprite3D.instantiate(sphere) as Laya.MeshSprite3D;
        //         //设置位置偏移
        //          cloneSphere.transform.translate(new Laya.Vector3(1,4,0));
        //         //添加到场景
        //         tscene.addChild(cloneSphere);
        //     });
        Laya.Scene3D.load('testscene/level1.ls', Laya.Handler.create(this, this.onComplete));
        console.log(this.btn_texttest);
        console.log(this.testScene_btn);
        // var testcount = 0;
        // this.testScene_btn.on(laya.events.Event.CLICK, this, function () { this.btn_texttest.text = String(testcount); testcount++; });
        // GameCore.Core.mgrState.GotoState(new MainState());
        // GameCore.mgrUI.ShowUI("UIMain",function(sui){
        //     console.log(sui);
        // });
        // Laya.Scene.load("prefab/testimage.prefab",Laya.Handler.create(this,function(res){
        //     this.addChild(res);
        // }));
    };
    GameStart.prototype.onComplete = function (sceneres) {
        // 将场景加到舞台上
        GameCore_1.default.Core.layerScene.addChild(sceneres);
        // this.addChildAt(sceneres,0);
        //     //添加自定义模型
        var sphere = sceneres.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(1, 100, 100)));
        sphere.transform.rotate(new Laya.Vector3(0, 90, 0), false, false);
        sphere.transform.translate(new Laya.Vector3(0, 3, 0));
        sphere.meshRenderer.material = new Laya.BlinnPhongMaterial;
        var material = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        sphere.meshRenderer.material = material;
        //添加物理组件
        sphere.addComponent(Laya.PhysicsCollider);
        //给球添加刚体
        var rigid = sphere.addComponent(Laya.Rigidbody3D);
        rigid.colliderShape = new Laya.SphereColliderShape(1);
        // this.removeSelf();
    };
    return GameStart;
}(Laya.Scene));
exports.default = GameStart;
},{"./GameCore":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Asset;
(function (Asset) {
    var AssetLoader = /** @class */ (function () {
        function AssetLoader() {
            this._assets = [];
        }
        AssetLoader.Load = function (url, complete, progress, type, priority, cache, group, ignoreCache, useWorkerLoader) {
            Laya.loader.load(url, Laya.Handler.create(this, function (event) {
                if (complete != null) {
                    complete.runWith(event);
                }
            }), progress, type, priority, cache, group, ignoreCache, useWorkerLoader);
        };
        AssetLoader.Creat = function (url, complete, progress, type, constructParams, propertyParams, priority, cache) {
            Laya.loader.create(url, Laya.Handler.create(this, function (event) {
                if (complete != null) {
                    complete.runWith(event);
                }
            }), progress, type, constructParams, propertyParams, priority, cache);
        };
        return AssetLoader;
    }());
    Asset.AssetLoader = AssetLoader;
})(Asset = exports.Asset || (exports.Asset = {}));
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Audio;
(function (Audio) {
    var AudioManager = /** @class */ (function () {
        function AudioManager() {
            this._volume = 1;
            this._onMixerVolume = 0.3;
            this._curVolume = 1;
            this._musicVolume = 1;
            this._soundVolume = 1;
            this._mixerSoundPlay = 0;
            Laya.stage.frameLoop(1, this, this.Update);
        }
        Object.defineProperty(AudioManager, "Instance", {
            get: function () {
                if (AudioManager.sInstance == null) {
                    AudioManager.sInstance = new AudioManager();
                }
                return AudioManager.sInstance;
            },
            enumerable: true,
            configurable: true
        });
        AudioManager.prototype.OnChangeMusicVolume = function () {
            var a = this;
            Laya.SoundManager.musicVolume = a._volume * a._musicVolume * a._curVolume;
        };
        AudioManager.prototype.OnChangeSoundVolume = function () {
            var a = this;
            Laya.SoundManager.soundVolume = a._volume * a._soundVolume;
        };
        Object.defineProperty(AudioManager, "OnMixerVolume", {
            get: function () {
                return AudioManager.Instance._onMixerVolume;
            },
            set: function (value) {
                var a = AudioManager.Instance;
                a._onMixerVolume = Math.max(Math.min(value, 1), 0);
                a.OnChangeSoundVolume();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AudioManager, "SoundVolume", {
            get: function () {
                return AudioManager.Instance._soundVolume;
            },
            set: function (value) {
                var a = AudioManager.Instance;
                a._soundVolume = Math.max(Math.min(value, 1), 0);
                a.OnChangeSoundVolume();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AudioManager, "MusicVolume", {
            get: function () {
                return AudioManager.Instance._musicVolume;
            },
            set: function (value) {
                var a = AudioManager.Instance;
                a._musicVolume = Math.max(Math.min(value, 1), 0);
                a.OnChangeMusicVolume();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AudioManager, "Volume", {
            get: function () {
                return AudioManager.Instance._volume;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AudioManager, "volume", {
            set: function (value) {
                var a = AudioManager.Instance;
                a._volume = Math.max(Math.min(value, 1), 0);
                a.OnChangeMusicVolume();
                a.OnChangeSoundVolume();
            },
            enumerable: true,
            configurable: true
        });
        AudioManager.StopMusic = function () {
            Laya.SoundManager.stopMusic();
        };
        AudioManager.StopAllSound = function () {
            Laya.SoundManager.stopAllSound();
            AudioManager.Instance._mixerSoundPlay = 0;
        };
        AudioManager.StopAll = function () {
            AudioManager.StopMusic();
            AudioManager.StopAllSound();
        };
        AudioManager.PlayMusic = function (url, loops, complete, startTime) {
            var ret = Laya.SoundManager.playMusic(url, loops, complete, startTime);
            return ret;
        };
        AudioManager.PlaySound = function (url, loops, complete, soundClass, startTime) {
            var ret = Laya.SoundManager.playSound(url, loops, complete, soundClass, startTime);
            return ret;
        };
        AudioManager.PlayMixerSound = function (url) {
            var ret = AudioManager.PlaySound(url, 1, Laya.Handler.create(AudioManager.Instance, AudioManager.Instance.MixerSoundComplete));
            AudioManager.Instance._mixerSoundPlay++;
        };
        AudioManager.prototype.MixerSoundComplete = function () {
            this._mixerSoundPlay = Math.max(this._mixerSoundPlay - 1, 0);
        };
        AudioManager.prototype.Update = function () {
            var a = this;
            var dt = Math.min(Laya.timer.delta * 0.001, 0.1);
            var tcurvolume = a._curVolume;
            var tmixmolume = a._onMixerVolume;
            if (a._mixerSoundPlay > 0) {
                if (tcurvolume > tmixmolume) {
                    tcurvolume -= dt;
                    a._curVolume = tcurvolume < tmixmolume ? tmixmolume : tcurvolume;
                    a.OnChangeMusicVolume();
                }
            }
            else {
                if (tcurvolume < 1) {
                    tcurvolume += dt;
                    a._curVolume = tcurvolume > 1 ? 1 : tcurvolume;
                    a.OnChangeMusicVolume();
                }
            }
        };
        AudioManager.sInstance = null;
        return AudioManager;
    }());
    Audio.AudioManager = AudioManager;
})(Audio = exports.Audio || (exports.Audio = {}));
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Log;
(function (Log) {
    var LogColor;
    (function (LogColor) {
        LogColor[LogColor["NONE"] = 0] = "NONE";
        LogColor[LogColor["BLUE"] = 1] = "BLUE";
        LogColor[LogColor["YELLO"] = 2] = "YELLO";
        LogColor[LogColor["RED"] = 3] = "RED";
        LogColor[LogColor["GREEN"] = 4] = "GREEN";
        LogColor[LogColor["AQUA"] = 5] = "AQUA";
        LogColor[LogColor["WHITE"] = 6] = "WHITE";
    })(LogColor = Log.LogColor || (Log.LogColor = {}));
    var DLogType;
    (function (DLogType) {
        DLogType[DLogType["Log"] = 1] = "Log";
        DLogType[DLogType["Warning"] = 2] = "Warning";
        DLogType[DLogType["Error"] = 3] = "Error";
        DLogType[DLogType["Assert"] = 4] = "Assert";
        DLogType[DLogType["TrueLog"] = 5] = "TrueLog";
    })(DLogType = Log.DLogType || (Log.DLogType = {}));
    var DLog = /** @class */ (function () {
        function DLog() {
        }
        DLog.IsShow = function (pType) {
            var ret = pType - DLog.MinLogType;
            if (ret < 0)
                return false;
            return true;
        };
        DLog.ColorString = function (_color) {
            var ret;
            switch (_color) {
                case LogColor.BLUE:
                    ret = "<color=blue>";
                    break;
                case LogColor.YELLO:
                    ret = "<color=yellow>";
                    break;
                case LogColor.RED:
                    ret = "<color=red>";
                    break;
                case LogColor.GREEN:
                    ret = "<color=green>";
                    break;
                case LogColor.AQUA:
                    ret = "<color=aqua>";
                    break;
                case LogColor.WHITE:
                    ret = "<color=white>";
                    break;
            }
            return ret;
        };
        DLog.LOGColor = function (pType, pMsg, pColor) {
            if (!DLog.IsShow(pType))
                return;
            switch (pType) {
                case DLogType.TrueLog:
                case DLogType.Log:
                    console.log(pMsg);
                    break;
                case DLogType.Error:
                    console.error(pMsg);
                    break;
                case DLogType.Warning:
                    console.warn(pMsg);
                    break;
                case DLogType.Assert:
                    console.assert(false, pMsg);
                    break;
                default:
                    break;
            }
        };
        DLog.Log = function (pObject) {
            if (!DLog.IsShow(DLogType.Log))
                return;
            DLog.LOGColor(DLogType.Log, pObject, LogColor.NONE);
        };
        DLog.LogWarning = function (pObject) {
            if (!DLog.IsShow(DLogType.Warning))
                return;
            DLog.LOGColor(DLogType.Warning, pObject, LogColor.NONE);
        };
        DLog.LogError = function (pObject) {
            if (!DLog.IsShow(DLogType.Error))
                return;
            DLog.LOGColor(DLogType.Error, pObject, LogColor.NONE);
        };
        DLog.LogAssertion = function (pObject) {
            if (!DLog.IsShow(DLogType.Assert))
                return;
            DLog.LOGColor(DLogType.Assert, pObject, LogColor.NONE);
        };
        DLog.MinLogType = DLogType.Log;
        return DLog;
    }());
    Log.DLog = DLog;
})(Log = exports.Log || (exports.Log = {}));
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LEvent;
(function (LEvent) {
    var EventManager = /** @class */ (function () {
        function EventManager() {
            this.eventHandles = [];
        }
        Object.defineProperty(EventManager, "Instance", {
            get: function () {
                if (EventManager._instance == null)
                    EventManager._instance = new EventManager();
                return EventManager._instance;
            },
            enumerable: true,
            configurable: true
        });
        EventManager.RegEvent = function (eventKey, callBack) {
            if (EventManager.Instance.eventHandles[eventKey] == null)
                EventManager.Instance.eventHandles[eventKey] = new EventGroup(eventKey);
            EventManager.Instance.eventHandles[eventKey].Add(callBack);
        };
        EventManager.UnRegEvent = function (eventKey, callBack) {
            if (EventManager.Instance.eventHandles[eventKey] == null)
                return;
            EventManager.Instance.eventHandles[eventKey].Remove(callBack);
        };
        EventManager.DispatchEvent = function (eventKey, data) {
            if (EventManager.Instance.eventHandles[eventKey] == null)
                return;
            EventManager.Instance.eventHandles[eventKey].DispatchEvent(data);
        };
        EventManager._instance = null;
        return EventManager;
    }());
    LEvent.EventManager = EventManager;
    var EventGroup = /** @class */ (function () {
        function EventGroup(key) {
            this._calls = [];
            this.EventKey = key;
        }
        EventGroup.prototype.Add = function (callBack) {
            var tindex = this._calls.indexOf(callBack);
            if (tindex !== -1)
                return;
            this._calls.push(callBack);
        };
        EventGroup.prototype.Remove = function (callBack) {
            var tindex = this._calls.indexOf(callBack);
            if (tindex !== -1)
                this._calls.splice(tindex, 1);
        };
        EventGroup.prototype.DispatchEvent = function (data) {
            for (var i = 0; i < this._calls.length; i++) {
                var element = this._calls[i];
                element.runWith(data);
            }
        };
        return EventGroup;
    }());
    LEvent.EventGroup = EventGroup;
})(LEvent = exports.LEvent || (exports.LEvent = {}));
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Dlog_1 = require("./Dlog");
var NodePool_1 = require("./Pool/NodePool");
var AssetLoader_1 = require("./Asset/AssetLoader");
var EventManager_1 = require("./Event/EventManager");
var AudioManager_1 = require("./Audio/AudioManager");
var HttpNet_1 = require("./Net/HttpNet");
var WebSocketNet_1 = require("./Net/WebSocketNet");
var LE;
(function (LE) {
    var AssetLoader = /** @class */ (function (_super) {
        __extends(AssetLoader, _super);
        function AssetLoader() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return AssetLoader;
    }(AssetLoader_1.Asset.AssetLoader));
    LE.AssetLoader = AssetLoader;
    var EventManager = /** @class */ (function (_super) {
        __extends(EventManager, _super);
        function EventManager() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return EventManager;
    }(EventManager_1.LEvent.EventManager));
    LE.EventManager = EventManager;
    var DLog = /** @class */ (function (_super) {
        __extends(DLog, _super);
        function DLog() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return DLog;
    }(Dlog_1.Log.DLog));
    LE.DLog = DLog;
    var NodePool = /** @class */ (function (_super) {
        __extends(NodePool, _super);
        function NodePool() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return NodePool;
    }(NodePool_1.Pool.NodePool));
    LE.NodePool = NodePool;
    var AudioManager = /** @class */ (function (_super) {
        __extends(AudioManager, _super);
        function AudioManager() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return AudioManager;
    }(AudioManager_1.Audio.AudioManager));
    LE.AudioManager = AudioManager;
    var HttpNet = /** @class */ (function (_super) {
        __extends(HttpNet, _super);
        function HttpNet() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return HttpNet;
    }(HttpNet_1.LENet.HttpNet));
    LE.HttpNet = HttpNet;
    var WebSocketNet = /** @class */ (function (_super) {
        __extends(WebSocketNet, _super);
        function WebSocketNet() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return WebSocketNet;
    }(WebSocketNet_1.LESocket.WebSocketNet));
    LE.WebSocketNet = WebSocketNet;
})(LE = exports.LE || (exports.LE = {}));
},{"./Asset/AssetLoader":5,"./Audio/AudioManager":6,"./Dlog":7,"./Event/EventManager":8,"./Net/HttpNet":10,"./Net/WebSocketNet":11,"./Pool/NodePool":12}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LENet;
(function (LENet) {
    var HttpNet = /** @class */ (function () {
        function HttpNet() {
        }
        HttpNet.SendCallBack = function (url, completeCall) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    var err = null;
                    if (xhr.status >= 400) {
                        err = "\u8BF7\u6C42\u6570\u636E\u53D1\u751F\u9519\u8BEF.readyState = " + xhr.readyState + ", status = " + xhr.status;
                    }
                    if (completeCall != null)
                        completeCall(err, xhr.responseText);
                }
            };
            xhr.onerror = function () {
                if (completeCall != null)
                    completeCall("\u8BF7\u6C42\u6570\u636E\u53D1\u751F\u9519\u8BEF.readyState = " + xhr.readyState + ", status = " + xhr.status, null);
            };
            xhr.ontimeout = function () {
                if (completeCall != null)
                    completeCall("\u8BF7\u6C42\u6570\u636E\u8D85\u65F6.readyState = " + xhr.readyState + ", status = " + xhr.status, null);
            };
            xhr.onabort = function () {
                if (completeCall != null)
                    completeCall("\u8BF7\u6C42\u6570\u636E\u8D85\u65F6.readyState = " + xhr.readyState + ", status = " + xhr.status, null);
            };
            xhr.open("GET", url, true);
            xhr.timeout = 10000;
            xhr.send();
        };
        HttpNet.Send = function (url, completeCall) {
            if (completeCall === void 0) { completeCall = null; }
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    if (completeCall != null) {
                        HttpNet.SendCallBack(url, function (erro, response) {
                            if (erro)
                                console.error(erro);
                            completeCall(erro, response);
                        });
                    }
                    return [2 /*return*/];
                });
            });
        };
        return HttpNet;
    }());
    LENet.HttpNet = HttpNet;
})(LENet = exports.LENet || (exports.LENet = {}));
},{}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LESocket;
(function (LESocket) {
    var SocketNetState;
    (function (SocketNetState) {
        SocketNetState[SocketNetState["Open"] = 1] = "Open";
        SocketNetState[SocketNetState["Close"] = 2] = "Close";
        SocketNetState[SocketNetState["Message"] = 3] = "Message";
        SocketNetState[SocketNetState["Error"] = 4] = "Error";
    })(SocketNetState = LESocket.SocketNetState || (LESocket.SocketNetState = {}));
    var WebSocketNet = /** @class */ (function () {
        function WebSocketNet() {
            this._ws = null;
            this._stateDelgate = null;
        }
        Object.defineProperty(WebSocketNet, "Instance", {
            get: function () {
                if (WebSocketNet._instance == null)
                    WebSocketNet._instance = new WebSocketNet();
                return WebSocketNet._instance;
            },
            enumerable: true,
            configurable: true
        });
        WebSocketNet.SetCallBack = function (callBack) {
            WebSocketNet.Instance._stateDelgate = callBack;
        };
        WebSocketNet.Connect = function (url) {
            if (WebSocketNet.Instance._ws != null && WebSocketNet.Instance._ws.readyState <= 1)
                return;
            WebSocketNet.Close();
            WebSocketNet.Instance.CreatWs(url);
        };
        WebSocketNet.Send = function (msg) {
            WebSocketNet.Instance.WsSend(msg);
        };
        WebSocketNet.Close = function () {
            WebSocketNet.Instance.WsClose();
        };
        WebSocketNet.prototype.WsSend = function (msg) {
            if (this._ws != null) {
                switch (this._ws.readyState) {
                    case WebSocket.OPEN:
                        this._ws.send(msg);
                        break;
                    case WebSocket.CONNECTING:
                        console.error("连接中,请稍后发送.readyState = " + this._ws.readyState);
                        break;
                    case WebSocket.CLOSED:
                    case WebSocket.CLOSING:
                        console.error("连接状态异常,请重新连接.readyState = " + this._ws.readyState);
                        break;
                }
            }
            else {
                console.error("必须先进行连接 WebSocketNet.Connect(url)");
            }
        };
        WebSocketNet.prototype.WsClose = function () {
            if (this._ws != null && this._ws.readyState <= 1)
                this._ws.close();
            this.RestWs();
        };
        WebSocketNet.prototype.RestWs = function () {
            if (this._ws != null) {
                this._ws.onopen = null;
                this._ws.onmessage = null;
                this._ws.onerror = null;
                this._ws.onclose = null;
                this._ws = null;
            }
        };
        WebSocketNet.prototype.CreatWs = function (url) {
            this._ws = new WebSocket(url);
            var tdelgate = this._stateDelgate;
            this._ws.onopen = function (event) {
                if (tdelgate != null)
                    tdelgate(SocketNetState.Open, event);
            };
            this._ws.onmessage = function (event) {
                if (tdelgate != null)
                    tdelgate(SocketNetState.Message, event);
            };
            this._ws.onerror = function (event) {
                if (tdelgate != null)
                    tdelgate(SocketNetState.Error, event);
            };
            this._ws.onclose = function (event) {
                if (tdelgate != null)
                    tdelgate(SocketNetState.Close, event);
            };
        };
        return WebSocketNet;
    }());
    LESocket.WebSocketNet = WebSocketNet;
})(LESocket = exports.LESocket || (exports.LESocket = {}));
},{}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Pool;
(function (Pool) {
    var NodePool = /** @class */ (function () {
        function NodePool() {
            this._groupList = [];
        }
        NodePool.prototype.SetCreater = function (pCreater) {
            this._creater = pCreater;
        };
        NodePool.prototype.SetDestroyer = function (pDestroyer) {
            this._destroyer = pDestroyer;
        };
        NodePool.prototype.Get = function (pKey) {
            if (pKey == null || pKey.length == 0)
                return;
            var tgp = this._groupList[pKey];
            var ret;
            if (tgp != null)
                ret = tgp.Get();
            if (ret == null && this._creater != null)
                ret = this._creater(pKey);
            return ret;
        };
        NodePool.prototype.Push = function (pKey, pNode) {
            var n = this;
            var tgp;
            if (n._groupList[pKey] == null)
                n._groupList[pKey] = new NodeGroup(pKey);
            tgp = n._groupList[pKey];
            tgp.Push(pNode);
        };
        NodePool.prototype.Clear = function () {
            var tlist = this._groupList;
            for (var key in tlist) {
                if (tlist.hasOwnProperty(key)) {
                    var e = tlist[key];
                    e.Clear(this._destroyer);
                }
            }
            this._groupList = [];
        };
        return NodePool;
    }());
    Pool.NodePool = NodePool;
    var NodeGroup = /** @class */ (function () {
        function NodeGroup(pKey) {
            this._queue = [];
            this.Key = pKey;
        }
        NodeGroup.prototype.Get = function () {
            var n = this;
            if (n._queue == null || n._queue.length == 0)
                return null;
            return n._queue.pop();
        };
        NodeGroup.prototype.Push = function (pNode) {
            var n = this;
            if (n._queue == null)
                n._queue = [];
            if (n._queue.indexOf(pNode) == -1)
                n._queue.push(pNode);
        };
        NodeGroup.prototype.Clear = function (pDestroyer) {
            var tlist = this._queue;
            for (var i = 0; i < tlist.length; i++) {
                var e = tlist[i];
                tlist[i] = null;
                if (pDestroyer != null)
                    pDestroyer(e);
            }
            tlist = null;
        };
        return NodeGroup;
    }());
    Pool.NodeGroup = NodeGroup;
})(Pool = exports.Pool || (exports.Pool = {}));
},{}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Managers;
(function (Managers) {
    var BaseManager = /** @class */ (function () {
        function BaseManager(nd, nameStr) {
            this._node = nd;
            this.managerName = nameStr;
        }
        BaseManager.Creat = function () {
            return null;
        };
        BaseManager.prototype.Update = function (dt) {
        };
        BaseManager.prototype.UpdateData = function () {
        };
        return BaseManager;
    }());
    Managers.BaseManager = BaseManager;
})(Managers = exports.Managers || (exports.Managers = {}));
},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LE_1 = require("../LitEngine/LE");
var BaseManager_1 = require("./BaseManager");
var ConfigManager = /** @class */ (function (_super) {
    __extends(ConfigManager, _super);
    function ConfigManager() {
        var _this = _super.call(this, null, "ConfigManager") || this;
        _this._configList = [];
        return _this;
    }
    ConfigManager.Creat = function () {
        return new ConfigManager();
    };
    ConfigManager.prototype.Init = function () {
    };
    ConfigManager.prototype.LoadConfig = function (pHandle) {
        this._loadCall = pHandle;
        LE_1.LE.AssetLoader.Load("resources/Config/ConfigList.json", Laya.Handler.create(this, this.OnListLoaded));
    };
    ConfigManager.prototype.OnListLoaded = function (pListobj) {
        this._cfgListObj = pListobj;
        var assets = [];
        var tlist = this._cfgListObj.configList;
        for (var index = 0; index < tlist.length; index++) {
            assets.push(tlist[index].filePath);
        }
        LE_1.LE.AssetLoader.Load(assets, Laya.Handler.create(this, this.OnCfgLoaded));
    };
    ConfigManager.prototype.OnCfgLoaded = function () {
        var tcfglist = this._configList;
        var tlist = this._cfgListObj.configList;
        for (var index = 0; index < tlist.length; index++) {
            var elment = tlist[index];
            var tcfg = Laya.Loader.getRes(elment.filePath);
            tcfglist[elment.key] = tcfg;
        }
        if (this._loadCall != null)
            this._loadCall.run();
    };
    ConfigManager.prototype.GetConfig = function (key) {
        var tcfglist = this._configList;
        if (tcfglist[key] == null) {
            console.error("Cant not found config.key = " + key);
            return null;
        }
        return tcfglist[key];
    };
    return ConfigManager;
}(BaseManager_1.Managers.BaseManager));
exports.default = ConfigManager;
},{"../LitEngine/LE":9,"./BaseManager":13}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StateBase_1 = require("../State/StateBase");
var BaseManager_1 = require("./BaseManager");
var StateManager = /** @class */ (function (_super) {
    __extends(StateManager, _super);
    function StateManager(nd) {
        return _super.call(this, nd, "StateManager") || this;
    }
    StateManager.Creat = function () {
        return new StateManager(null);
    };
    StateManager.prototype.Init = function () {
    };
    Object.defineProperty(StateManager.prototype, "CurState", {
        get: function () {
            return this._curState;
        },
        enumerable: true,
        configurable: true
    });
    StateManager.prototype.GotoState = function (state, pData) {
        var tlast = this._curState;
        Laya.loader.clearUnLoaded(); //必须确保切换前没有正在加载的资源.否则会有内存问题
        if (tlast != null) {
            if (tlast.name == state.name || tlast.State == StateBase_1.State.StateType.onEnter)
                return;
            tlast.OnExit();
        }
        this._curState = state;
        state.OnEnter(Laya.Handler.create(this, this.OnCurStateLoaded), pData);
    };
    StateManager.prototype.OnCurStateLoaded = function () {
        // if (this._lastState != null)
        //     this._lastState.OnExit();
        Laya.Resource.destroyUnusedResources();
    };
    StateManager.prototype.Update = function (dt) {
        var tcur = this._curState;
        if (tcur != null && tcur.State == StateBase_1.State.StateType.Loaded) {
            tcur.Update(dt);
        }
    };
    StateManager.prototype.UpdateData = function () {
        var tcur = this._curState;
        if (tcur != null && tcur.State == StateBase_1.State.StateType.Loaded) {
            tcur.UpdateData();
        }
    };
    return StateManager;
}(BaseManager_1.Managers.BaseManager));
exports.default = StateManager;
},{"../State/StateBase":20,"./BaseManager":13}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("../GameCore");
var UIBase_1 = require("../ui/UIBase");
var LE_1 = require("../LitEngine/LE");
var BaseManager_1 = require("./BaseManager");
var UIManager = /** @class */ (function (_super) {
    __extends(UIManager, _super);
    function UIManager(nd) {
        var _this = _super.call(this, nd, "UIManager") || this;
        _this._uiList = [];
        _this.uiPath = "UI/";
        _this.uiLastName = ".scene";
        return _this;
    }
    UIManager.Creat = function () {
        var tnode = GameCore_1.default.Core.layerUI.addChild(new Laya.Sprite());
        tnode.name = "UImanagerNode";
        return new UIManager(tnode);
    };
    UIManager.prototype.Init = function () {
    };
    UIManager.prototype.LoadComplete = function (pName, method, pUI) {
        var p = this;
        if (pUI == null) {
            LE_1.LE.DLog.LogError(pName + " faile.please try again.");
            if (method != null) {
                method.runWith(null);
            }
            return;
        }
        var tui = pUI.getComponent(UIBase_1.default);
        if (tui == null) {
            console.error("Cant found uibase on " + pName + ".please check your scene.");
        }
        else {
            tui.parent = p._node;
            p._uiList[pName] = tui;
            tui.active = true;
            if (method != null) {
                method.runWith(tui);
            }
        }
    };
    UIManager.prototype.ShowUI = function (uiName, method) {
        var p = this;
        if (p._uiList[uiName] == null) {
            var tfullpathname = p.uiPath + uiName + p.uiLastName;
            Laya.Scene.load(tfullpathname, Laya.Handler.create(p, p.LoadComplete, [uiName, method]));
        }
        else {
            var tui = p._uiList[uiName];
            tui.active = true;
            if (method != null)
                method.runWith(tui);
        }
    };
    UIManager.prototype.HideUI = function (uiName) {
        var tmgr = this;
        var tui = tmgr._uiList[uiName];
        if (tui != null) {
            tui.active = false;
        }
    };
    UIManager.prototype.GetUI = function (uiName) {
        var p = this;
        var ret = p._uiList[uiName];
        return ret;
    };
    UIManager.prototype.DestoryUI = function (uiName) {
        var tmgr = this;
        var tui = tmgr._uiList[uiName];
        if (tui != null) {
            tmgr._uiList[uiName] = null;
            tui.destroyUI();
        }
    };
    UIManager.prototype.UpdateData = function () {
        var tlist = this._uiList;
        for (var key in tlist) {
            if (tlist.hasOwnProperty(key)) {
                var element = tlist[key];
                if (element == null || !element.active)
                    continue;
                element.UpdateData();
            }
        }
    };
    return UIManager;
}(BaseManager_1.Managers.BaseManager));
exports.default = UIManager;
},{"../GameCore":3,"../LitEngine/LE":9,"../ui/UIBase":21,"./BaseManager":13}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var InGameModule = /** @class */ (function () {
    function InGameModule(pScName) {
    }
    InGameModule.prototype.Init = function (pComplete) {
    };
    InGameModule.prototype.GetScene = function () {
    };
    //#region init
    //#endregion
    //#region running
    InGameModule.prototype.Run = function () {
    };
    InGameModule.prototype.Pause = function () { };
    InGameModule.prototype.Resume = function () { };
    InGameModule.prototype.Destroy = function () {
    };
    //#endregion
    //#region update
    InGameModule.prototype.Update = function (dt) {
    };
    InGameModule.prototype.UpdateData = function () {
    };
    //#endregion
    //#region call
    //#endregion
    InGameModule.prototype.ModuleEvent = function (pEventData) {
    };
    return InGameModule;
}());
exports.default = InGameModule;
},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var InGameModule_1 = require("../Module/InGameModule");
var StateBase_1 = require("./StateBase");
var InGameState = /** @class */ (function (_super) {
    __extends(InGameState, _super);
    function InGameState() {
        return _super.call(this, "InGameState") || this;
    }
    InGameState.prototype.OnEnter = function (fun, pData) {
        _super.prototype.OnEnter.call(this, fun, pData);
        this._module = new InGameModule_1.default(String(pData));
        this._module.Init(Laya.Handler.create(this, this.OnGameLoaded));
    };
    InGameState.prototype.OnGameLoaded = function (obj) {
        this.OnLoaded();
    };
    InGameState.prototype.OnExit = function () {
        _super.prototype.OnExit.call(this);
    };
    InGameState.prototype.OnLoaded = function () {
        _super.prototype.OnLoaded.call(this);
    };
    InGameState.prototype.Update = function (dt) {
        _super.prototype.Update.call(this, dt);
    };
    InGameState.prototype.UpdateData = function () {
        _super.prototype.UpdateData.call(this);
    };
    return InGameState;
}(StateBase_1.State.StateBase));
exports.default = InGameState;
},{"../Module/InGameModule":17,"./StateBase":20}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameCore_1 = require("../GameCore");
var StateBase_1 = require("./StateBase");
var MainState = /** @class */ (function (_super) {
    __extends(MainState, _super);
    function MainState() {
        return _super.call(this, "MainState") || this;
    }
    MainState.prototype.OnEnter = function (fun, pData) {
        _super.prototype.OnEnter.call(this, fun, pData);
        GameCore_1.default.mgrUI.ShowUI("UIMain", Laya.Handler.create(this, function () {
            this.OnLoaded();
        }));
    };
    MainState.prototype.OnExit = function () {
        GameCore_1.default.mgrUI.DestoryUI("UIMain");
        _super.prototype.OnExit.call(this);
    };
    MainState.prototype.OnLoaded = function () {
        _super.prototype.OnLoaded.call(this);
    };
    return MainState;
}(StateBase_1.State.StateBase));
exports.default = MainState;
},{"../GameCore":3,"./StateBase":20}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var State;
(function (State) {
    var StateType;
    (function (StateType) {
        StateType[StateType["none"] = 0] = "none";
        StateType[StateType["onEnter"] = 1] = "onEnter";
        StateType[StateType["onExit"] = 2] = "onExit";
        StateType[StateType["Loaded"] = 3] = "Loaded";
    })(StateType = State.StateType || (State.StateType = {}));
    var StateBase = /** @class */ (function () {
        function StateBase(nstr) {
            this._state = StateType.none;
            this.name = nstr;
        }
        Object.defineProperty(StateBase.prototype, "CurModule", {
            get: function () {
                return this._module;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(StateBase.prototype, "State", {
            get: function () {
                return this._state;
            },
            enumerable: true,
            configurable: true
        });
        StateBase.prototype.OnEnter = function (fun, pData) {
            this._state = StateType.onEnter;
            this._onLoaded = fun;
        };
        StateBase.prototype.OnExit = function () {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.Destroy();
            this._state = StateType.onExit;
        };
        StateBase.prototype.OnLoaded = function () {
            this._state = StateType.Loaded;
            if (this._onLoaded != null)
                this._onLoaded.run();
        };
        StateBase.prototype.Update = function (dt) {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.Update(dt);
        };
        StateBase.prototype.UpdateData = function () {
            var tmodule = this._module;
            if (tmodule != null)
                tmodule.UpdateData();
        };
        return StateBase;
    }());
    State.StateBase = StateBase;
})(State = exports.State || (exports.State = {}));
},{}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase = /** @class */ (function (_super) {
    __extends(UIBase, _super);
    function UIBase() {
        var _this = _super.call(this) || this;
        _this._active = false;
        return _this;
    }
    Object.defineProperty(UIBase.prototype, "parent", {
        get: function () {
            return this._parent;
        },
        set: function (value) {
            this._parent = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIBase.prototype, "active", {
        get: function () {
            return this._active;
        },
        set: function (value) {
            this._active = value;
            if (!value) {
                this.owner.removeSelf();
            }
            else {
                if (this.parent != null)
                    this.parent.addChild(this.owner);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIBase.prototype, "nodeScene", {
        get: function () {
            return this.owner;
        },
        enumerable: true,
        configurable: true
    });
    UIBase.prototype.destroyUI = function () {
        this.owner.destroy();
    };
    UIBase.prototype.UpdateData = function () {
    };
    return UIBase;
}(Laya.Script));
exports.default = UIBase;
},{}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase_1 = require("./UIBase");
var GameCore_1 = require("../GameCore");
var MainState_1 = require("../State/MainState");
var UIMain = /** @class */ (function (_super) {
    __extends(UIMain, _super);
    function UIMain() {
        return _super.call(this) || this;
    }
    UIMain.prototype.onAwake = function () {
        this.backbtn = this.owner.getChildByName("backbtn");
        this.backbtn.on(laya.events.Event.CLICK, this, function () {
            GameCore_1.default.mgrState.GotoState(new MainState_1.default());
        });
    };
    return UIMain;
}(UIBase_1.default));
exports.default = UIMain;
},{"../GameCore":3,"../State/MainState":19,"./UIBase":21}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase_1 = require("./UIBase");
var GameCore_1 = require("../GameCore");
var InGameState_1 = require("../State/InGameState");
var UIMain = /** @class */ (function (_super) {
    __extends(UIMain, _super);
    function UIMain() {
        return _super.call(this) || this;
    }
    UIMain.prototype.onAwake = function () {
        this.testbutton = this.owner.getChildByName("testbutton");
        var testcount = 0;
        this.testbutton.on(laya.events.Event.CLICK, this, function () {
            GameCore_1.default.mgrState.GotoState(new InGameState_1.default(), "1001");
        });
    };
    UIMain.prototype.onEnable = function () {
    };
    UIMain.prototype.onDisable = function () {
    };
    return UIMain;
}(UIBase_1.default));
exports.default = UIMain;
},{"../GameCore":3,"../State/InGameState":18,"./UIBase":21}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1Byb2dyYW0gRmlsZXMvTGF5YUJveC9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9HYW1lQ29yZS50cyIsInNyYy9zY3JpcHQvR2FtZVN0YXJ0LnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvQXNzZXQvQXNzZXRMb2FkZXIudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9BdWRpby9BdWRpb01hbmFnZXIudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9EbG9nLnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvRXZlbnQvRXZlbnRNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9MaXRFbmdpbmUvTEUudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9OZXQvSHR0cE5ldC50cyIsInNyYy9zY3JpcHQvTGl0RW5naW5lL05ldC9XZWJTb2NrZXROZXQudHMiLCJzcmMvc2NyaXB0L0xpdEVuZ2luZS9Qb29sL05vZGVQb29sLnRzIiwic3JjL3NjcmlwdC9NYW5hZ2Vycy9CYXNlTWFuYWdlci50cyIsInNyYy9zY3JpcHQvTWFuYWdlcnMvQ29uZmlnTWFuYWdlci50cyIsInNyYy9zY3JpcHQvTWFuYWdlcnMvU3RhdGVNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9NYW5hZ2Vycy9VSU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L01vZHVsZS9JbkdhbWVNb2R1bGUudHMiLCJzcmMvc2NyaXB0L1N0YXRlL0luR2FtZVN0YXRlLnRzIiwic3JjL3NjcmlwdC9TdGF0ZS9NYWluU3RhdGUudHMiLCJzcmMvc2NyaXB0L1N0YXRlL1N0YXRlQmFzZS50cyIsInNyYy9zY3JpcHQvdWkvVUlCYXNlLnRzIiwic3JjL3NjcmlwdC91aS9VSUluR2FtZS50cyIsInNyYy9zY3JpcHQvdWkvVUlNYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFB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Q0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFO1lBQzlDLGtCQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLHFCQUFXLEVBQUUsRUFBQyxNQUFNLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCx5QkFBUSxHQUFSO0lBRUEsQ0FBQztJQUVELDBCQUFTLEdBQVQ7SUFFQSxDQUFDO0lBQ0wsYUFBQztBQUFELENBekJBLEFBeUJDLENBekJtQyxnQkFBTSxHQXlCekMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lU3RhcnQgZnJvbSBcIi4vc2NyaXB0L0dhbWVTdGFydFwiXG5pbXBvcnQgVUlJbkdhbWUgZnJvbSBcIi4vc2NyaXB0L3VpL1VJSW5HYW1lXCJcbmltcG9ydCBVSU1haW4gZnJvbSBcIi4vc2NyaXB0L3VpL1VJTWFpblwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJzaG93YWxsXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJVSS9VSU1haW4uc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj1mYWxzZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVN0YXJ0LnRzXCIsR2FtZVN0YXJ0KTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3VpL1VJSW5HYW1lLnRzXCIsVUlJbkdhbWUpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdWkvVUlNYWluLnRzXCIsVUlNYWluKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBHYW1lQ29yZSBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvcmVcIlxyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0R2FtZUNvbmZpZy5oZWlnaHQgPSAwOy8v6LCD55So6buY6K6k55Sf5oiQ55qE6ISa5pys5pa55rOVXHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29yZS53aWR0aCwgR2FtZUNvcmUuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb3JlLndpZHRoLCBHYW1lQ29yZS5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29yZS5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29yZS5zY3JlZW5Nb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnbkggPSBHYW1lQ29yZS5hbGlnbkg7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduViA9IEdhbWVDb3JlLmFsaWduVjtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvcmUuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvcmUuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29yZS5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb3JlLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdEdhbWVDb3JlLkluaXQoKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiXHJcbmltcG9ydCBNYWluU3RhdGUgZnJvbSBcIi4vU3RhdGUvTWFpblN0YXRlXCI7XHJcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4vTWFuYWdlcnMvVUlNYW5hZ2VyXCI7XHJcbmltcG9ydCBTdGF0ZU1hbmFnZXIgZnJvbSBcIi4vTWFuYWdlcnMvU3RhdGVNYW5hZ2VyXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuL01hbmFnZXJzL0NvbmZpZ01hbmFnZXJcIjtcclxuaW1wb3J0IHsgTEUgfSBmcm9tIFwiLi9MaXRFbmdpbmUvTEVcIjtcclxuaW1wb3J0IHsgTWFuYWdlcnMgfSBmcm9tIFwiLi9NYW5hZ2Vycy9CYXNlTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvcmUgaW1wbGVtZW50cyBJRGlzcG9zZSB7XHJcblxyXG4gICAgLy8jcmVnaW9uIGNvbmZpZ1xyXG4gICAgLyoqXHJcbiAqIDxwPue8qeaUvuaooeW8j+OAgum7mOiupOWAvOS4uiBcIm5vc2NhbGVcIuOAgjwvcD5cclxuICogPHA+PHVsPuWPluWAvOiMg+WbtO+8mlxyXG4gKiA8bGk+XCJub3NjYWxlXCIg77ya5LiN57yp5pS+77ybPC9saT5cclxuICogPGxpPlwiZXhhY3RmaXRcIiDvvJrlhajlsY/kuI3nrYnmr5TnvKnmlL7vvJs8L2xpPlxyXG4gKiA8bGk+XCJzaG93YWxsXCIg77ya5pyA5bCP5q+U5L6L57yp5pS+77ybPC9saT5cclxuICogPGxpPlwibm9ib3JkZXJcIiDvvJrmnIDlpKfmr5TkvovnvKnmlL7vvJs8L2xpPlxyXG4gKiA8bGk+XCJmdWxsXCIg77ya5LiN57yp5pS+77yMc3RhZ2XnmoTlrr3pq5jnrYnkuo7lsY/luZXlrr3pq5jvvJs8L2xpPlxyXG4gKiA8bGk+XCJmaXhlZHdpZHRoXCIg77ya5a695bqm5LiN5Y+Y77yM6auY5bqm5qC55o2u5bGP5bmV5q+U57yp5pS+77ybPC9saT5cclxuICogPGxpPlwiZml4ZWRoZWlnaHRcIiDvvJrpq5jluqbkuI3lj5jvvIzlrr3luqbmoLnmja7lsY/luZXmr5TnvKnmlL7vvJs8L2xpPlxyXG4gKiA8bGk+XCJmaXhlZGF1dG9cIiDvvJrmoLnmja7lrr3pq5jmr5TvvIzoh6rliqjpgInmi6nkvb/nlKhmaXhlZHdpZHRo5oiWZml4ZWRoZWlnaHTvvJs8L2xpPlxyXG4gKiA8L3VsPjwvcD5cclxuICovXHJcbiAgICBzdGF0aWMgd2lkdGg6IG51bWJlciA9IDcyMDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6IG51bWJlciA9IDEyODA7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOiBzdHJpbmcgPSBcInNob3dhbGxcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOiBzdHJpbmcgPSBcIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6IHN0cmluZyA9IFwiY2VudGVyXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOiBzdHJpbmcgPSBcIm1pZGRsZVwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6IGFueSA9IFwiR2FtZVN0YXJ0LnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgc3RhdGljIGRhdGFVcGRhdGVJbnRlcnZhbCA9IDAuMjtcclxuICAgIHN0YXRpYyBvcGVuVHJ5Q2FjaGUgPSBmYWxzZTtcclxuICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgLy8jcmVnaW9uIGNvcmXmoLjlv4Pnu4Tku7ZcclxuICAgIHByaXZhdGUgc3RhdGljIF9jb3JlOiBHYW1lQ29yZSA9IG51bGw7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBDb3JlKCkge1xyXG4gICAgICAgIGlmIChHYW1lQ29yZS5fY29yZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIEdhbWVDb3JlLl9jb3JlID0gbmV3IEdhbWVDb3JlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBHYW1lQ29yZS5fY29yZTtcclxuICAgIH1cclxuICAgIC8vI3JlZ2lvbiBsYXllcnNcclxuICAgIHB1YmxpYyByZWFkb25seSBsYXllclNjZW5lOiBMYXlhLlNwcml0ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBsYXllclVJOiBMYXlhLlNwcml0ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBsYXllck92ZXI6IExheWEuU3ByaXRlO1xyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIG1ncnNcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IG1nclVJKCk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgcmV0dXJuIEdhbWVDb3JlLkNvcmUubWdyTGlzdFtcIlVJTWFuYWdlclwiXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBtZ3JDb25maWcoKTogQ29uZmlnTWFuYWdlciB7XHJcbiAgICAgICAgcmV0dXJuIEdhbWVDb3JlLkNvcmUubWdyTGlzdFtcIkNvbmZpZ01hbmFnZXJcIl07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgbWdyU3RhdGUoKTogU3RhdGVNYW5hZ2VyIHtcclxuICAgICAgICByZXR1cm4gR2FtZUNvcmUuQ29yZS5tZ3JMaXN0W1wiU3RhdGVNYW5hZ2VyXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbWdyTGlzdDogTWFuYWdlcnMuQmFzZU1hbmFnZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVMaXN0OiBNYW5hZ2Vycy5CYXNlTWFuYWdlcltdID0gW107XHJcbiAgICBwcml2YXRlIF9kYXRhVXBkYXRlVGltZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBpc1J1bmluZyA9IGZhbHNlO1xyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jZW5kcmVnaW9uICBcclxuICAgIC8vI3JlZ2lvbiDmlrnms5VcclxuICAgIC8vIFwic2hvd2FsbFwiXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIEdhbWVDb3JlLl9jb3JlID0gdGhpcztcclxuICAgICAgICBMYXlhLnN0YWdlLmZyYW1lTG9vcCgxLCB0aGlzLCB0aGlzLlVwZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5sYXllclNjZW5lID0gTGF5YS5zdGFnZS5hZGRDaGlsZChuZXcgTGF5YS5TcHJpdGUoKSkgYXMgTGF5YS5TcHJpdGU7Ly/lj6/opovmnIDlupXlsYJcclxuICAgICAgICB0aGlzLmxheWVyVUkgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLlNwcml0ZSgpKSBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICB0aGlzLmxheWVyT3ZlciA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU3ByaXRlKCkpIGFzIExheWEuU3ByaXRlO1xyXG5cclxuICAgICAgICB0aGlzLkFkZE1ncihDb25maWdNYW5hZ2VyLkNyZWF0KCksIGZhbHNlKTtcclxuICAgICAgICB0aGlzLkFkZE1ncihVSU1hbmFnZXIuQ3JlYXQoKSk7XHJcbiAgICAgICAgdGhpcy5BZGRNZ3IoU3RhdGVNYW5hZ2VyLkNyZWF0KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgSW5pdCgpIHtcclxuICAgICAgICBpZiAoR2FtZUNvcmUuX2NvcmUgIT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgIGxldCB0Y29yZSA9IEdhbWVDb3JlLkNvcmU7XHJcbiAgICAgICAgR2FtZUNvcmUubWdyQ29uZmlnLkxvYWRDb25maWcoTGF5YS5IYW5kbGVyLmNyZWF0ZSh0Y29yZSwgdGNvcmUuT25Db25maWdMb2FkZWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIERlc3Ryb3lDb3JlKCkge1xyXG4gICAgICAgIGlmIChHYW1lQ29yZS5fY29yZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIEdhbWVDb3JlLl9jb3JlLkRlc3Ryb3koKTtcclxuICAgICAgICAgICAgR2FtZUNvcmUuX2NvcmUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEFkZE1ncihwTWdyOiBNYW5hZ2Vycy5CYXNlTWFuYWdlciwgcFVwZGF0ZTogYm9vbGVhbiA9IHRydWUpICB7XHJcbiAgICAgICAgbGV0IGcgPSB0aGlzO1xyXG4gICAgICAgIGcubWdyTGlzdFtwTWdyLm1hbmFnZXJOYW1lXSA9IHBNZ3I7XHJcbiAgICAgICAgaWYgKHBVcGRhdGUpIHtcclxuICAgICAgICAgICAgZy51cGRhdGVMaXN0LnB1c2gocE1ncik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPbkNvbmZpZ0xvYWRlZCgpICB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcC5tZ3JMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGUgPSBwLm1nckxpc3RbaV07XHJcbiAgICAgICAgICAgIGUuSW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBHYW1lQ29yZS5tZ3JTdGF0ZS5Hb3RvU3RhdGUobmV3IE1haW5TdGF0ZSgpKTtcclxuICAgICAgICBwLmlzUnVuaW5nID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBEZXN0cm95KCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcztcclxuICAgICAgICBMYXlhLnN0YWdlLmNsZWFyVGltZXIodGhpcywgdGhpcy5VcGRhdGUpO1xyXG4gICAgICAgIHAubGF5ZXJTY2VuZS5kZXN0cm95KCk7XHJcbiAgICAgICAgcC5sYXllclVJLmRlc3Ryb3koKTtcclxuICAgICAgICBwLmxheWVyT3Zlci5kZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgVXBkYXRlKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcztcclxuICAgICAgICBpZiAoIXAuaXNSdW5pbmcpIHJldHVybjtcclxuICAgICAgICBsZXQgZHQgPSBNYXRoLm1pbihMYXlhLnRpbWVyLmRlbHRhICogMC4wMDEsIDAuNSk7XHJcblxyXG4gICAgICAgIGxldCB0aW50ZXJ2YWwgPSBHYW1lQ29yZS5kYXRhVXBkYXRlSW50ZXJ2YWw7XHJcbiAgICAgICAgbGV0IHRvcGVudHJ5ID0gR2FtZUNvcmUub3BlblRyeUNhY2hlO1xyXG4gICAgICAgIGxldCB0dGltZXIgPSBwLl9kYXRhVXBkYXRlVGltZXIgKyBkdDtcclxuICAgICAgICBsZXQgdGlzVXBkYXRlRGF0YSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0dGltZXIgPj0gdGludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRpc1VwZGF0ZURhdGEgPSB0cnVlO1xyXG4gICAgICAgICAgICBwLl9kYXRhVXBkYXRlVGltZXIgPSB0dGltZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGxpc3QgPSB0aGlzLm1nckxpc3Q7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0bGlzdC5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRsaXN0W2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKHRvcGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHAuVXBkYXRlRWxlbWVudChlbGVtZW50LCBkdCwgdGlzVXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZWxlbWVudC5tYW5hZ2VyTmFtZSArIFwiLS0tXCIgKyBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwLlVwZGF0ZUVsZW1lbnQoZWxlbWVudCwgZHQsIHRpc1VwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFVwZGF0ZUVsZW1lbnQoZTogTWFuYWdlcnMuQmFzZU1hbmFnZXIsIGR0OiBudW1iZXIsIGlzVXBkYXRlRGF0YTogYm9vbGVhbikge1xyXG4gICAgICAgIGUuVXBkYXRlKGR0KTtcclxuICAgICAgICBpZiAoaXNVcGRhdGVEYXRhKVxyXG4gICAgICAgICAgICBlLlVwZGF0ZURhdGEoKTtcclxuICAgIH1cclxuICAgIC8vI2VuZHJlZ2lvblxyXG59IiwiaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuL0dhbWVDb3JlXCI7XHJcbmltcG9ydCBNYWluU3RhdGUgZnJvbSBcIi4vU3RhdGUvTWFpblN0YXRlXCI7XHJcblxyXG4vKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVN0YXJ0IGV4dGVuZHMgTGF5YS5TY2VuZSB7XHJcbiAgICBwdWJsaWMgdGVzdFNjZW5lX2J0bjogTGF5YS5CdXR0b247XHJcbiAgICBwdWJsaWMgYnRuX3RleHR0ZXN0OiBMYXlhLlRleHQ7XHJcblxyXG4gICAgcHVibGljIG93bmVyM2Q7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNoaWxkcmVuKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJHYW1lU3RhcnRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAvL0xheWEuU2NlbmUzRC5sb2FkKFwidGVzdHNjZW5lL2xldmVsMS5sc1wiLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLm9uQ29tcGxldGUpKTtcclxuXHJcbiAgICAgICAgLy/mt7vliqAzROWcuuaZr1xyXG5cclxuICAgICAgICBcclxuICAgICAgICAvLyB2YXIgdHNjZW5lOiBMYXlhLlNjZW5lM0QgPSB0aGlzLmFkZENoaWxkKG5ldyBMYXlhLlNjZW5lM0QoKSkgYXMgTGF5YS5TY2VuZTNEO1xyXG4gICAgICAgIC8vIHRoaXMub3duZXIzZCA9IHRzY2VuZTtcclxuXHJcbiAgICAgICAgLy8gdmFyIGNhbWVyYTpMYXlhLkNhbWVyYSA9ICh0c2NlbmUuYWRkQ2hpbGQobmV3IExheWEuQ2FtZXJhKCAwLCAwLjEsIDEwMCkpKSBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICAvLyAgICAgY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygxLCA2LCAxMCkpO1xyXG4gICAgICAgIC8vICAgICBjYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKCAtMzAsIDAsIDApLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gICAgIGNhbWVyYS5jbGVhckNvbG9yID0gbnVsbDtcclxuICAgICAgICAgICBcclxuXHJcblxyXG4gICAgICAgIC8vICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6TGF5YS5EaXJlY3Rpb25MaWdodCA9IHRzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKSBhcyBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG4gICAgICAgIC8vICAgICBkaXJlY3Rpb25MaWdodC5kaWZmdXNlQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3IzKDAuNiwgMC42LCAwLjYpO1xyXG4gICAgICAgIC8vICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ud29ybGRNYXRyaXguc2V0Rm9yd2FyZChuZXcgTGF5YS5WZWN0b3IzKDEsIC0xLCAwKSk7XHJcbiAgICAgICAgLy8gICAgIC8v5re75Yqg6Ieq5a6a5LmJ5qih5Z6LXHJcbiAgICAgICAgLy8gICAgIHZhciBzcGhlcmU6TGF5YS5NZXNoU3ByaXRlM0QgPSB0c2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVTcGhlcmUoMSwxMDAsMTAwKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIC8vICAgICBzcGhlcmUudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsOTAsMCksZmFsc2UsZmFsc2UpO1xyXG4gICAgICAgIC8vICAgICBzcGhlcmUudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsMywwKSk7XHJcbiAgICAgICAgLy8gICAgIHNwaGVyZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWw7XHJcbiAgICAgICAgLy8gICAgIHZhciBtYXRlcmlhbDpMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG4gICAgICAgIC8vICAgICBMYXlhLlRleHR1cmUyRC5sb2FkKFwicmVzL2xheWFib3gucG5nXCIsIExheWEuSGFuZGxlci5jcmVhdGUobnVsbCwgZnVuY3Rpb24odGV4OkxheWEuVGV4dHVyZTJEKTp2b2lkIHtcclxuICAgICAgICAvLyAgICAgICAgIG1hdGVyaWFsLmFsYmVkb1RleHR1cmUgPSB0ZXg7XHJcbiAgICAgICAgLy8gICAgIH0pKTtcclxuICAgICAgICAvLyAgICAgc3BoZXJlLm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG4gICAgICAgIC8vICAgICAvL+a3u+WKoOeJqeeQhue7hOS7tlxyXG4gICAgICAgIC8vICAgICBzcGhlcmUuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICAvLyAgICAgLy/nu5nnkIPmt7vliqDliJrkvZNcclxuICAgICAgICAvLyAgICAgdmFyIHJpZ2lkOkxheWEuUmlnaWRib2R5M0QgPSBzcGhlcmUuYWRkQ29tcG9uZW50KExheWEuUmlnaWRib2R5M0QpO1xyXG4gICAgICAgIC8vICAgICAvL+acieWImuS9k+eahHNoYXBl6KaB5Yqg5Zyo5Yia5L2T5LiKXHJcbiAgICAgICAgLy8gICAgIHJpZ2lkLmNvbGxpZGVyU2hhcGUgPSBuZXcgTGF5YS5TcGhlcmVDb2xsaWRlclNoYXBlKDEpO1xyXG4gICAgICAgIC8vICAgICAvL+a3u+WKoOS4gOS4quWcsOadv1xyXG4gICAgICAgIC8vICAgICB2YXIgZmxvb3I6TGF5YS5NZXNoU3ByaXRlM0QgPSB0c2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVQbGFuZSgxMCwxMCkpKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICAvLyAgICAgLy/nu5nlnLDmnb/mt7vliqDniannkIbnu4Tku7ZcclxuICAgICAgICAvLyAgICAgdmFyIGZsb29yQ29sbGljYXI6TGF5YS5QaHlzaWNzQ29sbGlkZXIgPSBmbG9vci5hZGRDb21wb25lbnQoTGF5YS5QaHlzaWNzQ29sbGlkZXIpO1xyXG4gICAgICAgIC8vICAgICAvLyDmt7vliqBjb2xsaWRlcnNoYXBlXHJcbiAgICAgICAgLy8gICAgIGZsb29yQ29sbGljYXIuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLkJveENvbGxpZGVyU2hhcGUoMTAsMCwxMCk7XHJcbiAgICAgICAgLy8gICAgIC8v5YWL6ZqG5LiA5Liq55CDICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIC8vICAgICBMYXlhLnRpbWVyLm9uY2UoMTAwMCx0aGlzLGZ1bmN0aW9uKCk6dm9pZHtcclxuICAgICAgICAvLyAgICAgICAvL+S4gOenkuS5i+WQjuWkjeWItuS4gOS4queQg1xyXG4gICAgICAgIC8vICAgICAgICAgIHZhciBjbG9uZVNwaGVyZTpMYXlhLk1lc2hTcHJpdGUzRCA9IExheWEuU3ByaXRlM0QuaW5zdGFudGlhdGUoc3BoZXJlKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICAvLyAgICAgICAgIC8v6K6+572u5L2N572u5YGP56e7XHJcbiAgICAgICAgLy8gICAgICAgICAgY2xvbmVTcGhlcmUudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDEsNCwwKSk7XHJcbiAgICAgICAgLy8gICAgICAgICAvL+a3u+WKoOWIsOWcuuaZr1xyXG4gICAgICAgIC8vICAgICAgICAgdHNjZW5lLmFkZENoaWxkKGNsb25lU3BoZXJlKTtcclxuICAgICAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgICAgIExheWEuU2NlbmUzRC5sb2FkKCd0ZXN0c2NlbmUvbGV2ZWwxLmxzJywgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29tcGxldGUpKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5idG5fdGV4dHRlc3QpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVzdFNjZW5lX2J0bik7XHJcbiAgICAgICAgLy8gdmFyIHRlc3Rjb3VudCA9IDA7XHJcbiAgICAgICAgLy8gdGhpcy50ZXN0U2NlbmVfYnRuLm9uKGxheWEuZXZlbnRzLkV2ZW50LkNMSUNLLCB0aGlzLCBmdW5jdGlvbiAoKSB7IHRoaXMuYnRuX3RleHR0ZXN0LnRleHQgPSBTdHJpbmcodGVzdGNvdW50KTsgdGVzdGNvdW50Kys7IH0pO1xyXG4gICAgICAgLy8gR2FtZUNvcmUuQ29yZS5tZ3JTdGF0ZS5Hb3RvU3RhdGUobmV3IE1haW5TdGF0ZSgpKTtcclxuICAgICAgICAvLyBHYW1lQ29yZS5tZ3JVSS5TaG93VUkoXCJVSU1haW5cIixmdW5jdGlvbihzdWkpe1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhzdWkpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIExheWEuU2NlbmUubG9hZChcInByZWZhYi90ZXN0aW1hZ2UucHJlZmFiXCIsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRkQ2hpbGQocmVzKTtcclxuICAgICAgICAvLyB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkNvbXBsZXRlKHNjZW5lcmVzOiBMYXlhLlNjZW5lM0QpOiB2b2lkIHtcclxuICAgICAgICAvLyDlsIblnLrmma/liqDliLDoiJ7lj7DkuIpcclxuICAgICAgICBHYW1lQ29yZS5Db3JlLmxheWVyU2NlbmUuYWRkQ2hpbGQoc2NlbmVyZXMpO1xyXG4gICAgICAgLy8gdGhpcy5hZGRDaGlsZEF0KHNjZW5lcmVzLDApO1xyXG4gICAgICAgIC8vICAgICAvL+a3u+WKoOiHquWumuS5ieaooeWei1xyXG4gICAgICAgIHZhciBzcGhlcmU6IExheWEuTWVzaFNwcml0ZTNEID0gIHNjZW5lcmVzLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlU3BoZXJlKDEsIDEwMCwgMTAwKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIHNwaGVyZS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgOTAsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIHNwaGVyZS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgMywgMCkpO1xyXG4gICAgICAgIHNwaGVyZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWw7XHJcbiAgICAgICAgdmFyIG1hdGVyaWFsOiBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG4gICAgICAgIExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbiAodGV4OiBMYXlhLlRleHR1cmUyRCk6IHZvaWQge1xyXG4gICAgICAgICAgICBtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBzcGhlcmUubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbWF0ZXJpYWw7XHJcbiAgICAgICAgLy/mt7vliqDniannkIbnu4Tku7ZcclxuICAgICAgICBzcGhlcmUuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICAvL+e7meeQg+a3u+WKoOWImuS9k1xyXG4gICAgICAgIHZhciByaWdpZDogTGF5YS5SaWdpZGJvZHkzRCA9IHNwaGVyZS5hZGRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCk7XHJcbiAgICAgICAgcmlnaWQuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLlNwaGVyZUNvbGxpZGVyU2hhcGUoMSk7XHJcblxyXG4gICAgICAgLy8gdGhpcy5yZW1vdmVTZWxmKCk7XHJcbiAgICB9XHJcbn0iLCIgZXhwb3J0IG1vZHVsZSBBc3NldHtcclxuICAgIGV4cG9ydCBjbGFzcyBBc3NldExvYWRlciB7XHJcbiAgICAgICAgcHJpdmF0ZSBfYXNzZXRzOiBhbnlbXSA9IFtdXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9hZCh1cmw6IGFueSwgY29tcGxldGU/OkxheWEuSGFuZGxlciwgcHJvZ3Jlc3M/OiBMYXlhLkhhbmRsZXIsIHR5cGU/OiBzdHJpbmcsIHByaW9yaXR5PzogbnVtYmVyLCBjYWNoZT86IGJvb2xlYW4sIGdyb3VwPzogc3RyaW5nLCBpZ25vcmVDYWNoZT86IGJvb2xlYW4sIHVzZVdvcmtlckxvYWRlcj86IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIubG9hZCh1cmwsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYoY29tcGxldGUgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUucnVuV2l0aChldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLHByb2dyZXNzLHR5cGUscHJpb3JpdHksY2FjaGUsIGdyb3VwLGlnbm9yZUNhY2hlLHVzZVdvcmtlckxvYWRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIENyZWF0KHVybDogYW55LCBjb21wbGV0ZT86IExheWEuSGFuZGxlciwgcHJvZ3Jlc3M/OiBMYXlhLkhhbmRsZXIsIHR5cGU/OiBzdHJpbmcsIGNvbnN0cnVjdFBhcmFtcz86IEFycmF5PGFueT4sIHByb3BlcnR5UGFyYW1zPzogYW55LCBwcmlvcml0eT86IG51bWJlciwgY2FjaGU/OiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIExheWEubG9hZGVyLmNyZWF0ZSh1cmwsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYoY29tcGxldGUgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUucnVuV2l0aChldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLHByb2dyZXNzLHR5cGUsY29uc3RydWN0UGFyYW1zLHByb3BlcnR5UGFyYW1zLCBwcmlvcml0eSxjYWNoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBtb2R1bGUgQXVkaW8ge1xyXG4gICAgZXhwb3J0IGNsYXNzIEF1ZGlvTWFuYWdlciB7XHJcbiAgICAgICAgcHJvdGVjdGVkIHN0YXRpYyBzSW5zdGFuY2U6IEF1ZGlvTWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSAge1xyXG4gICAgICAgICAgICBpZiAoQXVkaW9NYW5hZ2VyLnNJbnN0YW5jZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIuc0luc3RhbmNlID0gbmV3IEF1ZGlvTWFuYWdlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBBdWRpb01hbmFnZXIuc0luc3RhbmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIF92b2x1bWU6IG51bWJlciA9IDE7XHJcbiAgICAgICAgcHJvdGVjdGVkIF9vbk1peGVyVm9sdW1lOiBudW1iZXIgPSAwLjM7XHJcbiAgICAgICAgcHJvdGVjdGVkIF9jdXJWb2x1bWUgPSAxO1xyXG4gICAgICAgIHByb3RlY3RlZCBfbXVzaWNWb2x1bWU6IG51bWJlciA9IDE7XHJcbiAgICAgICAgcHJvdGVjdGVkIF9zb3VuZFZvbHVtZTogbnVtYmVyID0gMTtcclxuICAgICAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2UuZnJhbWVMb29wKDEsIHRoaXMsIHRoaXMuVXBkYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBPbkNoYW5nZU11c2ljVm9sdW1lKCkge1xyXG4gICAgICAgICAgICBsZXQgYSA9IHRoaXM7XHJcbiAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLm11c2ljVm9sdW1lID0gYS5fdm9sdW1lICogYS5fbXVzaWNWb2x1bWUgKiBhLl9jdXJWb2x1bWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgT25DaGFuZ2VTb3VuZFZvbHVtZSgpIHtcclxuICAgICAgICAgICAgbGV0IGEgPSB0aGlzO1xyXG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5zb3VuZFZvbHVtZSA9IGEuX3ZvbHVtZSAqIGEuX3NvdW5kVm9sdW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXQgT25NaXhlclZvbHVtZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEF1ZGlvTWFuYWdlci5JbnN0YW5jZS5fb25NaXhlclZvbHVtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2V0IE9uTWl4ZXJWb2x1bWUodmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IGEgPSBBdWRpb01hbmFnZXIuSW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGEuX29uTWl4ZXJWb2x1bWUgPSBNYXRoLm1heChNYXRoLm1pbih2YWx1ZSwgMSksIDApO1xyXG4gICAgICAgICAgICBhLk9uQ2hhbmdlU291bmRWb2x1bWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFNvdW5kVm9sdW1lKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQXVkaW9NYW5hZ2VyLkluc3RhbmNlLl9zb3VuZFZvbHVtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2V0IFNvdW5kVm9sdW1lKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGxldCBhID0gQXVkaW9NYW5hZ2VyLkluc3RhbmNlO1xyXG4gICAgICAgICAgICBhLl9zb3VuZFZvbHVtZSA9IE1hdGgubWF4KE1hdGgubWluKHZhbHVlLCAxKSwgMCk7XHJcbiAgICAgICAgICAgIGEuT25DaGFuZ2VTb3VuZFZvbHVtZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXQgTXVzaWNWb2x1bWUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBBdWRpb01hbmFnZXIuSW5zdGFuY2UuX211c2ljVm9sdW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBzZXQgTXVzaWNWb2x1bWUodmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IGEgPSBBdWRpb01hbmFnZXIuSW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGEuX211c2ljVm9sdW1lID0gTWF0aC5tYXgoTWF0aC5taW4odmFsdWUsIDEpLCAwKTtcclxuICAgICAgICAgICAgYS5PbkNoYW5nZU11c2ljVm9sdW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldCBWb2x1bWUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBBdWRpb01hbmFnZXIuSW5zdGFuY2UuX3ZvbHVtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2V0IHZvbHVtZSh2YWx1ZSkge1xyXG4gICAgICAgICAgICBsZXQgYSA9IEF1ZGlvTWFuYWdlci5JbnN0YW5jZTtcclxuICAgICAgICAgICAgYS5fdm9sdW1lID0gTWF0aC5tYXgoTWF0aC5taW4odmFsdWUsIDEpLCAwKTtcclxuICAgICAgICAgICAgYS5PbkNoYW5nZU11c2ljVm9sdW1lKCk7XHJcbiAgICAgICAgICAgIGEuT25DaGFuZ2VTb3VuZFZvbHVtZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTdG9wTXVzaWMoKSAge1xyXG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5zdG9wTXVzaWMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU3RvcEFsbFNvdW5kKCkgIHtcclxuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIuc3RvcEFsbFNvdW5kKCk7XHJcbiAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5JbnN0YW5jZS5fbWl4ZXJTb3VuZFBsYXkgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTdG9wQWxsKCkgIHtcclxuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLlN0b3BNdXNpYygpO1xyXG4gICAgICAgICAgICBBdWRpb01hbmFnZXIuU3RvcEFsbFNvdW5kKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIFBsYXlNdXNpYyh1cmw6IHN0cmluZywgbG9vcHM/OiBudW1iZXIsIGNvbXBsZXRlPzogTGF5YS5IYW5kbGVyLCBzdGFydFRpbWU/OiBudW1iZXIpOiBMYXlhLlNvdW5kQ2hhbm5lbCAge1xyXG4gICAgICAgICAgICBsZXQgcmV0ID0gTGF5YS5Tb3VuZE1hbmFnZXIucGxheU11c2ljKHVybCwgbG9vcHMsIGNvbXBsZXRlLCBzdGFydFRpbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBQbGF5U291bmQodXJsOiBzdHJpbmcsIGxvb3BzPzogbnVtYmVyLCBjb21wbGV0ZT86IExheWEuSGFuZGxlciwgc291bmRDbGFzcz86IGFueSwgc3RhcnRUaW1lPzogbnVtYmVyKTogTGF5YS5Tb3VuZENoYW5uZWwgIHtcclxuICAgICAgICAgICAgbGV0IHJldCA9IExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZCh1cmwsIGxvb3BzLCBjb21wbGV0ZSwgc291bmRDbGFzcywgc3RhcnRUaW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUGxheU1peGVyU291bmQodXJsOiBzdHJpbmcpICB7XHJcbiAgICAgICAgICAgIGxldCByZXQgPSBBdWRpb01hbmFnZXIuUGxheVNvdW5kKHVybCwgMSwgTGF5YS5IYW5kbGVyLmNyZWF0ZShBdWRpb01hbmFnZXIuSW5zdGFuY2UsIEF1ZGlvTWFuYWdlci5JbnN0YW5jZS5NaXhlclNvdW5kQ29tcGxldGUpKTtcclxuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLkluc3RhbmNlLl9taXhlclNvdW5kUGxheSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm90ZWN0ZWQgX21peGVyU291bmRQbGF5OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHByb3RlY3RlZCBNaXhlclNvdW5kQ29tcGxldGUoKSAge1xyXG4gICAgICAgICAgICB0aGlzLl9taXhlclNvdW5kUGxheSA9IE1hdGgubWF4KHRoaXMuX21peGVyU291bmRQbGF5IC0gMSwgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgVXBkYXRlKCkgIHtcclxuICAgICAgICAgICAgbGV0IGEgPSB0aGlzO1xyXG4gICAgICAgICAgICBsZXQgZHQgPSBNYXRoLm1pbihMYXlhLnRpbWVyLmRlbHRhICogMC4wMDEsIDAuMSk7XHJcbiAgICAgICAgICAgIGxldCB0Y3Vydm9sdW1lID0gYS5fY3VyVm9sdW1lO1xyXG4gICAgICAgICAgICBsZXQgdG1peG1vbHVtZSA9IGEuX29uTWl4ZXJWb2x1bWU7XHJcbiAgICAgICAgICAgIGlmIChhLl9taXhlclNvdW5kUGxheSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0Y3Vydm9sdW1lID4gdG1peG1vbHVtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRjdXJ2b2x1bWUgLT0gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYS5fY3VyVm9sdW1lID0gdGN1cnZvbHVtZSA8IHRtaXhtb2x1bWUgPyB0bWl4bW9sdW1lIDogdGN1cnZvbHVtZTtcclxuICAgICAgICAgICAgICAgICAgICBhLk9uQ2hhbmdlTXVzaWNWb2x1bWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0Y3Vydm9sdW1lIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRjdXJ2b2x1bWUgKz0gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYS5fY3VyVm9sdW1lID0gdGN1cnZvbHVtZSA+IDEgPyAxIDogdGN1cnZvbHVtZTtcclxuICAgICAgICAgICAgICAgICAgICBhLk9uQ2hhbmdlTXVzaWNWb2x1bWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBtb2R1bGUgTG9nIHtcclxuICAgIGV4cG9ydCBlbnVtIExvZ0NvbG9yIHtcclxuICAgICAgICBOT05FID0gMCxcclxuICAgICAgICBCTFVFLFxyXG4gICAgICAgIFlFTExPLFxyXG4gICAgICAgIFJFRCxcclxuICAgICAgICBHUkVFTixcclxuICAgICAgICBBUVVBLFxyXG4gICAgICAgIFdISVRFLFxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGVudW0gRExvZ1R5cGUge1xyXG4gICAgICAgIExvZyA9IDEsXHJcbiAgICAgICAgV2FybmluZyxcclxuICAgICAgICBFcnJvcixcclxuICAgICAgICBBc3NlcnQsXHJcbiAgICAgICAgVHJ1ZUxvZyxcclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBETG9nIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIE1pbkxvZ1R5cGU6IERMb2dUeXBlID0gRExvZ1R5cGUuTG9nO1xyXG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgSXNTaG93KHBUeXBlOiBETG9nVHlwZSk6IGJvb2xlYW4gIHtcclxuICAgICAgICAgICAgbGV0IHJldCA9IHBUeXBlIC0gRExvZy5NaW5Mb2dUeXBlO1xyXG4gICAgICAgICAgICBpZiAocmV0IDwgMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHN0YXRpYyBDb2xvclN0cmluZyhfY29sb3I6IExvZ0NvbG9yKTogc3RyaW5nICB7XHJcbiAgICAgICAgICAgIGxldCByZXQ6IHN0cmluZztcclxuICAgICAgICAgICAgc3dpdGNoIChfY29sb3IpICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvZ0NvbG9yLkJMVUU6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9Ymx1ZT5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nQ29sb3IuWUVMTE86XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9eWVsbG93PlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dDb2xvci5SRUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gXCI8Y29sb3I9cmVkPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dDb2xvci5HUkVFTjpcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBcIjxjb2xvcj1ncmVlbj5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nQ29sb3IuQVFVQTpcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBcIjxjb2xvcj1hcXVhPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dDb2xvci5XSElURTpcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBcIjxjb2xvcj13aGl0ZT5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBMT0dDb2xvcihwVHlwZTogRExvZ1R5cGUsIHBNc2c6IHN0cmluZywgcENvbG9yOiBMb2dDb2xvcikgIHtcclxuICAgICAgICAgICAgaWYgKCFETG9nLklzU2hvdyhwVHlwZSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAocFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgRExvZ1R5cGUuVHJ1ZUxvZzpcclxuICAgICAgICAgICAgICAgIGNhc2UgRExvZ1R5cGUuTG9nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBNc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBETG9nVHlwZS5FcnJvcjpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHBNc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBETG9nVHlwZS5XYXJuaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihwTXNnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERMb2dUeXBlLkFzc2VydDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChmYWxzZSwgcE1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9nKHBPYmplY3QpICB7XHJcbiAgICAgICAgICAgIGlmICghRExvZy5Jc1Nob3coRExvZ1R5cGUuTG9nKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBETG9nLkxPR0NvbG9yKERMb2dUeXBlLkxvZywgcE9iamVjdCwgTG9nQ29sb3IuTk9ORSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIExvZ1dhcm5pbmcocE9iamVjdCkgIHtcclxuICAgICAgICAgICAgaWYgKCFETG9nLklzU2hvdyhETG9nVHlwZS5XYXJuaW5nKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBETG9nLkxPR0NvbG9yKERMb2dUeXBlLldhcm5pbmcsIHBPYmplY3QsIExvZ0NvbG9yLk5PTkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBMb2dFcnJvcihwT2JqZWN0KSAge1xyXG4gICAgICAgICAgICBpZiAoIURMb2cuSXNTaG93KERMb2dUeXBlLkVycm9yKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBETG9nLkxPR0NvbG9yKERMb2dUeXBlLkVycm9yLCBwT2JqZWN0LCBMb2dDb2xvci5OT05FKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9nQXNzZXJ0aW9uKHBPYmplY3QpICB7XHJcbiAgICAgICAgICAgIGlmICghRExvZy5Jc1Nob3coRExvZ1R5cGUuQXNzZXJ0KSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBETG9nLkxPR0NvbG9yKERMb2dUeXBlLkFzc2VydCwgcE9iamVjdCwgTG9nQ29sb3IuTk9ORSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBtb2R1bGUgTEV2ZW50IHtcclxuICAgIGV4cG9ydCBjbGFzcyBFdmVudE1hbmFnZXIge1xyXG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgX2luc3RhbmNlOiBFdmVudE1hbmFnZXIgPSBudWxsO1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgICAgICBpZiAoRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZSA9IG5ldyBFdmVudE1hbmFnZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuIEV2ZW50TWFuYWdlci5faW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGV2ZW50SGFuZGxlczogRXZlbnRHcm91cFtdID0gW107XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVnRXZlbnQoZXZlbnRLZXk6IHN0cmluZywgY2FsbEJhY2s6IExheWEuSGFuZGxlcikge1xyXG4gICAgICAgICAgICBpZiAoRXZlbnRNYW5hZ2VyLkluc3RhbmNlLmV2ZW50SGFuZGxlc1tldmVudEtleV0gPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldID0gbmV3IEV2ZW50R3JvdXAoZXZlbnRLZXkpO1xyXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UuZXZlbnRIYW5kbGVzW2V2ZW50S2V5XS5BZGQoY2FsbEJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBVblJlZ0V2ZW50KGV2ZW50S2V5OiBzdHJpbmcsIGNhbGxCYWNrOiBMYXlhLkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgaWYgKEV2ZW50TWFuYWdlci5JbnN0YW5jZS5ldmVudEhhbmRsZXNbZXZlbnRLZXldID09IG51bGwpIHJldHVybjtcclxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlLmV2ZW50SGFuZGxlc1tldmVudEtleV0uUmVtb3ZlKGNhbGxCYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRGlzcGF0Y2hFdmVudChldmVudEtleTogc3RyaW5nLCBkYXRhOiB7fSkge1xyXG4gICAgICAgICAgICBpZiAoRXZlbnRNYW5hZ2VyLkluc3RhbmNlLmV2ZW50SGFuZGxlc1tldmVudEtleV0gPT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UuZXZlbnRIYW5kbGVzW2V2ZW50S2V5XS5EaXNwYXRjaEV2ZW50KGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRXZlbnRHcm91cCB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IEV2ZW50S2V5OiBzdHJpbmc7XHJcbiAgICAgICAgcHJvdGVjdGVkIF9jYWxsczogTGF5YS5IYW5kbGVyW10gPSBbXTtcclxuICAgICAgICBjb25zdHJ1Y3RvcihrZXk6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLkV2ZW50S2V5ID0ga2V5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIEFkZChjYWxsQmFjazogTGF5YS5IYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGxldCB0aW5kZXggPSB0aGlzLl9jYWxscy5pbmRleE9mKGNhbGxCYWNrKTtcclxuICAgICAgICAgICAgaWYgKHRpbmRleCAhPT0gLTEpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbHMucHVzaChjYWxsQmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgUmVtb3ZlKGNhbGxCYWNrOiBMYXlhLkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgbGV0IHRpbmRleCA9IHRoaXMuX2NhbGxzLmluZGV4T2YoY2FsbEJhY2spO1xyXG4gICAgICAgICAgICBpZiAodGluZGV4ICE9PSAtMSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxzLnNwbGljZSh0aW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIERpc3BhdGNoRXZlbnQoZGF0YToge30pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jYWxscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLl9jYWxsc1tpXTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucnVuV2l0aChkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJcclxuaW1wb3J0IHsgTG9nIH0gZnJvbSBcIi4vRGxvZ1wiO1xyXG5pbXBvcnQgeyBQb29sIH0gZnJvbSBcIi4vUG9vbC9Ob2RlUG9vbFwiO1xyXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gXCIuL0Fzc2V0L0Fzc2V0TG9hZGVyXCI7XHJcbmltcG9ydCB7IExFdmVudCB9IGZyb20gXCIuL0V2ZW50L0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBBdWRpbyB9IGZyb20gXCIuL0F1ZGlvL0F1ZGlvTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBMRU5ldCB9IGZyb20gXCIuL05ldC9IdHRwTmV0XCI7XHJcbmltcG9ydCB7IExFU29ja2V0IH0gZnJvbSBcIi4vTmV0L1dlYlNvY2tldE5ldFwiO1xyXG5cclxuZXhwb3J0IG1vZHVsZSBMRXtcclxuICAgIGV4cG9ydCBjbGFzcyBBc3NldExvYWRlciBleHRlbmRzIEFzc2V0LkFzc2V0TG9hZGVyIHt9XHJcbiAgICBleHBvcnQgY2xhc3MgRXZlbnRNYW5hZ2VyIGV4dGVuZHMgTEV2ZW50LkV2ZW50TWFuYWdlciB7fVxyXG4gICAgZXhwb3J0IGNsYXNzIERMb2cgZXh0ZW5kcyBMb2cuRExvZyB7fVxyXG4gICAgZXhwb3J0IGNsYXNzIE5vZGVQb29sIGV4dGVuZHMgUG9vbC5Ob2RlUG9vbCB7fVxyXG4gICAgZXhwb3J0IGNsYXNzIEF1ZGlvTWFuYWdlciBleHRlbmRzIEF1ZGlvLkF1ZGlvTWFuYWdlcnt9XHJcbiAgICBleHBvcnQgY2xhc3MgSHR0cE5ldCBleHRlbmRzIExFTmV0Lkh0dHBOZXR7fVxyXG4gICAgZXhwb3J0IGNsYXNzIFdlYlNvY2tldE5ldCBleHRlbmRzIExFU29ja2V0LldlYlNvY2tldE5ldHt9XHJcbn0iLCJleHBvcnQgbW9kdWxlIExFTmV0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBIdHRwTmV0IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBTZW5kQ2FsbEJhY2sodXJsOiBzdHJpbmcsIGNvbXBsZXRlQ2FsbDogKGVycm86IHN0cmluZywgcmVzcG9uc2U6IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnI6IHN0cmluZyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IGDor7fmsYLmlbDmja7lj5HnlJ/plJnor68ucmVhZHlTdGF0ZSA9ICR7eGhyLnJlYWR5U3RhdGV9LCBzdGF0dXMgPSAke3hoci5zdGF0dXN9YDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlQ2FsbCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUNhbGwoZXJyLCB4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZUNhbGwgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUNhbGwoYOivt+axguaVsOaNruWPkeeUn+mUmeivry5yZWFkeVN0YXRlID0gJHt4aHIucmVhZHlTdGF0ZX0sIHN0YXR1cyA9ICR7eGhyLnN0YXR1c31gLCBudWxsKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZUNhbGwgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUNhbGwoYOivt+axguaVsOaNrui2heaXti5yZWFkeVN0YXRlID0gJHt4aHIucmVhZHlTdGF0ZX0sIHN0YXR1cyA9ICR7eGhyLnN0YXR1c31gLCBudWxsKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVDYWxsICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVDYWxsKGDor7fmsYLmlbDmja7otoXml7YucmVhZHlTdGF0ZSA9ICR7eGhyLnJlYWR5U3RhdGV9LCBzdGF0dXMgPSAke3hoci5zdGF0dXN9YCwgbnVsbCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICB4aHIudGltZW91dCA9IDEwMDAwO1xyXG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgU2VuZCh1cmw6IHN0cmluZywgY29tcGxldGVDYWxsOiAoZXJybzogc3RyaW5nLCByZXNwb25zZTogc3RyaW5nKSA9PiB2b2lkID0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY29tcGxldGVDYWxsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIEh0dHBOZXQuU2VuZENhbGxCYWNrKHVybCwgZnVuY3Rpb24gKGVycm86IHN0cmluZywgcmVzcG9uc2U6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlQ2FsbChlcnJvLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJcclxuZXhwb3J0IG1vZHVsZSBMRVNvY2tldCB7XHJcbiAgICBleHBvcnQgZW51bSBTb2NrZXROZXRTdGF0ZSB7XHJcbiAgICAgICAgT3BlbiA9IDEsXHJcbiAgICAgICAgQ2xvc2UsXHJcbiAgICAgICAgTWVzc2FnZSxcclxuICAgICAgICBFcnJvcixcclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBXZWJTb2NrZXROZXQge1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogV2ViU29ja2V0TmV0O1xyXG5cclxuICAgICAgICBwcml2YXRlIF93czogV2ViU29ja2V0ID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIF9zdGF0ZURlbGdhdGU6ICgoc3RhdGU6IG51bWJlciwgZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKSA9IG51bGw7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgICAgIGlmIChXZWJTb2NrZXROZXQuX2luc3RhbmNlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICBXZWJTb2NrZXROZXQuX2luc3RhbmNlID0gbmV3IFdlYlNvY2tldE5ldCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gV2ViU29ja2V0TmV0Ll9pbnN0YW5jZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0Q2FsbEJhY2soY2FsbEJhY2s6ICgoc3RhdGU6IG51bWJlciwgZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKSkge1xyXG4gICAgICAgICAgICBXZWJTb2NrZXROZXQuSW5zdGFuY2UuX3N0YXRlRGVsZ2F0ZSA9IGNhbGxCYWNrO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ29ubmVjdCh1cmw6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAoV2ViU29ja2V0TmV0Lkluc3RhbmNlLl93cyAhPSBudWxsICYmIFdlYlNvY2tldE5ldC5JbnN0YW5jZS5fd3MucmVhZHlTdGF0ZSA8PSAxKSByZXR1cm47XHJcbiAgICAgICAgICAgIFdlYlNvY2tldE5ldC5DbG9zZSgpO1xyXG4gICAgICAgICAgICBXZWJTb2NrZXROZXQuSW5zdGFuY2UuQ3JlYXRXcyh1cmwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZW5kKG1zZzogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIFdlYlNvY2tldE5ldC5JbnN0YW5jZS5Xc1NlbmQobXNnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ2xvc2UoKSB7XHJcbiAgICAgICAgICAgIFdlYlNvY2tldE5ldC5JbnN0YW5jZS5Xc0Nsb3NlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIFdzU2VuZChtc2c6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fd3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl93cy5yZWFkeVN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBXZWJTb2NrZXQuT1BFTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd3Muc2VuZChtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFdlYlNvY2tldC5DT05ORUNUSU5HOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6L+e5o6l5LitLOivt+eojeWQjuWPkemAgS5yZWFkeVN0YXRlID0gXCIgKyB0aGlzLl93cy5yZWFkeVN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBXZWJTb2NrZXQuQ0xPU0VEOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgV2ViU29ja2V0LkNMT1NJTkc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLov57mjqXnirbmgIHlvILluLgs6K+36YeN5paw6L+e5o6lLnJlYWR5U3RhdGUgPSBcIiArIHRoaXMuX3dzLnJlYWR5U3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLlv4XpobvlhYjov5vooYzov57mjqUgV2ViU29ja2V0TmV0LkNvbm5lY3QodXJsKVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBXc0Nsb3NlKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fd3MgIT0gbnVsbCAmJiB0aGlzLl93cy5yZWFkeVN0YXRlIDw9IDEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl93cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLlJlc3RXcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBSZXN0V3MoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl93cyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93cy5vbm9wZW4gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd3Mub25tZXNzYWdlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dzLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd3Mub25jbG9zZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93cyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgQ3JlYXRXcyh1cmw6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLl93cyA9IG5ldyBXZWJTb2NrZXQodXJsKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZGVsZ2F0ZSA9IHRoaXMuX3N0YXRlRGVsZ2F0ZTtcclxuICAgICAgICAgICAgdGhpcy5fd3Mub25vcGVuID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGRlbGdhdGUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0ZGVsZ2F0ZShTb2NrZXROZXRTdGF0ZS5PcGVuLCBldmVudCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuX3dzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRkZWxnYXRlICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgdGRlbGdhdGUoU29ja2V0TmV0U3RhdGUuTWVzc2FnZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl93cy5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGRlbGdhdGUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0ZGVsZ2F0ZShTb2NrZXROZXRTdGF0ZS5FcnJvciwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl93cy5vbmNsb3NlID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGRlbGdhdGUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0ZGVsZ2F0ZShTb2NrZXROZXRTdGF0ZS5DbG9zZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgbW9kdWxlIFBvb2wge1xyXG4gICAgZXhwb3J0IGNsYXNzIE5vZGVQb29sIHtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIF9jcmVhdGVyOigodXJsOnN0cmluZyk9PmFueSk7XHJcbiAgICAgICAgcHJvdGVjdGVkIF9kZXN0cm95ZXI6KChvYmo6YW55KT0+dm9pZCk7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFNldENyZWF0ZXIocENyZWF0ZXI6KCh1cmw6c3RyaW5nKT0+YW55KSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZXIgPSBwQ3JlYXRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBTZXREZXN0cm95ZXIocERlc3Ryb3llcjooKG9iajphbnkpPT52b2lkKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3llciA9IHBEZXN0cm95ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgX2dyb3VwTGlzdDogTm9kZUdyb3VwW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgR2V0KHBLZXk6IHN0cmluZyk6IGFueSAge1xyXG4gICAgICAgICAgICBpZihwS2V5ID09IG51bGwgfHwgcEtleS5sZW5ndGggPT0gMCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBsZXQgdGdwID0gdGhpcy5fZ3JvdXBMaXN0W3BLZXldO1xyXG4gICAgICAgICAgICBsZXQgcmV0IDtcclxuICAgICAgICAgICAgaWYgKHRncCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0PSB0Z3AuR2V0KCk7XHJcbiAgICAgICAgICAgIGlmIChyZXQgPT0gbnVsbCAmJiB0aGlzLl9jcmVhdGVyICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXQgPSB0aGlzLl9jcmVhdGVyKHBLZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFB1c2gocEtleTogc3RyaW5nLCBwTm9kZSkgIHtcclxuICAgICAgICAgICAgbGV0IG4gPSB0aGlzO1xyXG4gICAgICAgICAgICBsZXQgdGdwO1xyXG4gICAgICAgICAgICBpZiAobi5fZ3JvdXBMaXN0W3BLZXldID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICBuLl9ncm91cExpc3RbcEtleV0gPSBuZXcgTm9kZUdyb3VwKHBLZXkpO1xyXG4gICAgICAgICAgICB0Z3AgPSBuLl9ncm91cExpc3RbcEtleV07XHJcblxyXG4gICAgICAgICAgICB0Z3AuUHVzaChwTm9kZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgQ2xlYXIoKSAge1xyXG4gICAgICAgICAgICBsZXQgdGxpc3QgPSB0aGlzLl9ncm91cExpc3Q7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGxpc3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlID0gdGxpc3Rba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBlLkNsZWFyKHRoaXMuX2Rlc3Ryb3llcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZ3JvdXBMaXN0ID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBOb2RlR3JvdXAge1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBLZXk6IHN0cmluZztcclxuICAgICAgICBwcm90ZWN0ZWQgX3F1ZXVlOiBhbnlbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHBLZXk6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLktleSA9IHBLZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgR2V0KCk6IGFueSAge1xyXG4gICAgICAgICAgICBsZXQgbiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChuLl9xdWV1ZSA9PSBudWxsIHx8IG4uX3F1ZXVlLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuIG4uX3F1ZXVlLnBvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFB1c2gocE5vZGUpICB7XHJcbiAgICAgICAgICAgIGxldCBuID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKG4uX3F1ZXVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICBuLl9xdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYobi5fcXVldWUuaW5kZXhPZihwTm9kZSkgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICBuLl9xdWV1ZS5wdXNoKHBOb2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBDbGVhcihwRGVzdHJveWVyOigob2JqOmFueSk9PnZvaWQpKSAge1xyXG4gICAgICAgICAgICBsZXQgdGxpc3QgPSB0aGlzLl9xdWV1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0bGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGUgPSB0bGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIHRsaXN0W2ldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmKHBEZXN0cm95ZXIgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBwRGVzdHJveWVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRsaXN0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IG1vZHVsZSBNYW5hZ2Vyc3tcclxuICAgIGV4cG9ydCBhYnN0cmFjdCAgY2xhc3MgQmFzZU1hbmFnZXIgaW1wbGVtZW50cyBJVXBkYXRlLElJbml0e1xyXG4gICAgICAgIGFic3RyYWN0IEluaXQoKTtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIENyZWF0KCk6QmFzZU1hbmFnZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvdGVjdGVkIF9ub2RlOkxheWEuTm9kZTtcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgbWFuYWdlck5hbWU6c3RyaW5nO1xyXG4gICAgICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihuZDpMYXlhLk5vZGUsbmFtZVN0cjpzdHJpbmcpe1xyXG4gICAgICAgICAgICB0aGlzLl9ub2RlID0gbmQ7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlck5hbWUgPSBuYW1lU3RyO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBVcGRhdGUoZHQ6bnVtYmVyKVxyXG4gICAgICAgIHtcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHB1YmxpYyBVcGRhdGVEYXRhKClcclxuICAgICAgICB7XHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuICAgIiwiXHJcbmltcG9ydCB7IExFIH0gZnJvbSBcIi4uL0xpdEVuZ2luZS9MRVwiO1xyXG5pbXBvcnQgeyBNYW5hZ2VycyB9IGZyb20gXCIuL0Jhc2VNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWdNYW5hZ2VyIGV4dGVuZHMgTWFuYWdlcnMuQmFzZU1hbmFnZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyBDcmVhdCgpOiBDb25maWdNYW5hZ2VyIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbmZpZ01hbmFnZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgSW5pdCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfbG9hZENhbGw6IExheWEuSGFuZGxlcjtcclxuXHJcbiAgICBwcml2YXRlIF9jb25maWdMaXN0OiBhbnlbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfY2ZnTGlzdE9iajogYW55O1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpICB7XHJcbiAgICAgICAgc3VwZXIobnVsbCwgXCJDb25maWdNYW5hZ2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBMb2FkQ29uZmlnKHBIYW5kbGU6IExheWEuSGFuZGxlcikgIHtcclxuICAgICAgICB0aGlzLl9sb2FkQ2FsbCA9IHBIYW5kbGU7XHJcbiAgICAgICAgTEUuQXNzZXRMb2FkZXIuTG9hZChcInJlc291cmNlcy9Db25maWcvQ29uZmlnTGlzdC5qc29uXCIsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLk9uTGlzdExvYWRlZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPbkxpc3RMb2FkZWQocExpc3RvYmopICB7XHJcbiAgICAgICAgdGhpcy5fY2ZnTGlzdE9iaiA9IHBMaXN0b2JqO1xyXG4gICAgICAgIHZhciBhc3NldHM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgdmFyIHRsaXN0ID0gdGhpcy5fY2ZnTGlzdE9iai5jb25maWdMaXN0O1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0bGlzdC5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgYXNzZXRzLnB1c2godGxpc3RbaW5kZXhdLmZpbGVQYXRoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTEUuQXNzZXRMb2FkZXIuTG9hZChhc3NldHMsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5PbkNmZ0xvYWRlZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPbkNmZ0xvYWRlZCgpICB7XHJcbiAgICAgICAgbGV0IHRjZmdsaXN0ID0gdGhpcy5fY29uZmlnTGlzdDtcclxuICAgICAgICBsZXQgdGxpc3QgPSB0aGlzLl9jZmdMaXN0T2JqLmNvbmZpZ0xpc3Q7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBlbG1lbnQgPSB0bGlzdFtpbmRleF07XHJcbiAgICAgICAgICAgIGxldCB0Y2ZnID0gTGF5YS5Mb2FkZXIuZ2V0UmVzKGVsbWVudC5maWxlUGF0aCk7XHJcbiAgICAgICAgICAgIHRjZmdsaXN0W2VsbWVudC5rZXldID0gdGNmZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9sb2FkQ2FsbCAhPSBudWxsKVxyXG4gICAgICAgICAgICB0aGlzLl9sb2FkQ2FsbC5ydW4oKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEdldENvbmZpZyhrZXk6c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGxldCB0Y2ZnbGlzdCA9IHRoaXMuX2NvbmZpZ0xpc3Q7XHJcbiAgICAgICAgaWYodGNmZ2xpc3Rba2V5XSA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnQgbm90IGZvdW5kIGNvbmZpZy5rZXkgPSBcIiArIGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGNmZ2xpc3Rba2V5XTtcclxuICAgIH1cclxuXHJcbn0iLCJcclxuaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuLi9HYW1lQ29yZVwiO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuLi9TdGF0ZS9TdGF0ZUJhc2VcIjtcclxuaW1wb3J0IHsgTWFuYWdlcnMgfSBmcm9tIFwiLi9CYXNlTWFuYWdlclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRlTWFuYWdlciBleHRlbmRzIE1hbmFnZXJzLkJhc2VNYW5hZ2VyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQoKTogU3RhdGVNYW5hZ2VyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFN0YXRlTWFuYWdlcihudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgSW5pdCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfY3VyU3RhdGU6IFN0YXRlLlN0YXRlQmFzZTtcclxuICAgIHB1YmxpYyBnZXQgQ3VyU3RhdGUoKTogU3RhdGUuU3RhdGVCYXNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VyU3RhdGU7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKG5kOiBMYXlhLk5vZGUpIHtcclxuICAgICAgICBzdXBlcihuZCwgXCJTdGF0ZU1hbmFnZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEdvdG9TdGF0ZShzdGF0ZTogU3RhdGUuU3RhdGVCYXNlLHBEYXRhPzphbnkpIHtcclxuICAgICAgICB2YXIgdGxhc3QgPSB0aGlzLl9jdXJTdGF0ZTtcclxuICAgICAgICBMYXlhLmxvYWRlci5jbGVhclVuTG9hZGVkKCk7Ly/lv4Xpobvnoa7kv53liIfmjaLliY3msqHmnInmraPlnKjliqDovb3nmoTotYTmupAu5ZCm5YiZ5Lya5pyJ5YaF5a2Y6Zeu6aKYXHJcbiAgICAgICAgaWYgKHRsYXN0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHRsYXN0Lm5hbWUgPT0gc3RhdGUubmFtZSB8fCB0bGFzdC5TdGF0ZSA9PSBTdGF0ZS5TdGF0ZVR5cGUub25FbnRlcilcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGxhc3QuT25FeGl0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2N1clN0YXRlID0gc3RhdGU7XHJcbiAgICAgICAgc3RhdGUuT25FbnRlcihMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMuT25DdXJTdGF0ZUxvYWRlZCkscERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBPbkN1clN0YXRlTG9hZGVkKCkgIHtcclxuICAgICAgICAvLyBpZiAodGhpcy5fbGFzdFN0YXRlICE9IG51bGwpXHJcbiAgICAgICAgLy8gICAgIHRoaXMuX2xhc3RTdGF0ZS5PbkV4aXQoKTtcclxuICAgICAgICBMYXlhLlJlc291cmNlLmRlc3Ryb3lVbnVzZWRSZXNvdXJjZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlKGR0OiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgdGN1ciA9IHRoaXMuX2N1clN0YXRlO1xyXG4gICAgICAgIGlmICh0Y3VyICE9IG51bGwgJiYgdGN1ci5TdGF0ZSA9PSBTdGF0ZS5TdGF0ZVR5cGUuTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRjdXIuVXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVwZGF0ZURhdGEoKSB7XHJcbiAgICAgICAgdmFyIHRjdXIgPSB0aGlzLl9jdXJTdGF0ZTtcclxuICAgICAgICBpZiAodGN1ciAhPSBudWxsICYmIHRjdXIuU3RhdGUgPT0gU3RhdGUuU3RhdGVUeXBlLkxvYWRlZCkge1xyXG4gICAgICAgICAgICB0Y3VyLlVwZGF0ZURhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuLi9HYW1lQ29yZVwiO1xyXG5pbXBvcnQgVUlCYXNlIGZyb20gXCIuLi91aS9VSUJhc2VcIjtcclxuaW1wb3J0IHsgTEUgfSBmcm9tIFwiLi4vTGl0RW5naW5lL0xFXCI7XHJcbmltcG9ydCB7IE1hbmFnZXJzIH0gZnJvbSBcIi4vQmFzZU1hbmFnZXJcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNYW5hZ2VyIGV4dGVuZHMgTWFuYWdlcnMuQmFzZU1hbmFnZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXQoKTogVUlNYW5hZ2VyIHtcclxuICAgICAgICB2YXIgdG5vZGUgPSBHYW1lQ29yZS5Db3JlLmxheWVyVUkuYWRkQ2hpbGQobmV3IExheWEuU3ByaXRlKCkpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIHRub2RlLm5hbWUgPSBcIlVJbWFuYWdlck5vZGVcIjtcclxuICAgICAgICByZXR1cm4gbmV3IFVJTWFuYWdlcih0bm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEluaXQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3VpTGlzdDogVUlCYXNlW10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSB1aVBhdGg6IHN0cmluZyA9IFwiVUkvXCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdWlMYXN0TmFtZTogc3RyaW5nID0gXCIuc2NlbmVcIjtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IobmQ6IExheWEuTm9kZSkge1xyXG4gICAgICAgIHN1cGVyKG5kLCBcIlVJTWFuYWdlclwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIExvYWRDb21wbGV0ZShwTmFtZSwgbWV0aG9kOiBMYXlhLkhhbmRsZXIsIHBVSSkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcztcclxuICAgICAgICBpZiAocFVJID09IG51bGwpIHtcclxuICAgICAgICAgICAgTEUuRExvZy5Mb2dFcnJvcihwTmFtZSArIFwiIGZhaWxlLnBsZWFzZSB0cnkgYWdhaW4uXCIpO1xyXG4gICAgICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZC5ydW5XaXRoKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHR1aTogVUlCYXNlID0gcFVJLmdldENvbXBvbmVudChVSUJhc2UpO1xyXG4gICAgICAgIGlmICh0dWkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2FudCBmb3VuZCB1aWJhc2Ugb24gXCIgKyBwTmFtZSArIFwiLnBsZWFzZSBjaGVjayB5b3VyIHNjZW5lLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR1aS5wYXJlbnQgPSBwLl9ub2RlO1xyXG4gICAgICAgICAgICBwLl91aUxpc3RbcE5hbWVdID0gdHVpO1xyXG4gICAgICAgICAgICB0dWkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKG1ldGhvZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2QucnVuV2l0aCh0dWkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTaG93VUkodWlOYW1lOiBzdHJpbmcsIG1ldGhvZD86IExheWEuSGFuZGxlcikge1xyXG4gICAgICAgIHZhciBwID0gdGhpcztcclxuICAgICAgICBpZiAocC5fdWlMaXN0W3VpTmFtZV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB2YXIgdGZ1bGxwYXRobmFtZSA9IHAudWlQYXRoICsgdWlOYW1lICsgcC51aUxhc3ROYW1lO1xyXG4gICAgICAgICAgICBMYXlhLlNjZW5lLmxvYWQodGZ1bGxwYXRobmFtZSwgTGF5YS5IYW5kbGVyLmNyZWF0ZShwLCBwLkxvYWRDb21wbGV0ZSwgW3VpTmFtZSwgbWV0aG9kXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHR1aTogVUlCYXNlID0gcC5fdWlMaXN0W3VpTmFtZV07XHJcbiAgICAgICAgICAgIHR1aS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICBtZXRob2QucnVuV2l0aCh0dWkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgSGlkZVVJKHVpTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIHRtZ3IgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0dWk6IFVJQmFzZSA9IHRtZ3IuX3VpTGlzdFt1aU5hbWVdO1xyXG4gICAgICAgIGlmICh0dWkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0dWkuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBHZXRVSSh1aU5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBwID0gdGhpcztcclxuICAgICAgICBsZXQgcmV0OiBVSUJhc2UgPSBwLl91aUxpc3RbdWlOYW1lXTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBEZXN0b3J5VUkodWlOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgdG1nciA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHR1aTogVUlCYXNlID0gdG1nci5fdWlMaXN0W3VpTmFtZV07XHJcbiAgICAgICAgaWYgKHR1aSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRtZ3IuX3VpTGlzdFt1aU5hbWVdID0gbnVsbDtcclxuICAgICAgICAgICAgdHVpLmRlc3Ryb3lVSSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlRGF0YSgpIHtcclxuICAgICAgICB2YXIgdGxpc3QgPSB0aGlzLl91aUxpc3Q7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKHRsaXN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0bGlzdFtrZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT0gbnVsbCB8fCAhZWxlbWVudC5hY3RpdmUpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5VcGRhdGVEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluR2FtZU1vZHVsZSBpbXBsZW1lbnRzIEdhbWVNb2R1bGVCYXNlIHtcclxuICAgIEluaXQocENvbXBsZXRlPzogTGF5YS5IYW5kbGVyKSB7XHJcblxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfY2FsbEJhY2tIYW5kbGU6IExheWEuSGFuZGxlcjtcclxuICAgIGNvbnN0cnVjdG9yKHBTY05hbWU6IHN0cmluZykge1xyXG5cclxuICAgIH1cclxuICAgIHB1YmxpYyBHZXRTY2VuZSgpIHtcclxuXHJcbiAgICB9XHJcbiAgICAvLyNyZWdpb24gaW5pdFxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBydW5uaW5nXHJcbiAgICBwdWJsaWMgUnVuKCkge1xyXG4gICAgfVxyXG4gICAgcHVibGljIFBhdXNlKCkgeyB9XHJcbiAgICBwdWJsaWMgUmVzdW1lKCkgeyB9XHJcbiAgICBwdWJsaWMgRGVzdHJveSgpIHtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gdXBkYXRlXHJcbiAgICBwdWJsaWMgVXBkYXRlKGR0OiBudW1iZXIpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVwZGF0ZURhdGEoKSB7XHJcblxyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIGNhbGxcclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuXHJcbiAgICBwdWJsaWMgTW9kdWxlRXZlbnQocEV2ZW50RGF0YSkgIHtcclxuXHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuLi9HYW1lQ29yZVwiO1xyXG5pbXBvcnQgQmFzZVNjZW5lIGZyb20gXCIuLi9TY2VuZS9CYXNlU2NlbmVcIjtcclxuaW1wb3J0IEluR2FtZU1vZHVsZSBmcm9tIFwiLi4vTW9kdWxlL0luR2FtZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuL1N0YXRlQmFzZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluR2FtZVN0YXRlIGV4dGVuZHMgU3RhdGUuU3RhdGVCYXNlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihcIkluR2FtZVN0YXRlXCIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIE9uRW50ZXIoZnVuOiBMYXlhLkhhbmRsZXIscERhdGE/OmFueSkge1xyXG4gICAgICAgIHN1cGVyLk9uRW50ZXIoZnVuLHBEYXRhKTtcclxuICAgICAgICB0aGlzLl9tb2R1bGUgPSBuZXcgSW5HYW1lTW9kdWxlKFN0cmluZyhwRGF0YSkpO1xyXG4gICAgICAgIHRoaXMuX21vZHVsZS5Jbml0KExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5PbkdhbWVMb2FkZWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgT25HYW1lTG9hZGVkKG9iaikgIHtcclxuICAgICAgICB0aGlzLk9uTG9hZGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIE9uRXhpdCgpIHtcclxuICAgICAgICBzdXBlci5PbkV4aXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgT25Mb2FkZWQoKSAge1xyXG4gICAgICAgIHN1cGVyLk9uTG9hZGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVwZGF0ZShkdDogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIuVXBkYXRlKGR0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlRGF0YSgpIHtcclxuICAgICAgICBzdXBlci5VcGRhdGVEYXRhKCk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IEdhbWVDb3JlIGZyb20gXCIuLi9HYW1lQ29yZVwiO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuL1N0YXRlQmFzZVwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluU3RhdGUgZXh0ZW5kcyBTdGF0ZS5TdGF0ZUJhc2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoXCJNYWluU3RhdGVcIik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgT25FbnRlcihmdW46IExheWEuSGFuZGxlcixwRGF0YT86YW55KSB7XHJcbiAgICAgICAgc3VwZXIuT25FbnRlcihmdW4scERhdGEpO1xyXG5cclxuICAgICAgICBHYW1lQ29yZS5tZ3JVSS5TaG93VUkoXCJVSU1haW5cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuT25Mb2FkZWQoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIE9uRXhpdCgpIHtcclxuICAgICAgICBHYW1lQ29yZS5tZ3JVSS5EZXN0b3J5VUkoXCJVSU1haW5cIik7XHJcbiAgICAgICAgc3VwZXIuT25FeGl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIE9uTG9hZGVkKCkgIHtcclxuICAgICAgICBzdXBlci5PbkxvYWRlZCgpO1xyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBtb2R1bGUgU3RhdGUge1xyXG4gICAgZXhwb3J0IGVudW0gU3RhdGVUeXBlIHtcclxuICAgICAgICBub25lID0gMCxcclxuICAgICAgICBvbkVudGVyLFxyXG4gICAgICAgIG9uRXhpdCxcclxuICAgICAgICBMb2FkZWQsXHJcbiAgICB9XHJcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgU3RhdGVCYXNlIGltcGxlbWVudHMgSVVwZGF0ZSB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuICAgICAgICBwcm90ZWN0ZWQgX3N0YXRlOiBTdGF0ZVR5cGUgPSBTdGF0ZVR5cGUubm9uZTtcclxuICAgICAgICBwcm90ZWN0ZWQgX21vZHVsZTogR2FtZU1vZHVsZUJhc2U7XHJcbiAgICAgICAgcHVibGljIGdldCBDdXJNb2R1bGUoKTogR2FtZU1vZHVsZUJhc2UgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vZHVsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvdGVjdGVkIF9vbkxvYWRlZDogTGF5YS5IYW5kbGVyO1xyXG4gICAgICAgIHB1YmxpYyBnZXQgU3RhdGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3RydWN0b3IobnN0cjogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5zdHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBPbkVudGVyKGZ1bjogTGF5YS5IYW5kbGVyLCBwRGF0YT86IGFueSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlVHlwZS5vbkVudGVyO1xyXG4gICAgICAgICAgICB0aGlzLl9vbkxvYWRlZCA9IGZ1bjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBPbkV4aXQoKSB7XHJcbiAgICAgICAgICAgIHZhciB0bW9kdWxlID0gdGhpcy5fbW9kdWxlO1xyXG4gICAgICAgICAgICBpZiAodG1vZHVsZSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdG1vZHVsZS5EZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gU3RhdGVUeXBlLm9uRXhpdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBPbkxvYWRlZCgpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBTdGF0ZVR5cGUuTG9hZGVkO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25Mb2FkZWQgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uTG9hZGVkLnJ1bigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFVwZGF0ZShkdDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHZhciB0bW9kdWxlID0gdGhpcy5fbW9kdWxlO1xyXG4gICAgICAgICAgICBpZiAodG1vZHVsZSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdG1vZHVsZS5VcGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFVwZGF0ZURhdGEoKSB7XHJcbiAgICAgICAgICAgIHZhciB0bW9kdWxlID0gdGhpcy5fbW9kdWxlO1xyXG4gICAgICAgICAgICBpZiAodG1vZHVsZSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdG1vZHVsZS5VcGRhdGVEYXRhKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJQmFzZSBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgX3BhcmVudCA6TGF5YS5Ob2RlO1xyXG4gICAgcHVibGljIGdldCBwYXJlbnQoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzZXQgcGFyZW50KHZhbHVlOkxheWEuTm9kZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9wYXJlbnQgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2FjdGl2ZSA6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgYWN0aXZlKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgYWN0aXZlKHZhbHVlIDogYm9vbGVhbilcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9hY3RpdmUgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoIXZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucGFyZW50ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5hZGRDaGlsZCh0aGlzLm93bmVyKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBcclxuICAgICAgICBzdXBlcigpOyBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IG5vZGVTY2VuZSgpIDogTGF5YS5TY2VuZXtcclxuICAgICAgICByZXR1cm4gdGhpcy5vd25lciBhcyBMYXlhLlNjZW5lO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgZGVzdHJveVVJKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm93bmVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVXBkYXRlRGF0YSgpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBVSUJhc2UgZnJvbSBcIi4vVUlCYXNlXCI7XHJcbmltcG9ydCBHYW1lQ29yZSBmcm9tIFwiLi4vR2FtZUNvcmVcIjtcclxuaW1wb3J0IEluR2FtZVN0YXRlIGZyb20gXCIuLi9TdGF0ZS9JbkdhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgTWFpblN0YXRlIGZyb20gXCIuLi9TdGF0ZS9NYWluU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTWFpbiBleHRlbmRzIFVJQmFzZSB7XHJcbiAgICBwdWJsaWMgIGJhY2tidG46TGF5YS5CdXR0b247XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgIH1cclxuXHJcblxyXG4gICAgb25Bd2FrZSgpOnZvaWRcclxuICAgIHtcclxuICAgICAgIHRoaXMuYmFja2J0biA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJiYWNrYnRuXCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHRoaXMuYmFja2J0bi5vbihsYXlhLmV2ZW50cy5FdmVudC5DTElDSywgdGhpcywgZnVuY3Rpb24gKCkgeyBcclxuICAgICAgICAgICAgR2FtZUNvcmUubWdyU3RhdGUuR290b1N0YXRlKG5ldyBNYWluU3RhdGUoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVUlCYXNlIGZyb20gXCIuL1VJQmFzZVwiO1xyXG5pbXBvcnQgR2FtZUNvcmUgZnJvbSBcIi4uL0dhbWVDb3JlXCI7XHJcbmltcG9ydCBJbkdhbWVTdGF0ZSBmcm9tIFwiLi4vU3RhdGUvSW5HYW1lU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTWFpbiBleHRlbmRzIFVJQmFzZSB7XHJcbiAgICBwdWJsaWMgIHRlc3RidXR0b246TGF5YS5CdXR0b247XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgIH1cclxuXHJcblxyXG4gICAgb25Bd2FrZSgpOnZvaWRcclxuICAgIHtcclxuICAgICAgIHRoaXMudGVzdGJ1dHRvbiA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ0ZXN0YnV0dG9uXCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHZhciB0ZXN0Y291bnQgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudGVzdGJ1dHRvbi5vbihsYXlhLmV2ZW50cy5FdmVudC5DTElDSywgdGhpcywgZnVuY3Rpb24gKCkgeyBcclxuICAgICAgICAgICAgR2FtZUNvcmUubWdyU3RhdGUuR290b1N0YXRlKG5ldyBJbkdhbWVTdGF0ZSgpLFwiMTAwMVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgIH1cclxufSJdfQ==
